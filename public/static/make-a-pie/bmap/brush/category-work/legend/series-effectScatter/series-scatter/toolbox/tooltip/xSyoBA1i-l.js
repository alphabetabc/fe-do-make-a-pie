var uploadedDataURL="/asset/get/s/data-1479372708751-SJpo1lsbl.txt";function convertData(e){return[].concat.apply([],$.map(e,function(t,r){return{name:t.stopName,value:[t.jingdu,t.weidu,Math.random()*100,Math.random()*100]}}))}var option={bmap:{roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#031628"}},{featureType:"land",elementType:"geometry",stylers:{color:"#000102"}},{featureType:"highway",elementType:"all",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#0b3d51"}},{featureType:"local",elementType:"geometry",stylers:{color:"#000000"}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#08304b"}},{featureType:"subway",elementType:"geometry",stylers:{lightness:-70}},{featureType:"building",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"all",elementType:"labels.text.fill",stylers:{color:"#857f7f"}},{featureType:"all",elementType:"labels.text.stroke",stylers:{color:"#000000"}},{featureType:"building",elementType:"geometry",stylers:{color:"#022338"}},{featureType:"green",elementType:"geometry",stylers:{color:"#062032"}},{featureType:"boundary",elementType:"all",stylers:{color:"#465b6c"}},{featureType:"manmade",elementType:"all",stylers:{color:"#022338"}},{featureType:"label",elementType:"all",stylers:{visibility:"off"}}]}},tooltip:{trigger:"item"},legend:{selectedMode:"single",orient:"vertical",y:"bottom",x:"right",data:["热门出行站点","热门换乘站点"],textStyle:{color:"#fff"}},series:[{name:"热门出行站点",type:"scatter",coordinateSystem:"bmap",symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#a6c84c"}}},{name:"热门出行站点",type:"effectScatter",coordinateSystem:"bmap",symbolSize:function(e){return e[2]/5},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#9FC33D",shadowBlur:10,shadowColor:"#333"}},zlevel:1},{name:"热门换乘站点",type:"scatter",coordinateSystem:"bmap",symbolSize:function(e){return e[3]/10},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#ffa022"}}},{name:"热门换乘站点",type:"effectScatter",coordinateSystem:"bmap",symbolSize:function(e){return e[3]/5},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#FF960D",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]};$.getJSON(uploadedDataURL,function(e){var t=convertData(e);option.series[0].data=t,option.series[1].data=t.sort(function(l,o){return o.value[2]-l.value[2]}).slice(0,10),option.series[2].data=t,option.series[3].data=t.sort(function(l,o){return o.value[3]-l.value[3]}).slice(0,10),myChart.setOption(option);var r=myChart.getModel().getComponent("bmap").getBMap();r.disableDoubleClickZoom(),r.centerAndZoom("佛山",13)});
