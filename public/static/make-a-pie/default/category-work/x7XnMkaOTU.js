var nameColor=" rgb(55, 75, 113)",name_fontFamily="等线",subname_fontSize=15,name_fontSize=18,mapName="china",data=[{name:"青海",value:85.7},{name:"江苏",value:77.6},{name:"北京",value:64.8},{name:"浙江",value:58.4},{name:"安徽",value:47.1},{name:"河北",value:43.1},{name:"内蒙古",value:38.5},{name:"黑龙江",value:37.5},{name:"广东",value:35.4},{name:"云南",value:32.8},{name:"湖南",value:32.8},{name:"四川",value:32.1},{name:"辽宁",value:31.4},{name:"江西",value:29.2},{name:"陕西",value:26.9},{name:"重庆",value:26.2},{name:"山东",value:23.9},{name:"福建",value:20.1},{name:"天津",value:19.3},{name:"新疆",value:15.3},{name:"河南",value:14.9},{name:"广西",value:6.9},{name:"上海",value:4.8}],geoCoordMap={};myChart.showLoading();var mapFeatures=echarts.getMap(mapName).geoJson.features;myChart.hideLoading(),mapFeatures.forEach(function(e){var a=e.properties.name;geoCoordMap[a]=e.properties.cp});for(var yData=[],barData=[],max=480,min=9,maxSize4Pin=100,minSize4Pin=20,i=0;i<10;i++)barData.push(data[i]),yData.push(i+data[i].name);var convertData=function(e){for(var a=[],o=0;o<e.length;o++){var t=geoCoordMap[e[o].name];t&&a.push({name:e[o].name,value:t.concat(e[o].value)})}return a};option={title:[{show:!0,text:"各省平均标本量排名TOP10",textStyle:{color:"#2D3E53",fontSize:15},right:60,top:100}],tooltip:{show:!0,formatter:function(e){return e.name+"："+e.data.value}},visualMap:{type:"continuous",orient:"horizontal",itemWidth:10,itemHeight:100,text:["高","低"],showLabel:!0,seriesIndex:[0],min:0,max:100,inRange:{color:["#fff","#fff","#fff"]},textStyle:{color:"#7B93A7"},bottom:30,left:"left",show:!0},grid:{right:10,top:135,bottom:100,width:"20%"},xAxis:{show:!1},yAxis:{type:"category",inverse:!0,nameGap:16,axisLine:{show:!1,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,margin:85,textStyle:{color:"#455A74",align:"left",fontSize:14},rich:{a:{color:"#fff",backgroundColor:"#FAAA39",width:20,height:20,align:"center",borderRadius:2},b:{color:"#fff",backgroundColor:"#4197FD",width:20,height:20,align:"center",borderRadius:2}},formatter:function(e){return parseInt(e.slice(0,1))<3?["{a|"+(parseInt(e.slice(0,1))+1)+"}  "+e.slice(1)].join(`
`):["{b|"+(parseInt(e.slice(0,1))+1)+"}  "+e.slice(1)].join(`
`)}},data:yData},geo:{map:"china",left:"left",right:"300",label:{normal:{show:!0,fontSize:"8",color:"rgba(0,0,0,0.7)"}},itemStyle:{emphasis:{areaColor:"#fff464"}}},series:[{type:"map",map:mapName,geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!1,textStyle:{color:"#562012"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var a=(maxSize4Pin-minSize4Pin)/(max-min),o=minSize4Pin-a*min;return o=maxSize4Pin-a*max,a*e[2]+o},label:{normal:{show:!0,textStyle:{color:"#e93f58",fontSize:20,fontWeight:"bold"}}},itemStyle:{normal:{color:"#fff"}},zlevel:6,data:convertData(data)},{name:"barSer",type:"bar",roam:!1,visualMap:!1,zlevel:2,barMaxWidth:8,barGap:0,label:{normal:{show:!0,textStyle:{color:"#1b221f",fontSize:16}}},itemStyle:{normal:{color:function(e){var a=[{colorStops:[{offset:0,color:"#FFD119"},{offset:1,color:"#FFAC4C"}]},{colorStops:[{offset:0,color:"#00C0FA"},{offset:1,color:"#2F95FA"}]}];return e.dataIndex<3?a[0]:a[1]},barBorderRadius:15}},data:barData}]},myChart.setOption(option);
