myChart.showLoading(),$.get("data/asset/data/life-expectancy.json",function(t){myChart.hideLoading();var a={normal:{opacity:.8,shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},r=function(e){var n=Math.sqrt(e/5e8)+.1;return n*80},o=[{name:"Income",index:0,text:"人均收入",unit:"美元"},{name:"LifeExpectancy",index:1,text:"人均寿命",unit:"岁"},{name:"Population",index:2,text:"总人口",unit:""},{name:"Country",index:3,text:"国家",unit:""}];option={baseOption:{timeline:{axisType:"category",orient:"vertical",autoPlay:!0,inverse:!0,playInterval:1e3,left:null,right:0,top:20,bottom:20,width:55,height:null,label:{normal:{textStyle:{color:"#999"}},emphasis:{textStyle:{color:"#fff"}}},symbol:"none",lineStyle:{color:"#555"},checkpointStyle:{color:"#bbb",borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!1,showPrevBtn:!1,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}},data:[]},backgroundColor:"#404a59",title:[{text:t.timeline[0],textAlign:"center",left:"63%",top:"55%",textStyle:{fontSize:100,color:"rgba(255, 255, 255, 0.7)"}},{text:"各国人均寿命与GDP关系演变",left:"center",top:10,textStyle:{color:"#aaa",fontWeight:"normal",fontSize:20}}],tooltip:{padding:5,backgroundColor:"#222",borderColor:"#777",borderWidth:1,formatter:function(e){var n=e.value;return o[3].text+"："+n[3]+"<br>"+o[1].text+"："+n[1]+o[1].unit+"<br>"+o[0].text+"："+n[0]+o[0].unit+"<br>"+o[2].text+"："+n[2]+"<br>"}},grid:{top:100,containLabel:!0,left:30,right:"110"},xAxis:{type:"log",name:"人均收入",max:1e5,min:300,nameGap:25,nameLocation:"middle",nameTextStyle:{fontSize:18},splitLine:{show:!1},axisLine:{lineStyle:{color:"#ccc"}},axisLabel:{formatter:"{value} $"}},yAxis:{type:"value",name:"平均寿命",max:100,nameTextStyle:{color:"#ccc",fontSize:18},axisLine:{lineStyle:{color:"#ccc"}},splitLine:{show:!1},axisLabel:{formatter:"{value} 岁"}},visualMap:[{show:!1,dimension:3,categories:t.counties,calculable:!0,precision:.1,textGap:30,textStyle:{color:"#ccc"},inRange:{color:function(){var e=["#bcd3bb","#e88f70","#edc1a5","#9dc5c8","#e1e8c8","#7b7c68","#e5b5b5","#f0b489","#928ea8","#bda29a"];return e.concat(e)}()}}],series:[{type:"scatter",itemStyle:a,data:t.series[0],symbolSize:function(e){return r(e[2])}}],animationDurationUpdate:1e3,animationEasingUpdate:"quinticInOut"},options:[]};for(var i=0;i<t.timeline.length;i++)option.baseOption.timeline.data.push(t.timeline[i]),option.options.push({title:{show:!0,text:t.timeline[i]+""},series:{name:t.timeline[i],type:"scatter",itemStyle:a,data:t.series[i],symbolSize:function(e){return r(e[2])}}});myChart.setOption(option)});
