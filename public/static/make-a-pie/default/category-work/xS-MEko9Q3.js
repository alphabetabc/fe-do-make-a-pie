var series=[],worldMap=echarts.getMap("world");option={backgroundColor:"green",tooltip:{trigger:"item",backgroundColor:"#1540a1",borderColor:"#FFFFCC",showDelay:0,hideDelay:0,enterable:!0,transitionDuration:0,extraCssText:"z-index:100",formatter:function(f,o,d){var s="",h=f.name,t=f.value[f.seriesIndex+1];return s="<span style='color:#fff;'>"+h+"</span><br/>数据："+t,s}},series:[{name:"xxx2",type:"map",map:"nWorld",roam:!1,left:0,top:20,right:0,bottom:20,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{areaColor:"#eee",show:"true",borderColor:"red",borderWidth:1,emphasis:{show:"true",color:"rgba(37, 43, 61, .5)"}}},{name:"xxx3",type:"map",map:"nWorld",roam:!1,left:0,top:20,right:0,bottom:20,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{areaColor:"#000",show:"true",borderColor:"green",borderWidth:1,emphasis:{show:"true",color:"rgba(37, 43, 61, .5)"}},blendMode:"xor"}]};function renderItem(f,o){var d=[];function s(i){}const h=document.createElement("canvas");h.width=myChart.getWidth(),h.height=myChart.getHeight(),h.style.width=`${myChart.getWidth()/devicePixelRatio}px`,h.style.height=`${myChart.getHeight()/devicePixelRatio}px`;var t=h.getContext("2d"),l=i=>{var r=document.createElement("canvas");r.width=myChart.getWidth(),r.height=myChart.getHeight(),r.style.width=`${myChart.getWidth()/devicePixelRatio}px`,r.style.height=`${myChart.getHeight()/devicePixelRatio}px`;var e=r.getContext("2d");document.body.appendChild(r),c(e,i),e.fill(),e.globalCompositeOperation="xor",e.fill(),e.shadowColor="red",e.shadowBlur=12,e.fill(),e.globalCompositeOperation="source-in",e.fillStyle="red",e.fillRect(0,0,myChart.getWidth(),myChart.getHeight()),e.globalCompositeOperation="destination-in",e.fill(),t.drawImage(r,0,0),document.body.removeChild(r)};function c(i,r){i.beginPath();var e=o.coord(r[0]);i.moveTo(e[0],e[1]);for(var a=1;a<r.length;)e=o.coord(r[a]),i.lineTo(e[0],e[1]),a++;i.closePath()}return{type:"image",style:{image:h}}}var splitLatitude=-170,str=JSON.stringify(worldMap),worldMapCopy=JSON.parse(str),worldMapCopy2=JSON.parse(str);function transformCoord(f){return f}worldMapCopy.geoJson.features.forEach((f,o)=>{f.geometry.coordinates.forEach((d,s)=>{var h=!1;d.every((t,l)=>{if(typeof t[0]=="number"){var c=t[0],i=c<splitLatitude?360+c:c;if(worldMapCopy.geoJson.features[o].geometry.coordinates[s][l][0]=i,worldMapCopy2.geoJson.features[o].geometry.coordinates[s][l]=[i,t[1]],i!==c)return h=!0,!1}else{var r=!1;t.every((e,a)=>{var g=e[0],u=g<splitLatitude?360+g:g;return worldMapCopy.geoJson.features[o].geometry.coordinates[s][l][a][0]=u,worldMapCopy2.geoJson.features[o].geometry.coordinates[s][l][a]=[u,e[1]],u!=g?(r=!0,!1):!0}),r&&t.forEach((e,a)=>{var g=e[0]<0?360+e[0]:e[0];worldMapCopy.geoJson.features[o].geometry.coordinates[s][l][a][0]=g,worldMapCopy2.geoJson.features[o].geometry.coordinates[s][l][a]=[g,e[1]]})}return!0}),h&&d.forEach((t,l)=>{if(typeof t[0]=="number"){var c=t[0]<0?360+t[0]:t[0];worldMapCopy.geoJson.features[o].geometry.coordinates[s][l][0]=c,worldMapCopy2.geoJson.features[o].geometry.coordinates[s][l]=[c,t[1]]}else{var i=!1;t.every((r,e)=>{var a=r[0],g=a<splitLatitude?360+a:a;return worldMapCopy.geoJson.features[o].geometry.coordinates[s][l][e][0]=g,worldMapCopy2.geoJson.features[o].geometry.coordinates[s][l][e]=[g,r[1]],g!=a?(i=!0,!1):!0}),i&&t.forEach((r,e)=>{var a=r[0]<0?360+r[0]:r[0];worldMapCopy.geoJson.features[o].geometry.coordinates[s][l][e][0]=a,worldMapCopy2.geoJson.features[o].geometry.coordinates[s][l][e]=[a,r[1]]})}})})}),echarts.registerMap("nWorld",worldMapCopy),echarts.registerMap("n2World",worldMapCopy2);function getBoundingRect(){var f=myChart.getModel().getSeriesByIndex(option.series.length-1),o=f.coordinateSystem;return o.getBoundingRect()}
