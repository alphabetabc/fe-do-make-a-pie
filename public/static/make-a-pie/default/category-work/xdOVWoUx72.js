var datas=[.2,.3,.25,.25,.25,.25,.3,.2],calPrefixSum=e=>{let t=0;for(let o=0;o<e;o++)t+=datas[o];return t};function renderItem(e,t){console.log({params:e,api:t});const o=t.coord([0,1-calPrefixSum(e.dataIndexInside)]),r=t.size([1,t.value(0)]);console.log({size:r,coord:o});var i=echarts.graphic.clipRectByRect({x:o[0],y:o[1],width:r[0],height:r[1]},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return i&&{type:"rect",shape:i,style:{fill:"#fff"},styleEmphasis:{fill:"#eee"}}}const option={tooltip:{},title:{text:"Profile",left:"center"},dataZoom:[{type:"slider",yAxisIndex:0,left:75,showDataShadow:!1,showDetail:!1,filterMode:"empty",width:10,backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",fillerColor:"rgba(0, 0, 255, 0.1)",dataBackgroundColor:"rgba(0, 0, 0, 0)"}],grid:{borderWidth:1,show:!0,borderColor:"#BFBFBF",backgroundColor:"#fff",left:80,zlevel:0},xAxis:[{type:"value",max:1,zlevel:1,splitNumber:1,axisLine:{show:!0,lineStyle:{type:"dashed",color:"#BFBFBF"}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}}],yAxis:[{type:"value",min:-1,max:1,zlevel:1,minInterval:.05,maxInterval:.05,splitNumber:40,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!0,formatter:(e,t)=>e===1||e===.8||e===.5||e===.25||e===0||e===-.25||e===-.5||e===-.8||e===-1?e:""}}],series:[{type:"custom",renderItem,data:new Array(8).fill(void 0).map((e,t)=>({name:`bar${t}`,value:datas[t]}))}]},echartDiv=document.createElement("div"),echartIns=echarts.init(echartDiv,"yunting_multi_color",{width:700,height:500});document.body.appendChild(echartDiv),echartIns.setOption(option);
