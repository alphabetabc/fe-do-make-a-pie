var uploadedDataURL="/asset/get/s/data-1495284690309-Bk9Ro3Te-.json",t_pos={left:0,top:0},last_point=[0,0],counter=0;if(myChart.showLoading(),myChart.setOption(option={title:{x:"right",text:"上海房价可视化",subtext:"随机抽样10000个,数据提取自链家",textStyle:{color:"#000",fontSize:30}},tooltip:{trigger:"item",transitionDuration:0,position:function(t,n,a,l,p){var e=20,o=30,r=30;if(Math.abs(t[0]-last_point[0])<e&&Math.abs(t[1]-last_point[1])<e&&counter>=2)return t_pos;if((Math.abs(t[0]-last_point[0])>=e||Math.abs(t[1]-last_point[1])>=e)&&(counter=0),counter+=1,counter==1&&(t_pos.left=t[0]+o,t_pos.top=t[1]+r,last_point=[t[0],t[1]]),counter==2){var s=$(a).position().left,i=$(a).position().top;t_pos.left+=t[0]-s+o,t_pos.top+=t[1]-i+r}return t_pos},formatter:function(t){return t.name+" : "+t.value[2]+"元/平方米"}},bmap:{center:[121.4693,31.12307],zoom:11,roam:!0},visualMap:{top:"5%",splitNumber:5,min:0,max:10,seriesIndex:0,calculable:!0,inRange:{color:["green","#eac736","#d94e5d"]},textStyle:{color:"#000",formatter:"aaaa{value}bbbb{value2}"}},series:[{type:"scatter",coordinateSystem:"bmap",symbolSize:8,label:{normal:{show:!1},emphasis:{show:!1}}}]}),!app.inNode){var bmap=myChart.getModel().getComponent("bmap").getBMap();bmap.addControl(new BMap.MapTypeControl)}option&&typeof option=="object"&&myChart.setOption(option,!0),$.getJSON(uploadedDataURL,function(t){myChart.hideLoading(),myChart.setOption({visualMap:{max:t[1]},series:[{data:t[0]}]})});
