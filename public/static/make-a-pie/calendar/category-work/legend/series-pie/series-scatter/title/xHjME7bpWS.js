var cellSize=[100,100],customradius=[30,32],dataX=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];function getVirtulData(){for(var e=+echarts.number.parseDate("2017-02-01"),t=+echarts.number.parseDate("2017-03-01"),o=3600*24*1e3,r=[],a=e;a<t;a+=o)r.push([echarts.format.formatTime("yyyy-MM-dd",a),Math.floor(Math.random()*1e4)]);return r}var scatterData=getVirtulData();let seriesData=[{id:"label",type:"scatter",coordinateSystem:"calendar",symbolSize:1,label:{show:!1},data:scatterData}];function getcustomDay(e){return e.substr(8,e.length)}function getPieSeries(){scatterData.map(function(e,t){var o=myChart.convertToPixel("calendar",e),r,a,l;l=getcustomDay(e[0]),console.log(l),e[1]<2e3?(r="良好",a="rgba(140,198,63)"):e[1]<4e3?(r="轻度",a="rgba(247,147,30,0.35)"):e[1]<6e3?(r="中度",a="rgba(247,147,30,0.6)"):e[1]<8e3?(r="中重度",a="rgba(247,147,30)"):(r="重度",a="rgba(255,0,0,0.7)");let n={id:t+"pie",type:"pie",center:o,radius:customradius,label:{normal:{formatter:"{c}",position:"center",fontSize:"13"}},data:[{name:r,legendHoverLink:!1,hoverAnimation:!1,value:l,itemStyle:{color:a}}]};seriesData.push(n)})}var color1="#0a0b58",color2="red";option={backgroundColor:"#ffffff",title:{text:"月状况分布"},legend:{color:"red",data:[{name:"良好"},{name:"轻度"},{name:"中度"},{name:"中重度"},{name:"重度"}],bottom:80,textStyle:{color:"green"}},calendar:{top:"middle",left:"center",orient:"vertical",cellSize,yearLabel:{show:!0,margin:40,color:"#7fb93c",formatter:function(e){return console.log(e),e.start+"年     2 月"}},dayLabel:{firstDay:1,margin:5,color:"gray",nameMap:dataX},monthLabel:{show:!1},splitLine:{show:!1},itemStyle:{color:"rgba(0,0,0,0)",borderWidth:1,borderColor:"rgba(0,0,0,0)"},range:["2017-02"]},series:seriesData},setTimeout(function(){getPieSeries(),myChart.setOption(option),console.log(option)},10);
