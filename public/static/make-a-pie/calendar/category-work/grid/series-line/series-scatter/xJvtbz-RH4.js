var cellSize=[100,80];function getVirtulData(){for(var e=+echarts.number.parseDate("2017-03-01"),a=+echarts.number.parseDate("2017-04-01"),r=3600*24*1e3,t=[],n=e;n<a;n+=r)t.push([echarts.format.formatTime("yyyy-MM-dd",n),Math.floor(Math.random()*1e4)]);return t}function getLineSeries(e,a){return echarts.util.map(e,function(r,t){return center=a.convertToPixel("calendar",r),{type:"line",id:t+"line",label:{normal:{formatter:"{c}"}},itemStyle:{normal:{color:"#80bcec",borderWidth:1,lineStyle:{color:"#80bcec"}}},xAxisIndex:t,yAxisIndex:t,data:[{name:"0",value:4},{name:"1",value:3},{name:"2",value:4},{name:"0",value:0},{name:"1",value:3},{name:"2",value:4},{name:"0",value:0},{name:"1",value:3},{name:"2",value:4}]}})}function getgrid(e,a){return echarts.util.map(e,function(r,t){return center=a.convertToPixel("calendar",r),console.log(center[0]),{left:center[0]-50,top:center[1],width:"100",height:"30"}})}function getxaxis(e,a){return echarts.util.map(e,function(r,t){return center=a.convertToPixel("calendar",r),{type:"category",name:"time",gridIndex:t,boundaryGap:!1,show:!1}})}function getyaxis(e,a){return echarts.util.map(e,function(r,t){return center=a.convertToPixel("calendar",r),{type:"value",name:"height",gridIndex:t,show:!1}})}function getLineSeriesUpdate(e,a){return echarts.util.map(e,function(r,t){var n=a.convertToPixel("calendar",r);return{id:t+"line",center:n}})}var scatterData=getVirtulData();option={calendar:{top:"middle",left:"center",orient:"vertical",cellSize,yearLabel:{show:!1,textStyle:{fontSize:30}},dayLabel:{margin:20,firstDay:1,nameMap:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},monthLabel:{show:!1},range:["2017-03"]},series:[{id:"label",type:"scatter",coordinateSystem:"calendar",symbolSize:1,label:{normal:{show:!0,formatter:function(e){return echarts.format.formatTime("dd",e.value[0])},offset:[-cellSize[0]/2+10,-cellSize[1]/2+10],textStyle:{color:"#000",fontSize:14}}},data:scatterData}]},setTimeout(function(){myChart.setOption({series:getLineSeries(scatterData,myChart),grid:getgrid(scatterData,myChart),xAxis:getxaxis(scatterData,myChart),yAxis:getyaxis(scatterData,myChart)})},10);
