$.getJSON("/asset/get/s/data-1524056463493-H1PcbpN2z.json",function(o){var s=o.map(function(t){return{type:"Feature",properties:{name:Math.random().toString(),height:t.height||100},geometry:{type:"Polygon",coordinates:[t.polygon]}}}),r=s.map(function(t){return{name:t.properties.name,value:Math.random()*1,height:t.properties.height,coords:t.geometry.coordinates}});$.getJSON("/asset/get/s/data-1524055280228-SkugT242f.json",function(t){var e=t.features,i=300/(e.length-1),a=[],h=0;for(var n in e){var l=e[n].geometry.coordinates;a.push({coords:l,lineStyle:{color:echarts.color.modifyHSL("#5A94DF",Math.round(i*n))},value:Math.random()*200})}myChart.setOption({maptalks3D:{center:[-74.01164278497646,40.70769573605318],zoom:16,pitch:55,urlTemplate:"http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",postEffect:{enable:!0,FXAA:{enable:!0}},light:{main:{intensity:1,shadow:!0,shadowQuality:"high"},ambient:{intensity:0},ambientCubemap:{texture:"/asset/get/s/data-1491838644249-ry33I7YTe.hdr",exposure:1,diffuseIntensity:.5,specularIntensity:2}}},series:[{type:"polygons3D",coordinateSystem:"maptalks3D",data:r,shading:"realistic",silent:!0,instancing:!0,realisticMaterial:{metalness:1,roughness:.4}},{type:"lines3D",coordinateSystem:"maptalks3D",effect:{show:!0,constantSpeed:1,trailWidth:3,trailLength:1,trailOpacity:1,spotIntensity:10},blendMode:"lighter",polyline:!0,data:a}]});var p=myChart.getModel().getComponent("maptalks3D").getMaptalks();p.on("click",function(c){console.log(c)})})});
