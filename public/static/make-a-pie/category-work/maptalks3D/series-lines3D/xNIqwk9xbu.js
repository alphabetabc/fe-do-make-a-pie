const URLS=["/asset/get/s/data-1545048052616-gQB5B2AC2.txt","/asset/get/s/data-1545048059447-gcWE5ECQt.txt","/asset/get/s/data-1545048064249-kh4z-rD5z.txt","/asset/get/s/data-1545048092463-6a4JT8yiT.txt","/asset/get/s/data-1545048087945-r5NyeL8Zq.txt","/asset/get/s/data-1545048081162-aEtkoqOv5.txt","/asset/get/s/data-1545048075561-O8t-pYfG6.txt","/asset/get/s/data-1545048069355-3nMgGCLRg.txt"],LEN=URLS.length;let lines=[];function getColor(e){let t="red";return e<50&&(t="#0198BD"),e>=50&&e<220&&(t="#49E3CE"),e>=220&&e<390&&(t="#E8FEB5"),e>=390&&e<460&&(t="#FEEDB1"),e>=460&&e<650&&(t="#FEAD54"),e>=650&&(t="#D50255"),t}function getData(e){fetch(URLS[e]).then(t=>t.text()).then(t=>{t=LZString.decompressFromBase64(t),t=JSON.parse(t),console.log(t.length),e===LEN-1?(console.log("getdata finish"),myChart.hideLoading(),initChart(lines)):(t.forEach(o=>{let s=(o.geometry||{}).coordinates||[];const r=o.properties.elevation||1,n=getColor(r);for(let a=0,i=s.length;a<i;a++)s[a]=s[a].concat(r);lines.push({coords:s,lineStyle:{color:n}})}),getData(++e))})}myChart.showLoading(),getData(0);function initChart(e){var t={maptalks3D:{bearing:0,center:[-122.45258435030888,37.751668560326806],pitch:52.40000000000002,zoom:13,urlTemplate:"http://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",altitudeScale:2},series:[{type:"lines3D",coordinateSystem:"maptalks3D",polyline:!0,lineStyle:{width:.8,color:"rgb(100, 100, 0)",opacity:1},data:e}]};myChart.setOption(t),window.addEventListener("resize",function(){myChart.resize()})}
