var oldData=[{rpt_date:"2020-05-01",task_type:"上门收款",amount:243.35},{rpt_date:"2020-05-01",task_type:"网点解现",amount:40.34},{rpt_date:"2020-05-01",task_type:"银医通上门收款",amount:123.54},{rpt_date:"2020-05-01",task_type:"自助机具卸钞",amount:342},{rpt_date:"2020-05-02",task_type:"上门收款",amount:132.35},{rpt_date:"2020-05-02",task_type:"网点解现",amount:165.1},{rpt_date:"2020-05-02",task_type:"银医通上门收款",amount:34.54},{rpt_date:"2020-05-02",task_type:"自助机具卸钞",amount:23.78},{rpt_date:"2020-05-03",task_type:"上门收款",amount:243.35},{rpt_date:"2020-05-03",task_type:"网点解现",amount:40.34},{rpt_date:"2020-05-03",task_type:"银医通上门收款",amount:123.54},{rpt_date:"2020-05-03",task_type:"自助机具卸钞",amount:342},{rpt_date:"2020-05-04",task_type:"上门收款",amount:132.35},{rpt_date:"2020-05-04",task_type:"网点解现",amount:165.1},{rpt_date:"2020-05-04",task_type:"银医通上门收款",amount:34.54},{rpt_date:"2020-05-04",task_type:"自助机具卸钞",amount:23.78}],dataset={source:[["clrDate"]]};let taskArr=[],dateArr=[];oldData.forEach(t=>{dateArr.indexOf(t.rpt_date)<0&&dateArr.push(t.rpt_date),taskArr.indexOf(t.task_type)<0&&taskArr.push(t.task_type)});for(var i=0;i<dateArr.length+1;i++)if(i===0)for(var j=0;j<taskArr.length;j++)dataset.source[i][j+1]=taskArr[j];else dataset.source[i]=[],dataset.source[i][0]=dateArr[i-1];for(var i=1;i<dataset.source.length;i++)for(var j=1;j<dataset.source[0].length;j++)for(var k=0;k<oldData.length;k++)dataset.source[i][0]==oldData[k].rpt_date&&dataset.source[0][j]==oldData[k].task_type&&(dataset.source[i][j]=oldData[k].amount);var fontColor="#30eee9";option={title:{text:"各类型订单清分业务统计",top:"5%",left:"center",textStyle:{color:"#FFF",align:"center"}},dataset,backgroundColor:"#11183c",grid:{left:"9%",right:"10%",top:"20%",bottom:"15%",containLabel:!0},tooltip:{show:!0,trigger:"item"},legend:{show:!0,x:"center",top:"12%",y:"35",icon:"stack",itemWidth:10,itemHeight:10,textStyle:{color:"#1bb4f6"}},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{color:fontColor},axisLine:{show:!0,lineStyle:{color:"#397cbc"}},axisTick:{show:!1},splitLine:{show:!1,lineStyle:{color:"#195384"}}}],yAxis:[{type:"value",name:"清分量（万元）",axisLabel:{formatter:"{value}",textStyle:{color:"#2ad1d2"}},axisLine:{lineStyle:{color:"#27b4c2"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#11366e"}}}],series:[{name:"上门收款",type:"line",stack:"总量",symbol:"circle",symbolSize:8,itemStyle:{normal:{color:"#0092f6",lineStyle:{color:"#0092f6",width:1},areaStyle:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"rgba(7,44,90,0.3)"},{offset:1,color:"rgba(0,146,246,0.9)"}])}}},markPoint:{itemStyle:{normal:{color:"red"}}}},{name:"网点解现",type:"line",stack:"总量",symbol:"circle",symbolSize:8,itemStyle:{normal:{color:"#00d4c7",lineStyle:{color:"#00d4c7",width:1},areaStyle:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"rgba(7,44,90,0.3)"},{offset:1,color:"rgba(0,212,199,0.9)"}])}}}},{name:"银医通上门收款",type:"line",stack:"总量",symbol:"circle",symbolSize:8,itemStyle:{normal:{color:"#aecb56",lineStyle:{color:"#aecb56",width:1},areaStyle:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"rgba(7,44,90,0.3)"},{offset:1,color:"rgba(114,144,89,0.9)"}])}}}},{name:"自助机具卸钞",type:"line",stack:"总量",symbol:"circle",symbolSize:8,itemStyle:{normal:{color:"#3A44FB",lineStyle:{color:"#3A44FB",width:1},areaStyle:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"rgba(7,46,101,0.3)"},{offset:1,color:"rgba(0,166,246,0.9)"}])}}}}]};
