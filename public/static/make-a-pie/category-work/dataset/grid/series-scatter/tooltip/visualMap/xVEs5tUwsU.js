echarts.registerTransform(ecStat.transform.clustering);for(var names=["上海","云南","内蒙古","北京","吉林","四川","天津","宁夏","安徽","山东","山西","广东","广西","新疆","江苏","江西","河北","河南","浙江","海南","湖北","湖南","甘肃","福建","西藏","贵州","辽宁","重庆","陕西","青海","黑龙江"],data=[[582450.57,1080],[422328.2,815],[273453.01,833],[409147.2,956],[666791.64,1362],[400877.6,1438],[549906.63,1096],[58121,126],[628965.19,1302],[158678299e-2,3399],[423878.77,750],[145887988e-2,3102],[377653.83,797],[70607.74,139],[653052.96,2252],[237328.7,506],[790915.41,1511],[853574.8,1763],[456981.06,1583],[107854.41,250],[627201.85,2153],[723442.21,1658],[179270.03,538],[546903.53,962],[10015.18,34],[108141.6,276],[835974.66,2583],[361761.93,836],[457688.17,909],[49863.38,81],[120845708e-2,2587]],CLUSTER_COUNT=3,DIENSIION_CLUSTER_INDEX=2,COLOR_ALL=["#37A2DA","#e06343","#37a354","#b55dba","#b5bd48","#8378EA","#96BFFF"],pieces=[],i=0;i<CLUSTER_COUNT;i++)pieces.push({value:i,label:"cluster "+i,color:COLOR_ALL[i]});option={dataset:[{dimensions:["销售额","数量"],source:data},{transform:{type:"ecStat:clustering",config:{clusterCount:CLUSTER_COUNT,outputType:"single",outputClusterIndexDimension:DIENSIION_CLUSTER_INDEX}}}],tooltip:{position:"top",formatter:function(a){var e=a,t=e.dimensionNames,r=e.value,n=names[e.dataIndex];return"省/自治区 : "+n+"<br/>"+t[0]+" : "+r[0]+"<br/>"+t[1]+" : "+r[1]}},visualMap:{type:"piecewise",top:"middle",min:0,max:CLUSTER_COUNT,left:10,splitNumber:CLUSTER_COUNT,dimension:DIENSIION_CLUSTER_INDEX,pieces},grid:{left:120},xAxis:{name:"X:销售额",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{name:"Y:数量",splitLine:{lineStyle:{type:"dashed"}}},series:{type:"scatter",encode:{tooltip:[0,1]},symbolSize:15,itemStyle:{borderColor:"#555"},datasetIndex:1,label:{show:!0,fontSize:12,position:"bottom",formatter:function(a){var e=a,t=names[e.dataIndex];return t}}}};
