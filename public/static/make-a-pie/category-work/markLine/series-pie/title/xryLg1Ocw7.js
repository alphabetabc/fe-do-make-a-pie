var data=[{name:"小学",value:115},{name:"初中及以上",value:70,isExtend:!0},{name:"其他",value:15}],data1=[{name:"小学",value:15},{name:"初中及以上",value:50},{name:"其他",value:35}],bigCenterX=22.5,bigCenterY=50,bigRadiusInner=0,bigRadiusOuter=35,smallCenterX=80,smallCenterY=50,smallRadiusInner=0,smallRadiusOuter=25,extendAngle=0,startAngle=0,angleCompute=function(e){for(var t=e.reduce(function(n,l,r,i){return n+l.value},0),a=0;a<e.length&&(e[a].isExtend&&(extendAngle=360*e[a].value/(2*t)),startAngle+=e[a].isExtend?extendAngle:360*(e[a].value/t),!e[a].isExtend);a++);};angleCompute(data);var contentWidth=document.querySelector("#chart-panel").offsetWidth-20,contentHeight=document.querySelector("#chart-panel").offsetHeight-30,minwidthHeight=Math.min(contentWidth,contentHeight),smallTopY=contentHeight*smallCenterY/100-minwidthHeight*smallRadiusOuter/200,smallBottomY=contentHeight*smallCenterY/100+minwidthHeight*smallRadiusOuter/200,bigX=contentWidth*bigCenterX/100+minwidthHeight*bigRadiusOuter/200*Math.cos(Math.PI*extendAngle/180),bigTopY=contentHeight*bigCenterY/100-minwidthHeight*bigRadiusOuter/200*Math.sin(Math.PI*extendAngle/180),bigBottomY=contentHeight*bigCenterY/100+minwidthHeight*bigRadiusOuter/200*Math.sin(Math.PI*extendAngle/180);option={title:{text:"复合饼图"},series:[{type:"pie",data,center:[bigCenterX+"%",bigCenterY+"%"],radius:[bigRadiusInner+"%",bigRadiusOuter+"%"],startAngle,markLine:{silent:!1,tooltip:{show:!1},symbol:"",label:{position:"middle"},lineStyle:{type:"dotted"},data:[[{name:"其他",x:bigX,y:bigTopY},{x:smallCenterX+"%",y:smallTopY}],[{name:"其他2",x:bigX,y:bigBottomY},{x:smallCenterX+"%",y:smallBottomY}]]}},{type:"pie",data:data1,center:[smallCenterX+"%",smallCenterY+"%"],radius:[smallRadiusInner+"%",smallRadiusOuter+"%"]}]};
