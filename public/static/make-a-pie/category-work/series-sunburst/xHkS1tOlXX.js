for(var colors=["#FFAE57","#FF7853","#EA5151","#CC3F57","#9A2555"],bgColor="#FFF",itemStyle={star5:{color:colors[0]},star4:{color:colors[1]},star3:{color:colors[2]},star2:{color:colors[3]}},data=[{name:"门诊",itemStyle:{normal:{color:colors[1]}},children:[{name:"五官科",children:[{name:"5☆",children:[{name:"眼科"},{name:"鼻科"}]},{name:"4☆",children:[{name:"耳科"}]},{name:"3☆",children:[{name:"口腔科"}]}]},{name:"内科",children:[{name:"5☆",children:[{name:"心脏内科"}]},{name:"4☆",children:[{name:"肺科"},{name:"肝科"}]},{name:"3☆",children:[{name:"肠胃科"}]}]}]},{name:"住院",itemStyle:{color:colors[2]},children:[{name:"骨科",children:[{name:"5☆",children:[{name:"骨折"}]},{name:"4☆",children:[{name:"骨质酥松"},{name:"粉碎性骨折"}]},{name:"3☆",children:[{name:"截肢"}]}]},{name:"外科",children:[{name:"5☆",children:[{name:"金创处理"}]},{name:"4☆",children:[{name:"断指再造"},{name:"外部肿瘤处理"},{name:"感染处理"}]},{name:"3☆",children:[{name:"断指缝合处理"}]}]},{name:"心内科",children:[{name:"5☆",children:[{name:"冠心病"}]},{name:"4☆",children:[{name:"中风"},{name:"脑血栓"}]},{name:"3☆"},{name:"2☆",children:[{name:"动脉粥样硬化"}]}]},{name:"胸外科",children:[{name:"4☆",children:[{name:"胸板结"},{name:"胸腔手术"},{name:"开胸术"}]}]},{name:"肛肠科",children:[{name:"5☆",children:[{name:"痔疮"}]},{name:"4☆",children:[{name:"肛瘘"},{name:"脱肛"}]},{name:"3☆",children:[{name:"肛裂"}]}]},{name:"牙科",children:[{name:"4☆",children:[{name:"拔智齿"}]}]},{name:"美容科",children:[{name:"5☆",children:[{name:"整形"}]},{name:"4☆",children:[{name:"祛痘"}]}]}]}],j=0;j<data.length;++j)for(var level1=data[j].children,i=0;i<level1.length;++i){for(var block=level1[i].children,bookScore=[],bookScoreId,star=0;star<block.length;++star){var style=function(e){switch(e){case"5☆":return bookScoreId=0,itemStyle.star5;case"4☆":return bookScoreId=1,itemStyle.star4;case"3☆":return bookScoreId=2,itemStyle.star3;case"2☆":return bookScoreId=3,itemStyle.star2}}(block[star].name);block[star].label={color:style.color,downplay:{opacity:.5}},block[star].children&&(style={opacity:1,color:style.color},block[star].children.forEach(function(e){e.value=1,e.itemStyle=style,e.label={color:style.color};var n=1;(bookScoreId===0||bookScoreId===3)&&(n=5),bookScore[bookScoreId]?bookScore[bookScoreId].value+=n:bookScore[bookScoreId]={color:colors[bookScoreId],value:n}}))}level1[i].itemStyle={color:data[j].itemStyle.color}}option={backgroundColor:bgColor,color:colors,series:[{type:"sunburst",center:["50%","48%"],data,sort:function(e,n){return e.depth===1?n.getValue()-e.getValue():e.dataIndex-n.dataIndex},label:{rotate:"radial",color:bgColor},itemStyle:{borderColor:bgColor,borderWidth:2},levels:[{},{r0:0,r:40,label:{rotate:0}},{r0:40,r:105},{r0:115,r:140,itemStyle:{shadowBlur:2,shadowColor:colors[2],color:"transparent"},label:{rotate:"tangential",fontSize:10,color:colors[0]}},{r0:140,r:145,itemStyle:{shadowColor:colors[0]},label:{position:"outside",textShadowColor:"#333"},downplay:{label:{opacity:1}}}]}]};
