var uploadedDataURL="/asset/get/s/data-1577891460444-H6EWcM1h.txt",colors=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],bgColor="#2E2733";bgColor={type:"radial",x:.5,y:.5,r:.7,colorStops:[{offset:0,color:"#b6a2de"},{offset:.4,color:"#9a7fd1"},{offset:1,color:"#59678c"}],globalCoord:!1};function obj2string(e){var t=[];if(typeof e=="string")return'"'+e.replace(/([\'\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';if(typeof e=="object"){if(e.sort){for(var i=0;i<e.length;i++)t.push(obj2string(e[i]));t="["+t.join()+"]"}else{for(var i in e)t.push(i+":"+obj2string(e[i]));!!document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(e.toString)&&t.push("toString:"+e.toString.toString()),t="{"+t.join()+"}"}return t}return e.toString()}var dd=[],option1={backgroundColor:bgColor,color:colors,title:{text:"2019年阅读分类统计",subtext:`每本书都自带光芒，
许多光组合在一起，
变成思想的太阳`,textStyle:{fontSize:30,align:"center",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:3},subtextStyle:{align:"center",color:"#DDD",fontSize:18,textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5}},tooltip:{},series:{type:"sunburst",highlightPolicy:"descendant",data:[],radius:[0,500],sort:null,center:["50%","45%"],levels:[{},{r0:"0%",r:"10%",itemStyle:{borderWidth:2},label:{rotate:"tangential",fontSize:14},highlight:{itemStyle:{color:"orange"}},downplay:{itemStyle:{color:"#ccc"}}},{r0:"10%",r:"25%",itemStyle:{borderWidth:2,opacity:1},label:{align:"right",fontSize:12},highlight:{itemStyle:{color:"orange"}},downplay:{itemStyle:{color:"#ccc"}}},{r0:"25%",r:"40%",label:{align:"left",fontSize:12},itemStyle:{opacity:.8},highlight:{itemStyle:{color:"orange"}},downplay:{itemStyle:{color:"#ccc"}}},{r0:"40%",r:"65%",label:{padding:0,align:"right",fontSize:10},itemStyle:{borderWidth:1,opacity:.1},highlight:{itemStyle:{color:"orange"}},downplay:{itemStyle:{color:"#ccc"}}},{r0:"65%",r:"66%",itemStyle:{},label:{align:"left",textShadowBlur:5,textShadowColor:"#333",fontSize:14},downplay:{label:{opacity:0}},highlight:{itemStyle:{color:"orange"},label:{color:"#FFF",fontSize:13}}},{r0:"120%",r:"121%",show:!1,label:{position:"outside",fontSize:9,opacity:0},itemStyle:{opacity:0},highlight:{itemStyle:{color:"orange"}},downplay:{itemStyle:{color:"#ccc"}}}]}};option=option1,$.getJSON(uploadedDataURL,function(e){myChart.hideLoading();for(var t={name:e[0].yyyy,value:1,itemStyle:{color:colors[0]},children:[{name:e[0].type,value:1,itemStyle:{color:colors[1]},children:[{name:e[0].country,value:1,itemStyle:{color:colors[2]},children:[{name:e[0].writer,value:1,itemStyle:{color:colors[3]},children:[{name:e[0].name,value:1,itemStyle:{color:colors[4]},children:[{name:e[0].days+"d",value:1,itemStyle:{color:colors[4]}}]}]}]}]}]},i=t.children[0],o=i.children[0],n=o.children[0],l=1;l<e.length;l++){ci=(l+5)%colors.length,co=colors[ci];var a={name:"《"+e[l].name+"》",value:1,itemStyle:{color:colors[ci]},children:[{name:e[l].days+"d",value:1,itemStyle:{color:colors[ci]}}]};t.name!==e[l].yyyy?(t.name===2019&&dd.push(t),t={name:e[l].yyyy,value:1,itemStyle:{color:colors[ci+1]},children:[{name:e[l].type,value:1,itemStyle:{color:colors[ci+2]},children:[{name:e[l].country,value:1,itemStyle:{color:colors[ci+3]},children:[{name:e[l].writer,value:1,itemStyle:{color:colors[ci+4]},children:[a]}]}]}]},i=t.children[0],o=i.children[0],n=o.children[0]):i.name!==e[l].type?(i={name:e[l].type,value:1,itemStyle:{color:colors[ci+1]},children:[{name:e[l].country,value:1,itemStyle:{color:colors[ci+2]},children:[{name:e[l].writer,value:1,itemStyle:{color:colors[ci+3]},children:[a]}]}]},t.children.push(i),t.value++,o=i.children[0],n=o.children[0]):o.name!==e[l].country?(o={name:e[l].country,value:1,itemStyle:{color:colors[ci+1]},children:[{name:e[l].writer,value:1,itemStyle:{color:colors[ci+2]},children:[a]}]},i.children.push(o),i.value++,t.value++,n=o.children[0]):n.name!==e[l].writer?(n={name:e[l].writer,value:1,itemStyle:{color:colors[ci+1]},children:[a]},o.children.push(n),o.value++,i.value++,t.value++):(n.children.push(a),o.value++,i.value++,t.value++,n.value++)}t.name===2019&&dd.push(t),option1.series.data=dd,myChart.setOption(option,!0)});
