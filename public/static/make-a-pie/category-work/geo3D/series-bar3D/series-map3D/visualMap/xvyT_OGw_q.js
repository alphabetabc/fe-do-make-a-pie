var mapData=echarts.getMap("china").geoJson,data=[],cpdata=[];mapData.features.forEach((e,t)=>{var a=10+t*3;data.push({name:e.properties.name,value:a}),cpdata.push({name:e.properties.name,value:[e.properties.cp[0],e.properties.cp[1],a]})}),option={globe:{viewControl:{autoRotate:!1}},geo3D:{map:"china",boxHeight:10,regionHeight:2,show:!1,instancing:!0,regions:[{name:"新疆",regionHeight:6,itemStyle:{color:"#ff89f0",opacity:1}},{name:"西藏",itemStyle:{color:"#9089f0",opacity:1}}],light:{main:{intensity:1,shadow:!0,shadowQuality:"high",alpha:40,beta:77},ambient:{intensity:.2}},emphasis:{label:{show:!1}},groundPlane:{show:!0}},visualMap:{show:!0,min:0,max:100,inRange:{color:["rgba(13,144,95,1)","rgba(163,214,5,1)"]}},series:[{type:"map3D",coordinateSystem:"geo3D",zlevel:1,instancing:!0,map:"china",regionHeight:2,shading:"lambert",postEffect:{enabled:!0,bloom:{enabled:!0}},data,itemStyle:{color:"#1d5e98",opacity:1,borderWidth:.8,borderColor:"#fff"},label:{show:!1,formatter:function(e){return[e.name,e.data.value].join(":")},textStyle:{color:"#fff",fontSize:12,opacity:1,backgroundColor:"rgba(0,23,11,0)"}},emphasis:{label:{show:!1}}},{type:"bar3D",zlevel:2,coordinateSystem:"geo3D",data:cpdata,shading:"lambert",label:{show:!1,formatter:function(e){return[e.name,e.data.value[2]].join(":")}},emphasis:{label:{show:!0,color:"#fff",formatter:function(e){return[e.name,e.data.value[2]].join(":")}},itemStyle:{color:"#ff0000"}},light:{main:{intensity:1,shadow:!0,shadowQuality:"high",alpha:40,beta:77},ambient:{intensity:.2}}}]};let _t=-1;setInterval(()=>{myChart.dispatchAction({type:"downplay",seriesIndex:1,dataIndex:_t%data.length}),_t++,myChart.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:_t%data.length})},200);
