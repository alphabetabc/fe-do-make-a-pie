let mapData=((echarts.getMap("湖北")||{}).geoJson||{}).features||[],names=[];geoCoordMap={},mapData.map(o=>{let e=(o.properties||{}).name,t=(o.properties||{}).cp;e&&e!==""&&t&&(geoCoordMap[e]=t,names.push(e))});function generateNameData(o,e){let t=[];return names.map(a=>{let r=Math.round(Math.random()*(e-o)+o),l=geoCoordMap[a];t.push({name:a,value:l.slice().concat(r)})}),t}function generateLinesData(o,e){let t=[];return names.map(a=>{names.map(r=>{let l=Math.round(Math.random()*(e-o)+o),n=geoCoordMap[a],i=geoCoordMap[r];t.push([n,i,l])})}),t}let barData=generateNameData(0,3),linesData=generateLinesData(0,0);option={title:{text:"湖北省地图点击切换",x:"left",top:"10",textStyle:{color:"#000",fontSize:14}},tooltip:{show:!0},geo3D:{map:"湖北",roam:!0,environment:"#000",itemStyle:{areaColor:"#00b8b6",opacity:.5,borderWidth:.4,borderColor:"#3c5b8a",emphasis:{areaColor:"rgba(255,158,44,1)"}},label:{show:!0,textStyle:{color:"#fff",fontSize:8,opacity:1,backgroundColor:"rgba(0,23,11,0)"}},emphasis:{label:{show:!0,textStyle:{color:"#000",fontSize:3,backgroundColor:"rgba(0,23,11,0)"}}},light:{main:{color:"#fff",intensity:1.2,shadow:!1,alpha:55,beta:10},ambient:{intensity:.3}},viewControl:{alpha:40,autoRotate:!0,autoRotateAfterStill:10}},series:[{name:"bar3D",type:"bar3D",coordinateSystem:"geo3D",barSize:0,shading:"lambert",opacity:1,bevelSize:.3,label:{show:!1,formatter:"{b}"},data:barData},{type:"lines3D",coordinateSystem:"geo3D",effect:{show:!0,trailWidth:1,trailOpacity:.5,trailLength:.2,constantSpeed:5},blendMode:"lighter",lineStyle:{width:.2,opacity:.05},data:linesData}]};let myChart=echarts.getInstanceByDom(document.getElementById("chart-panel"));myChart.on("click",o=>{let e=o.name,t=!1,a=myChart.getOption();e&&e!==""&&geoCoordMap[e]&&(t=!0,a.geo3D[0].viewControl.alpha=90,a.geo3D[0].viewControl.distance=0,myChart.setOption(a)),t||(a.geo3D[0].viewControl.alpha=40,a.geo3D[0].viewControl.distance=100,myChart.setOption(a))});
