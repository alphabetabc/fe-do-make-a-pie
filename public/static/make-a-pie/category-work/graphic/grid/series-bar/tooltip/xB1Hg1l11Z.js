var config={min:0,max:100,targetValue:{color:"#5aaf2e",value:60}};function _settingVerticalGraphic(e){var t=[],a=myChart.convertToPixel({xAxisIndex:0},0);a=parseFloat(a,10).toFixed(2),a-=26;var r=e.targetValue.value,i=e.min||0,l=e.max||100;if(!(r>l||r<i)){var o=_getyAxisValueTop(r);return t.push({z:10,type:"line",left:a,shape:{x1:0,x2:35},style:{stroke:"red",lineWidth:1},silent:!0,top:o}),{graphic:t}}}function _getyAxisValueTop(e){var t=myChart.convertToPixel({yAxisIndex:0},e);return parseFloat(t,10).toFixed(2)-2}var option1={tooltip:{axisPointer:{type:""}},grid:{left:"middle",width:60},yAxis:{show:!0,offset:-5,type:"value",interval:1,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,showMinLabel:!0,showMaxLabel:!0,formatter:function(e){if(e===config.min||e===config.max||e===config.targetValue.value)return e}},splitLine:{show:!1},max:config.max,min:config.min},xAxis:{show:!1,type:"category"},series:[{name:"",type:"bar",barWidth:30,silent:!0,animation:!1,itemStyle:{normal:{color:"#444"}},barGap:"-100%",data:[100]},{name:"成绩",type:"bar",barWidth:30,label:{normal:{show:!0,position:"insideTopRight",offset:[30,0],textStyle:{color:"#63869e"}}},data:[{value:"50",itemStyle:{normal:{color:"red"}},name:"分数"}]}]};function handleColor(e,t){return e.series[1].data[0].value>=t.targetValue.value&&(e.series[1].data[0].itemStyle.normal.color=t.targetValue.color,e.series[1].label.normal.textStyle.color=t.targetValue.color),e}myChart.setOption(handleColor(option1,config)),setTimeout(function(){option1.series[1].data[0].value=80,myChart.setOption(handleColor(option1,config))},1e3),myChart.setOption(_settingVerticalGraphic(config),!1);
