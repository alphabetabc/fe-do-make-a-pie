var data={title:["总计","北京","上海","浙江","深圳","广东","宁波","云南","江苏","湖南","其他"],plan_production:[500,300,490,333,346,777,888,864,789,765,500],actual_production:[300,400,500,300,400,500,300,400,500,500,500]};for(var pr in data)data[pr]=data[pr].slice(1,-1);function getTableLine(t){for(var i=[],a=40,e=20,n=0;n<t;n++)i.push({type:"line",bottom:a-n*e,right:0,style:{fill:"#333"},shape:{x1:0,y1:0,x2:3200,y2:0}});return i}var lineList=getTableLine(3);option={color:["#4472c4","#ed7d31","#ffc000","#5b9bd5","#","70ad47","#264478","#a5a5a5"],title:[{text:`
计划耗时
实际耗时`,bottom:-5,left:10,textStyle:{lineHeight:20,fontSize:13,fontWeight:"normal",formatter:function(t){return"{table|"+t+"}"},rich:{table:{align:"center"}}}}],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["计划耗时","实际耗时"]},grid:{bottom:70,left:80,right:1},xAxis:[{type:"category",boundaryGap:!0,data:data.title,axisTick:{length:170},axisLabel:{axisPointer:{type:"shadow"},formatter:function(t,i){for(var a=0,e=0;e<data.title.length;e++)t==data.title[e]&&(a=e);return"{table|"+t+`}
{table|`+data.plan_production[a]+`}
{table|`+data.actual_production[a]+"}"},rich:{table:{lineHeight:20,align:"center"}}}}],yAxis:[{type:"value",scale:!0,minInterval:1,name:"数量",axisLine:{show:!1},splitLine:{show:!0,color:"#333"},min:function(t){return 0}}],series:[{name:"计划耗时",stack:"aa",type:"bar",barWidth:"20px",label:{show:!0,position:"top"},yAxisIndex:0,data:data.plan_production},{name:"实际耗时",stack:"bb",type:"bar",barWidth:"20px",label:{show:!0,position:"top"},yAxisIndex:0,data:data.actual_production}],graphic:lineList};
