sourceData=[{name:"香港特别行政区",value:40,extData:[1070,"#479c7f",0,""]},{name:"天津市",value:51,extData:[2105,"#48af54",0,""]},{name:"上海市",value:59,extData:[2965,"#53b440",0,""]},{name:"甘肃省",value:63,extData:[3375,"#67b52d",0,""]},{name:"吉林省",value:67,extData:[3744,"#8cc13f",0,""]},{name:"内蒙古自治区",value:70,extData:[4040,"#bbd337",0,""]},{name:"陕西省",value:81,extData:[5174,"#d2b130",0,""]},{name:"辽宁省",value:93,extData:[6317,"#da9c2d",0,""]},{name:"湖北省",value:95,extData:[6583,"#dc9e31",0,""]},{name:"四川省",value:124,extData:[9461,"#da9c2d",0,""]},{name:"江苏省",value:131,extData:[10140,"#ee5388",0,""]},{name:"广东省",value:152,extData:[12260,"#f62f90",0,""]}],graphicData=[{type:"group",left:"center",top:"60%",bounding:"raw",z:100,children:[]}],graphicScatter={type:"circle",shape:{r:2},style:{fill:"white"},z:100},graphicText=[{type:"text",z:100,style:{fill:"white",text:"韩国",font:"bold 16px Microsoft YaHei",textAlign:"center"}},{type:"text",z:100,style:{fill:"white",text:"5766例",font:"bold 14px Microsoft YaHei",textAlign:"center"}},{type:"text",z:100,style:{fill:"white",text:"死亡36例",font:"bold 12px Microsoft YaHei",textAlign:"center"}}],graphicChildren={type:"group",position:[],bounding:"raw",z:100,children:[]};function convertData1(){for(var D=1,s=.1,x=2*Math.PI/sourceData.length,n=(D-s)/sourceData.length,e=0;e<sourceData.length;e++){sourceData[e].itemStyle={color:sourceData[e].extData[1],borderWidth:0},sourceData[e].label={show:(e>6,!1),position:e<=5?"outer":"inside",align:"right",borderWidth:1,borderColor:"red",alignTo:"edge",margin:650,formatter:i=>i.data.extData[3]},sourceData[e].labelLine={show:(e>6,!1),lineStyle:{type:"dashed"}};for(var r=(e+.5)*x,c=e>11?s+n*e:.6+n*e,o=e>11?sourceData[e].value*450/sourceData.slice(-1)[0].value*.95:sourceData[e].value*460/sourceData.slice(-1)[0].value+20,l=[o,o*(e>33?.95:e>11?.75:1.12),o*(e>33?.95:e>11?.8:1.17)*(e>33?.95:e>11?.8:1.17)],u=[],g=[],v=[],a=0;a<3;a++){var p=Math.sin(r)*l[a],h=-Math.cos(r)*l[a];u.push([p,h]);var t=JSON.stringify(graphicChildren);t=JSON.parse(t),t.position=[p,h],t.rotation=e>33?-((e+.5)/sourceData.length*2*Math.PI):e<=11?-((e+.5)/sourceData.length*2*Math.PI)+Math.PI/2:0,t.scale=[c,c],curgraphicText=JSON.parse(JSON.stringify(graphicText[a])),curgraphicText.style.text=a==0?sourceData[e].name:a==1?e>11?sourceData[e].extData[0]+"网点":"":a==2&&e>33?sourceData[e].extData[2]+"个":e<=11?sourceData[e].extData[3]:"",e<=11&&(curgraphicText.style.fill="black",curgraphicText.style.textAlign="left"),t.children=[curgraphicText],g.push(t),graphicData[0].children.push(t)}console.log(e,sourceData[e].name,r,l,u)}return sourceData}option={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"]},restore:{show:!0},saveAsImage:{show:!0}}},graphic:graphicData,series:[{name:"银行网点个数",type:"pie",radius:[20,450],center:["50%","60%"],label:{show:!0},roseType:"area",data:convertData1()}]};
