var areas=["北京","天津","河北","山西","内蒙古","辽宁","吉林","黑龙江","上海","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","重庆","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆"],colors=["#B4F493","#B3F393","#B0F092","#ACED91","#AAEB91","#A9EB93","#A5E692","#A3E492","#9FE293","#9DE093","#9BDF92","#97DB92","#95DB93","#92D794","#8FD491","#8DD394","#8BD193","#88D091","#87CE93","#83CA92","#7DC794","#7AC492","#76C291","#75C192","#73BE93","#6FBB93","#6DB993","#6AB794","#67B494","#62B192","#5FAE93","#5CAC93","#59A893","#56A796","#53A493","#50A293","#4EA094","#4B9C93","#499A93","#449992","#409695","#3E9494","#3B9192","#399193","#368D94"],amounts=[49,14,14,1,5,26,13,14,4,13,7,3,7,6,8,13,14,22,19,3,1,2,17,6,7,0,10,4,1,0,1],soureData=[];areas.forEach(function(l,a){amounts[a]&&soureData.push({name:l,amount:amounts[a]})}),soureData.sort(function(l,a){return l.amount-a.amount});var graphicChildren=[],mid=3,max=Math.max.apply(Math,amounts),min=Math.min.apply(Math,amounts),data=[];soureData.forEach(function(l,a){for(var h=1,m=.3,D=2*Math.PI/soureData.length,g=(h-m)/(max-min),p=l.amount*g*3,B=(a+.5)*D,f=p>h?h:p<m?m:p,A=a>mid?l.amount*450/soureData.slice(-1)[0].amount*.95:l.amount*460/soureData.slice(-1)[0].amount+20,v=[A,A*(a>mid?.75:1.12),A*(a>mid?.8:1.17)*(a>11?.8:1.17)],o=0;o<2;o++){var s=Math.sin(B)*v[o],t=-Math.cos(B)*v[o];graphicChildren.push({type:"group",bounding:"raw",x:a==28?s-8:a==27?s-9:a==26?s-11:a==25?s-14:a==24?s-15:a==23||a==22?s-17:a==21||a==20?s-15:a==19?s-13:a==18?s-11:a==17||a==16?s-9:a==15?s-5:a==14?s-1:a==13?s+2:a==12?s+4:a==11?s+7:a==10?s+10:a==9?s+12:a==8?s+14:a==7?s+15:a==6?s+14:a==5?s+13:a==4&&o==1?s+10:a==4?s+11.5:a==3&&o==1?s-2.2:a==2&&o==1?s-1.6:a==1&&o==1?s-1:a==0&&o==1?s-.3:s,y:a==28?t+4:a==27?t+5:a==26&&o==1?t-1:a==26?t+5:a==25&&o==1?t-3:a==25?t+3:a==24&&o==1?t-3:a==24?t+3:a==23&&o==1?t-1:a==23||a==22&&o==1?t+2:a==22?t+9:a==21&&o==1?t+4:a==21?t+8:a==20&&o==1?t+7:a==20?t+11:a==19&&o==1?t+9:a==19?t+13:a==18&&o==1?t+10:a==18?t+15:a==17&&o==1?t+13:a==17?t+15:a==16||a==15||a==14?t+18:a==13?t+17:a==12?t+16:a==11&&o==1?t+13:a==11?t+15:a==10&&o==1?t+11:a==10?t+14:a==9&&o==1?t+9:a==9?t+13:a==8&&o==1?t+6:a==8?t+8:a==7&&o==1?t+2:a==7?t+5:a==6&&o==1?t-1:a==6?t+1:a==5&&o==1?t-5:a==5?t-3:a==4&&o==1?t-7:a==4?t-5:a==3&&o==1?t-6:a==2&&o==1||a==1&&o==1||a==0&&o==1?t-5:t,rotation:Math.PI/2,scaleX:f,scaleY:f,children:[{type:"text",z:100,style:{fill:a>mid?"white":"black",text:o==0?l.name:l.amount.toString(),textAlign:"left"}}]})}data.push({name:l.name,value:l.amount,itemStyle:{color:colors[a],borderWidth:0},label:{show:!1},labelLine:{show:!1}})});function getRandomColors(l){for(var a=[],h=0;h<l;h++)a.push("#"+("00000"+(Math.random()*16777216<<0).toString(16)).substr(-6));return a}var options={tooltip:{trigger:"item"},toolbox:{left:0,bottom:0,show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},graphic:{type:"group",left:"center",top:"60%",bounding:"raw",z:100,children:graphicChildren},series:[{name:"专利授权数",type:"pie",radius:[20,450],center:["50%","60%"],label:{show:!0},roseType:"area",data}]};myChart.setOption(options);
