const result={indicator:[{indicator_name:"Mon",indicator_value:"150"},{indicator_name:"Tue",indicator_value:"230"},{indicator_name:"Web",indicator_value:"224"},{indicator_name:"Thu",indicator_value:"218"},{indicator_name:"Fri",indicator_value:"135"},{indicator_name:"Sat",indicator_value:"147"},{indicator_name:"Sun",indicator_value:"260"}]};var xAxisData=["Mon","Tue","Web","Thu","Fri","Sat","Sun"],yAxisData=[150,230,224,218,135,147,260],series=[],indicator=[{indicator_name:"周",indicator_value:"指标值"}];if(result.indicator)for(const c of result.indicator)indicator.push({indicator_name:c.indicator_name,indicator_value:parseFloat(c.indicator_value).toFixed(3)});series.push({name:"指标",type:"custom",data:indicator,coordinateSystem:"none",renderItem:function(a,d){const l=d.style({stroke:"black",fill:a.dataIndex===0?"#dcdcdc":null}),i=d.getWidth(),o=d.getHeight();let n,t,e;debugger;a.dataIndex===0?(n='bolder 1.5em "Microsoft YaHei", sans-serif',t=o*.07,e=o*.07+1):(n='1.1em "Microsoft YaHei", sans-serif',t=o*.052,e=o*.088+a.dataIndex*t+1);const r=i*.54,s=indicator[a.dataIndex];return{type:"group",children:[{type:"rect",shape:{x:r,y:e,width:.29*i,height:t},style:l},{type:"text",style:{text:s.indicator_name,font:n,x:r+3,y:e+t/3}},{type:"rect",shape:{x:r+.29*i,y:e,width:.1*i,height:t},style:l},{type:"text",style:{text:s.indicator_value,font:n,x:r+.29*i+3,y:e+t/3}}]}}}),option={title:[{text:"周图表"}],tooltip:{formatter:"{a}: {c}"},toolbox:{show:!0,feature:{myTool:{show:!0,title:"导出Excel",icon:"image://http://echarts.baidu.com/images/favicon.png",onclick:function(){alert("导出成功！")}},magicType:{show:!0,type:["line"]}},top:"10",right:"50"},series},option1={title:[{text:"周折线图",x:"23%",y:"50%",textAlign:"center"}],tooltip:{formatter:"{a}: {c}"},toolbox:{show:!0,feature:{myTool:{show:!0,title:"数据视图",icon:"image://http://echarts.baidu.com/images/favicon.png",onclick:function(){myChart.clear(),myChart.setOption(option)}},dataZoom:{show:!0,title:{zoom:"区域缩放",back:"区域缩放还原"}}},top:"10",right:"50"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"}]},myChart.on("magictypechanged",function(){console.log("sasda"),myChart.clear(),myChart.setOption(option1)});
