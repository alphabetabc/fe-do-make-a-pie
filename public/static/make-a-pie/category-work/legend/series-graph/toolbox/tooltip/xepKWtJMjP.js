var uploadedLinkURL="/asset/get/s/data-1604478378485-VVIZIAT-T.json",uploadedNodeURL="/asset/get/s/data-1604478301534-V9GUxvkB8.json",fontSize=r=>r,posX=r=>{let a=0;switch(r){case"d":a=30+Math.random()*80;break;case"b":a=50+Math.random()*50;break;case"a":a=70+Math.random()*50;break;case"e":a=20+Math.random()*50;break;case"c":a=80+Math.random()*50;break}return a},posY=r=>{let a=0;switch(r){case"d":a=50+Math.random()*50;break;case"b":a=40+Math.random()*50;break;case"a":a=60+Math.random()*50;break;case"e":a=60+Math.random()*50;break;case"c":a=35+Math.random()*50;break}return a},color=r=>{switch(r){case"d":return{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(212,130,101,1)"},{offset:1,color:"rgba(212,130,101,0)"}],global:!1};case"b":return{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(202,134,34,1)"},{offset:1,color:"rgba(202,134,34,0)"}],global:!1};case"a":return{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(194,53,49,1)"},{offset:1,color:"rgba(194,53,49,0)"}],global:!1};case"e":return{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(97,160,168,1)"},{offset:1,color:"rgba(97,160,168,0)"}],global:!1};case"c":return{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(110,112,116,1)"},{offset:1,color:"rgba(110,112,116,0)"}],global:!1}}};$.getJSON(uploadedNodeURL,r=>{$.getJSON(uploadedLinkURL,a=>{var c="<div id='fullChart' style='position:fixed;top:0;bottom:0;left:0;right:0;display:none;'></div>";$("body").append(c);var t=!1,n=e=>{let l=document.getElementById("fullChart");if(t)l.style.display="none",t=!1;else{l.style.display="block",t=!0;let g=r.map(o=>({name:o.name,value:o.num,symbolSize:fontSize(o.num*15),category:o.category,itemStyle:{color:color(o.category)},label:{color:o.category!="d"?"#ffffff":"#d48265"},x:posX(o.category),y:posY(o.category)}));e.series[0].data=g,e.series[0].width="100%",e.series[0].height="120%",e.series[0].left="10%",e.series[0].bottom="5%",echarts.init(l).setOption(e)}};let f=["#c23531","#ca8622","#6e7074","#d48265","#61a0a8"],s=[{name:"a"},{name:"b"},{name:"c"},{name:"d"},{name:"e"}],d=r.map(e=>({name:e.name,value:e.num,symbolSize:fontSize(e.num*7),category:e.category,itemStyle:{color:color(e.category)},label:{color:e.category!="d"?"#ffffff":"#d48265"},x:posX(e.category),y:posY(e.category)})),i=a.map(e=>({source:e.source,target:e.target,value:e.num})),b={backgroundColor:"#012248",color:f,tooltip:{show:!1},toolbox:{show:!0,itemSize:fontSize(30),feature:{myFull:{show:!0,title:"查看",icon:"path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891",onclick:e=>{n(e.getOption())}}}},legend:[{icon:"circle",itemWidth:fontSize(15),itemHeight:fontSize(15),itemGap:fontSize(10),textStyle:{color:"#ffffff",fontSize:fontSize(15)},data:s.map(e=>e.name)}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"KnowledgeGraph",type:"graph",layout:"none",data:d,links:i,categories:s,focusNodeAdjacency:!0,itemStyle:{normal:{borderColor:"#fff",borderWidth:fontSize(0)}},lineStyle:{color:"rgba(13,28,74,0.3)",curveness:.3},emphasis:{lineStyle:{width:1,color:"#d48265"}},label:{show:!1,position:"right",formatter:"{b}"},edgeLabel:{show:!1},width:"80%",height:"70%"}]};myChart.setOption(b)})});
