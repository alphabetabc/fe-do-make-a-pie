var myGraphData=[{parentNode:"张三",childNodes:["小明","小华","小杰","小婷","小妍","小飞"]},{parentNode:"小明",childNodes:["小王","小赵","小钱"]},{parentNode:"小华",childNodes:["小孙","小李","小周"]},{parentNode:"小杰",childNodes:["小吴","小郑"]},{parentNode:"小婷",childNodes:["小谢","小潘"]},{parentNode:"小妍",childNodes:["小苏","小陈"]},{parentNode:"小飞",childNodes:["小郭","小彭"]},{parentNode:"小王",childNodes:["小a","小b"]},{parentNode:"小孙",childNodes:["小c","小d"]},{parentNode:"小吴",childNodes:["小e","小f"]}];function getNodes(t,r,o){for(var e,a=0;a<o.length;a++)t==o[a].nodename&&(e=o[a]);for(a=0;a<r.length;a++)o.push({nodename:r[a],nodelevel:e.nodelevel+1,parentnode:t})}function setNodeData(t,r){for(var o=33,e=0;e<t.length;e++)r.push({category:t[e].nodelevel,name:t[e].nodename,symbolSize:o,draggable:"true"})}function setLinkData(t,r,o){for(var e=0;e<t.length;e++)o.push({source:t[e],target:r,lineStyle:{normal:{color:"source"}}})}for(var listdata=[],linksdata=[],nodes=[{nodename:"张三",nodelevel:0,parentnode:0}],i=0;i<myGraphData.length;i++)getNodes(myGraphData[i].parentNode,myGraphData[i].childNodes,nodes),setLinkData(myGraphData[i].childNodes,myGraphData[i].parentNode,linksdata);setNodeData(nodes,listdata);for(var levels=0,legend_data=[],series_categories=[],temp=["一","二","三","四","五"],i=0;i<nodes.length;i++)levels=Math.max(levels,nodes[i].nodelevel);for(var i=0;i<=levels;i++)legend_data.push({name:i===0?"父节点":"层级"+temp[i],icon:"rect"}),series_categories.push({name:i===0?"父节点":"层级"+temp[i],symbol:"rect"});option={title:{text:"张三的朋友们进阶版",top:"top",left:"left",textStyle:{color:"#292421"}},tooltip:{formatter:"{b}"},backgroundColor:"#FFFFFF",legend:{show:!0,data:legend_data,textStyle:{color:"#292421"},icon:"circle",type:"scroll",orient:"horizontal",left:10,top:20,bottom:20,itemWidth:10,itemHeight:10},animationDuration:0,animationEasingUpdate:"quinticInOut",series:[{name:"关系图",type:"graph",layout:"force",force:{repulsion:300,gravity:.1,edgeLength:15,layoutAnimation:!0},data:listdata,links:linksdata,categories:series_categories,roam:!0,label:{normal:{show:!0,position:"bottom",formatter:"{b}",fontSize:10,fontStyle:"600"}},lineStyle:{normal:{opacity:.9,width:.5,curveness:0}}}]};
