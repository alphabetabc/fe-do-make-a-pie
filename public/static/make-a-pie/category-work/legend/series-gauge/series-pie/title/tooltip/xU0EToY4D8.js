var value=[{name:"ss",value:120},{name:"xx",value:80},{name:"yy",value:65},{name:"zz",value:90},{name:"hh",value:70}],dom_width=800,dom_height=800,center=["50%","93%"],guageMaxNum=100,guageStartRadius=10,guageIntervelRadius=20,colorArr=["#5470C6","#91CC75","#FAC858","#EE6666","#73C0DE"],guageColorArr=["#fff","#fff","#fff","#fff","#fff"];value=value.map(function(e,a){var t={};return t.value=Math.min(e.value,guageMaxNum),t.name=e.name,t.trueVal=e.trueVal?e.trueVal:e.value,t});var radiusRefer;dom_height>=dom_width/2?radiusRefer=dom_width/2:radiusRefer=Math.min(dom_height,dom_width);var maxPer;guageMaxNum%5==0?maxPer=guageMaxNum/5:maxPer=parseInt(guageMaxNum/5)+1;var isOperatorData;value.forEach(function(e,a){e.value==guageMaxNum&&e.name==""?isOperatorData=!0:isOperatorData=!1});var dataLength=value.length;isOperatorData&&value.splice(dataLength/2);var legend=[];for(value.map(function(e,a){legend.push(e.name)}),value.forEach(function(e,a){value.push({value:guageMaxNum,name:"",label:{normal:{show:!1}},itemStyle:{color:"transparent"}})}),option={backgroundColor:"black",title:{show:!1,text:"标题",left:"center",bottom:"5%",textStyle:{fontSize:24,color:"#fff"}},legend:{show:!0,top:5,left:"center",textStyle:{fontSize:14,color:"#fff"},data:legend},tooltip:{trigger:"item"},series:[{type:"pie",tooltip:{formatter:function(e){return e.data.name+":"+e.data.trueVal}},radius:radiusRefer*.88,center,roseType:"area",startAngle:180,label:{show:!0,position:"inside"},itemStyle:{opacity:1,color:function(e){var a=colorArr;return a[e.dataIndex%a.length]}},data:value}]},i=5;i>0;i--){var radiusAccount=(guageStartRadius+guageIntervelRadius*(i-1))*.01;option.series.unshift({name:"Indicator",type:"gauge",radius:radiusAccount*radiusRefer,center,detail:{show:!1},pointer:{show:!1},startAngle:180,endAngle:0,splitNumber:1,axisTick:{show:!1},min:maxPer*i,max:maxPer*i,axisLine:{show:!0,lineStyle:{width:1,color:[[1,guageColorArr[i-1]||"#fff"]]}},splitLine:{show:!1,length:0,distance:0},axisLabel:{show:!0,padding:[0,0,23,0],distance:-5,rich:{pad:{padding:[45,0,0,0]}},formatter:"{pad|{value}}"}})}
