let title="售票数量",color=["rgb(54,142,243)","rgb(2,217,217)","rgb(255,237,91)","rgb(255,158,91)","rgb(84,95,255)"],angle=0,value=[],data1=[{value:400,name:"单程票"},{value:389,name:"一日票"},{value:489,name:"三日票"},{value:259,name:"预附值票"},{value:499,name:"纪念票"}];function getCirlPoint(l,e,n,r){let o=l+n*Math.cos(r*Math.PI/180),t=e+n*Math.sin(r*Math.PI/180);return{x:o,y:t}}let formatNumber=function(l){let e=/(?=(\B)(\d{3})+$)/g;return l.toString().replace(e,",")},total=data1.reduce((l,e)=>l+e.value*1,0);option={backgroundColor:"rgb(0,34,69)",color,tooltip:{trigger:"item"},title:[{text:"{name|"+title+`}
{val|`+formatNumber(total)+"}{c|件}",top:"center",left:"27%",textStyle:{rich:{name:{fontSize:20,fontWeight:"normal",color:"rgb(132,159,186)",padding:[10,0,0,20]},val:{fontSize:32,fontWeight:"bold",color:"rgb(61,153,252)",padding:[0,10,0,15]},c:{fontSize:15,fontWeight:"normal",color:"rgb(132,159,186)"}}}}],legend:{orient:"vertical",icon:"rect",x:"70%",y:"center",itemWidth:15,itemHeight:15,itemGap:10,align:"left",textStyle:{color:"rgb(132,159,186)",fontSize:15,padding:[0,0,0,10]},formatter(l){let e=option.series[0].data,n=0;for(let t=0;t<e.length;t++)e[t].name!=""&&e[t].name!=null&&e[t].name!=null&&(n+=parseInt(e[t].value));var r="",o=0;for(let t=0;t<e.length;t++)e[t].name==l&&(o=e[t].value/n*100,r=l+"       "+o.toFixed(2)+"%");return r}},series:[{type:"pie",radius:["45%","60%"],center:["35%","50%"],data:data1,hoverAnimation:!1,itemStyle:{normal:{borderColor:"rgb(0,34,69)",borderWidth:3}},labelLine:{normal:{show:!1,length:20,length2:120,lineStyle:{color:"#e6e6e6"}}},label:{normal:{show:!1,formatter:l=>"{icon|●}{name|"+l.name+"}{value|"+formatNumber(l.value)+"}",padding:[0,-100,25,-100],rich:{icon:{fontSize:16},name:{fontSize:14,padding:[0,10,0,4],color:"#666666"},value:{fontSize:18,fontWeight:"bold",color:"#333333"}}}}},{name:"",tooltip:{show:!1},type:"pie",radius:["68%","67%"],center:["35%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1,color:"white"}}},data:[{value:50,name:"",itemStyle:{normal:{color:" #274C80",opacity:.5}}}]},{name:"",type:"custom",coordinateSystem:"none",renderItem:function(l,e){let n=31*e.getWidth()/90,r=e.getHeight()/2.97,o=Math.min(e.getWidth(),e.getHeight())/2,t=getCirlPoint(n,r,o,90+-angle);return{type:"circle",shape:{cx:t.x,cy:t.y,r:3},style:{stroke:"#274C80",fill:"#274C80"},silent:!0}},data:[0]},{name:"",type:"custom",coordinateSystem:"none",renderItem:function(l,e){let n=31*e.getWidth()/88,r=e.getHeight()/1.51,o=Math.min(e.getWidth(),e.getHeight())/2,t=getCirlPoint(n,r,o,270+-angle);return{type:"circle",shape:{cx:t.x,cy:t.y,r:3},style:{stroke:"#274C80",fill:"#274C80"},silent:!0}},data:[0]}]};
