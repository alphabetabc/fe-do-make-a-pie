option={backgroundColor:"rgba(1, 17, 48, 0.8)",legend:{orient:"vertical",top:"center",right:"10%",textStyle:{color:"#fff"},data:["物损","人伤","死亡"],formatter:e=>{let o=option.series[0].data,t=0,a=0;o.map((r,l)=>{t+=Number(r.value),r.name==e&&(a=Number(r.value))});let i=0;return t&&(i=(a/t*100).toFixed(0)),`${e}${a} (${i}%)`}},title:{text:"事故类型",x:"33%",y:"center",textStyle:{fontSize:18,fontWeight:500,color:"rgba(255,255,255,1)",lineHeight:25}},series:[{type:"pie",name:"",center:["40%","50%"],radius:["45%","70%"],avoidLabelOverlap:!1,left:"10%",itemStyle:{normal:{}},label:{normal:{show:!1,formatter(e){return`{bigger|${e.value}起}
{small|${e.name}}`},position:["30%","50%"]},emphasis:{show:!0,textStyle:{color:"#fff",fontWeight:"bold"},rich:{bigger:{fontSize:"30"},small:{fontSize:"20"}}}},labelLine:{normal:{show:!0,length:20,length2:40},emphasis:{show:!0}},data:[{value:335,name:"物损",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#B4EC51"},{offset:1,color:"#429321"}],!1)}}},{value:310,name:"人伤",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#FAD961"},{offset:1,color:"#F76B1C"}],!1)}}},{value:234,itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F5515F"},{offset:1,color:"#9F041B"}],!1)}},name:"死亡"}]}]};var curIndex=-1;myChart.on("click","series.pie",e=>{myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e.dataIndex}),curIndex=e.dataIndex}),myChart.on("mouseover","series.pie",e=>{myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:curIndex}),this.curPieDataIndex!=-1&&myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e.dataIndex})}),myChart.on("mouseout","series.pie",e=>{this.curPieDataIndex!=-1&&myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:curIndex})});
