var names=["正常","维护","建设中","关闭"],values1=[257,142,125,120],values2=[222,231,157,120],colorList=["#FAFC01","#FF288D","#01C4C6","#41FD58"],data1=[],data2=[],t1=0,t2=0,data3=[],data4=[];names.forEach((e,t)=>{data1.push({name:names[t],value:values1[t]}),data2.push({name:names[t],value:values2[t]}),t1+=values1[t],t2+=values2[t]}),values1.forEach((e,t)=>{data3.push(Number(values1[t]*100/t1).toFixed(2)),data4.push(Number(values2[t]*100/t2).toFixed(2))}),console.log(data3+"|"+data4),data1.reverse(),data2.reverse();var itemStyle={normal:{borderColor:"#0A1934",borderWidth:5,color:function(e){return colorList[e.dataIndex]}}},textStyle={color:"#fff",fontSize:30,fontWeight:100},legendTextStyle={rich:{title:{color:"#fff",fontSize:12,fontWeight:100,fontFamily:"HuaKang",width:"100px",padding:[0,10,0,10]},value:{color:"#fff",fontSize:12,fontWeight:100,fontFamily:"HuaKang",padding:[0,0,0,10]},zhanbi:{color:"#fff",fontSize:12,fontWeight:100,fontFamily:"HuaKang",padding:[0,10,0,0]},unit:{color:"#fff",fontSize:12,fontWeight:100,fontFamily:"HuaKang",padding:[0,30,0,0]},percent:{color:"#fff",fontSize:12,fontWeight:100,fontFamily:"HuaKang",padding:[0,0,0,0]}}},leftCenter=["25.5%","30%"],rightCenter=["74.5%","30%"],radius1=["15%","20%"],radius3=["30%","31%"],option={backgroundColor:"#0A1934",legend:[{data:names,icon:"vertical",left:"10%",bottom:"10%",orient:"vertical",itemGap:20,itemWidth:12,itemHeight:12,formatter:function(e){let t=names.indexOf(e);return`{title|${e}}{value|${data1[t].value}}{unit|个}{zhanbi|占比}{percent|${data3[t]}}{unit|%}`},textStyle:legendTextStyle},{data:names,icon:"vertical",left:"61%",bottom:"10%",orient:"vertical",itemGap:20,itemWidth:12,itemHeight:12,formatter:function(e){let t=names.indexOf(e);return`{title|${e}}{value|${values2[t]}}{unit|个}{zhanbi|占比}{percent|${data4[t]}}{unit|%}`},textStyle:legendTextStyle}],tooltip:{trigger:"item"},title:[{text:"充电站",x:"21%",y:"28%",textStyle},{text:"充电桩",x:"70%",y:"28%",textStyle}],series:[{type:"pie",zlevel:3,radius:radius1,center:leftCenter,itemStyle,labelLine:{show:!1,normal:{length:5,length2:0,lineStyle:{color:"transparent"}}},label:{normal:{formatter:e=>"●"}},data:data1},{type:"pie",zlevel:1,silent:!0,radius:radius3,center:leftCenter,itemStyle:{normal:{color:function(e){return colorList[e.dataIndex]}}},labelLine:{show:!1,normal:{length:10,length2:0,lineStyle:{color:"transparent"}}},label:{show:!0},data:data1},{type:"pie",zlevel:3,radius:radius1,center:rightCenter,itemStyle,labelLine:{show:!1,normal:{length:5,length2:0,lineStyle:{color:"transparent"}}},label:{normal:{formatter:e=>"●"}},data:data2},{type:"pie",zlevel:1,silent:!0,radius:radius3,center:rightCenter,itemStyle:{normal:{color:function(e){return colorList[e.dataIndex]}}},labelLine:{show:!1,normal:{length:10,length2:0,lineStyle:{color:"transparent"}}},label:{show:!0,normal:{formatter:e=>data4[e.dataIndex]+"%"}},data:data2}]};
