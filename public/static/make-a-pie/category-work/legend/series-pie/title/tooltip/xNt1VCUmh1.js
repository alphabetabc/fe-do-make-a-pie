let angle=0,timerId;const value=78,backgroundColor="#101736",title={text:"今日进度",textStyle:{color:"#fff",fontSize:16},padding:0,top:35,left:"center"},legend={show:!1},tooltip={show:!1},colors=["#A098FC","#4386FA","#4FADFD","#0CD3DB","#646CF9"],innerRingColor={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[0,.3,.6,.8,1].map((e,t)=>({offset:e,color:colors[t]})),global:!1};option={backgroundColor,color:colors,title,tooltip,legend,series:[{name:"",type:"pie",center:["50%","50%"],radius:["32%","35%"],avoidLabelOverlap:!1,clockwise:!1,startAngle:90,label:{show:!0,position:"center",formatter:"{d}%",fontSize:50,fontWeight:"bold"},data:[{value,name:"完成",itemStyle:{color:innerRingColor,opacity:1}},{value:100-value,name:"未完成",itemStyle:{color:"#282c40"}}].sort((e,t)=>t.value-e.value),emphasis:{scale:!1}},{name:"",type:"pie",center:["50%","50%"],radius:["40%","50%"],avoidLabelOverlap:!1,clockwise:!1,startAngle:90,label:{show:!1},data:[{value,name:"完成",itemStyle:{color:innerRingColor,opacity:1}},{value:100-value,name:"未完成",itemStyle:{color:"#282c40"}}].sort((e,t)=>t.value-e.value),emphasis:{scale:!1}},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.6,startAngle:(0+angle)*Math.PI/180,endAngle:(90+angle)*Math.PI/180},style:{stroke:colors[0],fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let r=t.getWidth()/2,l=t.getHeight()/2,a=Math.min(t.getWidth(),t.getHeight())/2*.6,n=getCirlPoint(r,l,a,90+angle);return{type:"circle",shape:{cx:n.x,cy:n.y,r:4},style:{stroke:colors[0],fill:colors[0]},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.6,startAngle:(180+angle)*Math.PI/180,endAngle:(270+angle)*Math.PI/180},style:{stroke:colors[1],fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let r=t.getWidth()/2,l=t.getHeight()/2,a=Math.min(t.getWidth(),t.getHeight())/2*.6,n=getCirlPoint(r,l,a,180+angle);return{type:"circle",shape:{cx:n.x,cy:n.y,r:4},style:{stroke:colors[1],fill:colors[1]},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.65,startAngle:(270+-angle)*Math.PI/180,endAngle:(40+-angle)*Math.PI/180},style:{stroke:colors[2],fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.65,startAngle:(90+-angle)*Math.PI/180,endAngle:(220+-angle)*Math.PI/180},style:{stroke:colors[2],fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let r=t.getWidth()/2,l=t.getHeight()/2,a=Math.min(t.getWidth(),t.getHeight())/2*.65,n=getCirlPoint(r,l,a,90+-angle);return{type:"circle",shape:{cx:n.x,cy:n.y,r:4},style:{stroke:colors[3],fill:colors[3]},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let r=t.getWidth()/2,l=t.getHeight()/2,a=Math.min(t.getWidth(),t.getHeight())/2*.65,n=getCirlPoint(r,l,a,270+-angle);return{type:"circle",shape:{cx:n.x,cy:n.y,r:4},style:{stroke:colors[3],fill:colors[3]},silent:!0}},data:[0]}]};function getCirlPoint(e,t,r,l){let a=e+r*Math.cos(l*Math.PI/180),n=t+r*Math.sin(l*Math.PI/180);return{x:a,y:n}}function draw(){angle=angle+3,myChart.setOption(option,!0)}draw(),setTimeout(function(){timerId&&clearInterval(timerId),timerId=setInterval(function(){draw()},100)},500);
