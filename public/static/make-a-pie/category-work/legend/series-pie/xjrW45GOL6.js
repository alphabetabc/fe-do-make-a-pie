var data=[{name:"一级告警",value:200},{name:"二级告警",value:44},{name:"三级告警",value:35}];const namArr=data.map(t=>t.name);let totalCount=0;data.forEach(t=>{totalCount+=t.value});const titleArr=[],seriesArr=[],colors=[["#ff3d46","#1e5486"],["#fdff00","#1e5486"],["#009dff","#1e5486"]];data.forEach(function(t,e){titleArr.push({text:t.name,top:"65%",textAlign:"center",textStyle:{fontWeight:"normal",fontSize:"16",color:colors[e][0],textAlign:"center"}}),seriesArr.push({name:t.name,type:"pie",clockWise:!1,radius:[28,35],itemStyle:{normal:{color:colors[e][0],shadowColor:colors[e][0],shadowBlur:0,label:{show:!1},labelLine:{show:!1}}},hoverAnimation:!0,center:window.innerWidth>1400?e===0?["25%","50%"]:[25+12*e+"%","50%"]:e===0?["35%","50%"]:[35+15*e+"%","50%"],data:[{value:t.value,label:{normal:{formatter:function(o){return o.value},position:"center",show:!0,textStyle:{fontSize:"16",fontWeight:"bold",color:colors[e][0]}}}},{value:totalCount-t.value,name:"invisible",itemStyle:{normal:{color:colors[e][1]},emphasis:{color:colors[e][1]}}}]})}),option={backgroundColor:"#666666",legend:{orient:"vertical",left:"2%",top:"center",itemGap:10,selectedMode:!1,icon:"pin",data:namArr,textStyle:{color:"#ffffff",rich:{uname:{padding:[0,12,0,0]},unum:{color:"#4ed139",marginLeft:12}}},formatter(t){console.log("data is:=====>",data);const e=data.filter(a=>a.name===t);let o=0;data.forEach(a=>{o+=a.value});const l=(e[0]?.value/o*100).toFixed(2);return`{uname|${t}}{unum|${l}%}`}},series:seriesArr};
