var behaviours={},std={};behaviours.范围2=["范围2"],behaviours.范围1=["固定排放","移动排放","逸散排放"],std.范围2=[12],std.范围1=[1,1,2];var innervalue=[];for(let e of Object.keys(behaviours))innervalue.push({name:e,value:std[e].reduce((t,r)=>t+r,0)});var outervalue=[],behaviours_arr=[...behaviours.范围2,...behaviours.范围1],std_arr=[...std.范围2,...std.范围1];for(let[e,t]of behaviours_arr.entries())outervalue.push({name:t,value:std_arr[e]});goodCor=["#67FF8A","#67FF8A"],badCor=["rgba(66,180,255,.6)","rgba(180, 220,252,.6)"];let echartData={inner:innervalue,outer:outervalue};option={grid:{left:"1%",right:"",top:0,bottom:0},legend:[{show:!0,data:["范围1"],orient:"vertical",right:"10%",top:"37%",itemWidth:20,itemHeight:20,itemGap:30,formatter:function(e){var t=std,r=0,a=0;return t.范围1.map(o=>{r+=o-0,a+=o-0}),t.范围2.map(o=>{r+=o-0}),e+"        "+a+"t CO2    "+(a/r).toFixed(2)*100+"%";debugger},textStyle:{color:"#fff",fontSize:16}},{show:!0,data:["固定排放","移动排放","逸散排放"],orient:"vertical",right:"10.5%",top:"13%",top:"center",itemWidth:20,itemHeight:20,itemGap:30,formatter:function(e){var t=std,r=0;t.范围1.map(l=>{r+=l-0}),t.范围2.map(l=>{r+=l-0});let o=["固定排放","移动排放","逸散排放"].filter(l=>l).indexOf(e);return e+"    "+t.范围1[o]+"t CO2    "+(t.范围1[o]/r).toFixed(2)*100+"%"},textStyle:{color:"#B6C1C9",fontSize:14}},{show:!0,data:["范围2"],orient:"vertical",right:"10%",top:"59%",itemWidth:20,itemHeight:20,itemGap:30,formatter:function(e){var t=std,r=0,a=0;return t.范围1.map(o=>{r+=o-0}),t.范围2.map(o=>{r+=o-0,a+=o-0}),e+"       "+a+"t CO2    "+(a/r).toFixed(2)*100+"%"},textStyle:{color:"#fff",fontSize:16}}]},option.backgroundColor="#071B33",option.color=[{x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:goodCor[0]},{offset:1,color:goodCor[1]}]},{x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:badCor[0]},{offset:1,color:badCor[1]}]}],option.series=[{type:"pie",radius:["34%","40%"],hoverAnimation:1,hoverOffset:1,selectedMode:"single",selectedOffset:3,zlevel:3,label:{show:!1},itemStyle:{normal:{borderColor:"auto"}},data:echartData.inner},{type:"pie",radius:["34%","46%"],hoverAnimation:1,hoverOffset:1,selectedMode:"single",selectedOffset:3,label:{show:!1},itemStyle:{normal:{color:e=>{if(behaviours.范围1.includes(e.name)){if(e.name==="固定排放")return"rgba(66,180,255,.8)";if(e.name==="移动排放")return"rgba(121,199,250,.8)";if(e.name==="逸散排放")return"rgba(170,221,255,.8)"}else return"rgba(146,250,150,.2)"},borderWidth:0,borderColor:"rgba(14,36,76,.3)"}},data:echartData.outer},{type:"pie",radius:["29%","40.2%"],hoverAnimation:1,hoverOffset:1,selectedMode:"single",selectedOffset:3,zlevel:20,label:{show:!1},zlevel:6,itemStyle:{normal:{color:e=>behaviours.范围1.includes(e.name)?"rgba(4,155,255,.6)":"rgba(137,234,145,.3)",borderWidth:0,borderColor:"rgba(14,36,76,.1)"}},data:echartData.outer}];
