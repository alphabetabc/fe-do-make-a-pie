let pieSource={这个人员:335,那个人员:335,这个那个人员:335,特殊人员:335,优先人员:335,正常人员:335,特别正常人员:335,人员:335},legendColor=["#3471fd","#6babff","#aee1ff","#fca98f","#5598ff","#4a53ff","#fe6e52","#5fc6fc"],richStyle={};function initData(a){if(legendColor.map((e,o)=>{richStyle["style"+o]={},richStyle["style"+o].color=e,richStyle["style"+o].align="right"}),Object.prototype.toString.call(a)==="[object Object]"){const e=[],o=[];return Object.entries(a).forEach(t=>{o.push(t[0]);let r={};r.name=t[0],r.value=t[1],e.push(r)}),a=e,{source:a,legendData:o}}else if(a&&Object.prototype.toString.call(a)==="[object Array]"){let e=[];return a.forEach((o,t)=>{e.push(o.name)}),{source:a,legendData:e}}}source=initData(pieSource),option={backgroundColor:"#131535",tooltip:{trigger:"item",textStyle:{color:"#fff"},formatter:"{a} <br/>{b} : {c} ({d}%)"},color:legendColor,legend:[{orient:"vertical",left:500,y:"center",icon:"rect",textStyle:{color:"#cddafd",fontSize:14,rich:richStyle,width:207,height:20,backgroundColor:{image:"/asset/get/s/data-1545016257824-mxLqGjr4z.png"}},padding:[30,0,30,0],itemWidth:10,itemHeight:5,itemGap:20,data:source.legendData.slice(0,4),formatter:function(a){let e=option.series[0].data,o=0;e.forEach((t,r)=>{o+=t.value});for(let t=0;t<e.length;t++)if(a==e[t].name)return a+"{style"+t+"|"+(e[t].value/o*100).toFixed(2)+"%}"}},{orient:"vertical",left:800,y:"center",icon:"rect",textStyle:{color:"#cddafd",fontSize:14,rich:richStyle,width:207,height:20,backgroundColor:{image:"/asset/get/s/data-1545016257824-mxLqGjr4z.png"}},padding:[30,0,30,0],itemWidth:10,itemHeight:5,itemGap:20,data:source.legendData.slice(4),formatter:function(a){let e=option.series[0].data,o=0;e.forEach((t,r)=>{o+=t.value});for(let t=0;t<e.length;t++)if(a==e[t].name)return a+"  {style"+t+"|"+(e[t].value/o*100).toFixed(2)+"%}"}}],series:[{name:"重点人员",type:"pie",radius:["10%","40%"],center:["20%","50%"],data:source.source,itemStyle:{normal:{label:{show:!1},shadowColor:"#438bff",shadowBlur:20}}}]};
