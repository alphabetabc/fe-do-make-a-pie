var dataStyle={normal:{label:{show:!1},labelLine:{show:!1},shadowBlur:10,shadowColor:"rgba(40, 40, 40, 0.3)"}},placeHolderStyle={normal:{color:"rgba(0,0,0,0)",label:{show:!1},labelLine:{show:!1}}},item={value:50,name:"invisible",tooltip:{show:!1},itemStyle:placeHolderStyle},da=[{name:"公司1",value:300},{name:"公司2",value:200},{name:"公司3",value:100},{name:"公司4",value:50},{name:"公司5",value:25},{name:"公司6",value:15}],daa=[{name:"公司1",value:300,percent:"43.47%"},{name:"公司2",value:200,percent:"28.98%"},{name:"公司3",value:100,percent:"14.49%"},{name:"公司4",value:50,percent:"7.24%"},{name:"公司5",value:25,percent:"2.89%"},{name:"公司6",value:15,percent:"2.1%"}],total=0;daa.map(a=>{total+=a.value}),daa.forEach(a=>{a.percent=(a.value/total*100).toFixed(1)}),console.log(daa);var color=["#857ABA","#4C3CAE","#8C0F86","#CA2C95","#E1A4C4","#857ABA"],data1=[],title="供应商",arrName=getArrayValue(daa,"name"),arrValue=getArrayValue(daa,"value"),sumValue=eval(arrValue.join("+")),objData=array2obj(daa,"name");function getArrayValue(a,r){var r=r||"value",e=[];return a&&a.forEach(function(t){e.push(t[r])}),e}function array2obj(a,l){for(var r={},e=0;e<a.length;e++)r[a[e][l]]=a[e];return r}for(let a=0;a<arrValue.length;a++)data1.push({name:title,type:"pie",clockWise:!1,radius:[150-a*20,170-a*20],label:{show:!1},hoverAnimation:!1,data:[{value:arrValue[a],name:arrName[a]},item]});option={color,tooltip:{show:!0,formatter:"{a} <br/>{b} : {c}"},legend:{itemGap:7,top:"27%",right:"10px",formatter:function(a){return"{percent|"+objData[a].percent+"% }{name|"+a+" }{value|"+objData[a].value+"项}"},textStyle:{rich:{percent:{fontSize:15,color:""},name:{fontSize:18,color:"rgba(0,0,0,.45)"},value:{fontSize:14,color:"rgba(0,0,0,.85)"}}},orient:"vertical",data:arrName},series:data1};
