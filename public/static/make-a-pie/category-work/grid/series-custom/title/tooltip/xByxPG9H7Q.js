var myValue=[40,60,29,70,100],name="提示描述信息",lineColor="#C4C9D3",rectColor=["#7091C4","#5170A2","#A6A6A6","#C4C9D3","#3FA7DC"],rectHeight=24,step=12,lineWidth=2,originX=350,originY=100,rectValue=[],lineValue=[],maxValue=Math.max(...myValue),heightStep=rectHeight+step;myValue.map(function(t){rectValue.push([0,t])});var rectData=[];rectValue.forEach(function(t,e){var r=(maxValue-t[1])/2,a=heightStep*e;rectData.push([r,a,t[1]])});var tempArr=[];myValue.map(function(t,e){var r=[[maxValue-t]/2,heightStep*e],a=[[maxValue-t]/2+t,heightStep*e],l=[[maxValue-t]/2+t,heightStep*e+rectHeight],o=[[maxValue-t]/2,heightStep*e+rectHeight],n={a:r,b:a,c:l,d:o};tempArr.push([n])}),tempArr.map(function(t,e){let r=myValue.length;if(e+1<r){var a=tempArr[e+1];lineValue.push([t[0].c[0],t[0].c[1],a[0].b[0],a[0].b[1]]),lineValue.push([t[0].d[0],t[0].d[1],a[0].a[0],a[0].a[1]])}});function getLineItem(t,e){let r=originX+e.size([2,1])[1]+e.value(0),a=originY+e.size([2,1])[1]+e.value(1),l=originX+e.size([2,1])[1]+e.value(2),o=originY+e.size([2,1])[1]+e.value(3);return{type:"line",shape:{x1:r,y1:a,x2:l,y2:o},style:e.style({fill:null,stroke:lineColor,lineWidth})}}function getRectItem(t,e){let r=t.dataIndex,a=originX+e.size([2,1])[1]+rectData[r][0],l=originY+e.size([2,1])[1]+rectData[r][1],o=e.size([2,1])[1]+rectHeight,n=e.size([2,1])[1]+rectData[r][2],s=rectColor[r];return{type:"rect",shape:{x:a,y:l,width:n,height:o},style:e.style({fill:s,stroke:s,lineWidth:1})}}option={title:{text:"custom自定义图",left:"center"},grid:{left:"15",right:"15",bottom:"25"},tooltip:{show:!1,formatter:function(t){return`${t.seriesName}:${t.value[1]}`}},xAxis:{show:!1},yAxis:{show:!1},series:[{type:"custom",name,renderItem:getLineItem,data:lineValue},{type:"custom",name,label:{normal:{show:!0,color:"#fff",fontSize:12,position:"inside"}},renderItem:getRectItem,data:rectValue}]};
