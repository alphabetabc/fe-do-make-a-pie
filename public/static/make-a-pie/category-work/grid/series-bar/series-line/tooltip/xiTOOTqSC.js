let chartData=[.003,2e3,8e4,4,19,33,0],logBase=10,max=Math.max(...chartData),min=Math.min(...chartData.filter(a=>a>0)),dMax=0,dMin=0;for(;Math.pow(logBase,dMax)<=max;)dMax++;for(;Math.pow(logBase,dMin)>=min&&dMin>-10;)dMin--;let interval=logBase/Math.abs(dMax);option={tooltip:{trigger:"axis",formatter:function(a){let e=a[0].name+"</br>";return a.forEach(function(t){e+=t.marker+" "+t.seriesName+" : "+chartData[t.dataIndex]+"</br>"}),e}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:[{type:"value",max:logBase+interval*Math.abs(dMin),interval,min:0,axisLabel:{formatter:a=>a===0?0:Math.pow(logBase,(a-interval*Math.abs(dMin))/interval)}}],series:[{data:chartData.map(a=>a!==0?Math.log(a)/Math.log(logBase)*interval+interval*Math.abs(dMin):0),type:"line",name:"line"},{data:chartData.map(a=>a!==0?Math.log(a)/Math.log(logBase)*interval+interval*Math.abs(dMin):0),type:"bar",name:"bar"}]};
