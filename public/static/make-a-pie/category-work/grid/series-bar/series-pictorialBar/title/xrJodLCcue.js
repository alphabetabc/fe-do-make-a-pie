var imgs=["http://pic43.nipic.com/20140714/1741729_203904425226_2.jpg","http://i1.mhimg.com/kl688file/2012-2/2012022913021647170.jpg","http://www.tianshui.com.cn/Files/RoUpFiles/4192533128.jpg"],currentIndex=0,timer;function menuFormater(e,a){let t=null;return e instanceof Array?t=e[0]:t=e,t.dataIndex!==0?"":a}var currentMenu,option={title:{text:"echarts 小程序 - 图片查看器"},xAxis:{position:"top",type:"value",axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},yAxis:{type:"category",data:["","","","","","","","","","","",""],axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},series:[{name:"all",type:"pictorialBar",symbol:"image://"+imgs[currentIndex],symbolSize:[300,300],symbolRepeat:!0,data:[0,0,0,0,0,0,1],animationEasing:"elasticOut",symbolPosition:"center"},{name:"previous",type:"bar",stack:"总量",label:{normal:{formatter:function(e){return menuFormater(e,"")},textStyle:{fontSize:14,color:"#000"},itemStyle:{color:"#fff"},show:!0,position:[10,10]}},data:[300,0,0,0,0,0,0,0,0,0,0,0],itemStyle:{normal:{color:"#99a9bf"}}},{name:"previous",type:"bar",stack:"总量",label:{normal:{formatter:function(e){return menuFormater(e,"上一张")},textStyle:{fontSize:14,color:"#000"},show:!0,position:[10,10]}},data:[300,0,0,0,0,0,0,0,0,0,0,0],itemStyle:{normal:{color:"#99a9bf"}}},{name:"play",type:"bar",stack:"总量",label:{normal:{formatter:function(e){return menuFormater(e,"播放/停止")},textStyle:{fontSize:14,color:"#000"},show:!0,position:[10,10]}},data:[300,0,0,0,0,0,0,0,0,0,0,0],itemStyle:{normal:{color:"#99a9bf"}}},{name:"next",type:"bar",stack:"总量",label:{normal:{formatter:function(e){return menuFormater(e,"下一张")},textStyle:{fontSize:14,color:"#000"},show:!0,position:[10,10]}},data:[300,0,0,0,0,0,0,0,0,0,0,0],itemStyle:{normal:{color:"#99a9bf"}}},{name:"about",type:"bar",stack:"总量",label:{normal:{formatter:function(e){return menuFormater(e,"")},textStyle:{fontSize:14,color:"#000"},show:!0,position:[10,10]}},data:[300,0,0,0,0,0,0,0,0,0,0,0],itemStyle:{normal:{color:"#99a9bf"}},barGap:"1%"}]};myChart.on("click",function(e){if(e.seriesName==="previous"){timer!==null&&(clearInterval(timer),timer=null),currentIndex--,currentIndex<0&&(currentIndex=imgs.length-1),option.series[0].symbol="image://"+imgs[currentIndex],myChart.setOption(option);return}if(e.seriesName==="play"){if(timer!==null){clearInterval(timer),timer=null;return}timer=setInterval(function(){currentIndex--,currentIndex<0&&(currentIndex=imgs.length-1),option.series[0].symbol="image://"+imgs[currentIndex],myChart.setOption(option)},1e3)}if(e.seriesName==="next"){timer!==null&&(clearInterval(timer),timer=null),currentIndex++,currentIndex>=imgs.length&&(currentIndex=0),option.series[0].symbol="image://"+imgs[currentIndex],myChart.setOption(option);return}});
