var barWidth=300,safeStock=50,maxStock=110,value=80,maxNum=150,safeStockPer=parseInt(safeStock/maxNum*100),maxStockPer=parseInt(maxStock/maxNum*100),valuePer=parseInt((value>maxNum?maxNum:value)/maxNum*100);option={backgroundColor:"transparent",title:{show:!0,text:"大标题",subtext:"副标题",left:"8%",bottom:"50%",textStyle:{fontSize:14,fontWeight:"bold",fontFamily:"Microsoft YaHei"},subtextStyle:{fontStyle:"italic",fontSize:14}},tooltip:{trigger:"item"},xAxis:{data:["百分比"],axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1,textStyle:{color:"#e54035"}}},yAxis:{splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1}},series:[{name:"圆柱底部的立体圆",type:"pictorialBar",symbolSize:[barWidth,barWidth/5*2],symbolOffset:[0,"50%"],z:12,tooltip:{show:!1},data:[{name:"",value:valuePer,itemStyle:{normal:{color:"rgba(86,177,213, 1)"}}}]},{name:"最下层外圈的立体元",type:"pictorialBar",symbolSize:[barWidth*1.6,barWidth/5*2*1.9],symbolOffset:[0,"48%"],tooltip:{show:!1},data:[{name:"",value:valuePer,itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(89,211,255,.3)"},{offset:1,color:"rgba(23,237,194,.3)"}])}}}]},{name:"占比柱状图",type:"bar",barWidth,barGap:"-100%",z:11,tooltip:{show:!1},itemStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(55,255,249,1)"},{offset:1,color:"rgba(0,222,215,0.2)"}])},data:[{name:"",value:valuePer,itemStyle:{normal:{color:{x:1,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(120,201,230,.7)"},{offset:.3,color:"rgba(74,166,203,.9)"},{offset:.7,color:"rgba(74,166,203,.9)"},{offset:1,color:"rgba(120,201,230,.7)"}]}}}}]},{type:"bar",barWidth,barGap:"-100%",stack:"a",z:8,tooltip:{show:!1},itemStyle:{color:"transparent"},data:[valuePer]},{name:"柱状图头部外层立体圆",type:"pictorialBar",symbolSize:[barWidth,barWidth/5*2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:"100",symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .5)",borderColor:"rgba(104,136,183)",borderWidth:2}}}]},{name:"柱状图头部中间立体圆",type:"pictorialBar",symbolSize:[barWidth/2,barWidth/5*2/2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:"100",symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .5)",borderColor:"rgba(104,136,183)",borderWidth:2}}}]},{name:"柱状图头部内部立体圆",type:"pictorialBar",symbolSize:[barWidth/5*1.5,barWidth/5*2/5*1.5],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:"100",symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .5)",borderColor:"rgba(104,136,183)",borderWidth:2}}}]},{name:"最高库存外层立体圆",type:"pictorialBar",symbolSize:[barWidth,barWidth/5*2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:maxStockPer,symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .3)",borderColor:"rgba(91,154,174)",borderWidth:2}}}]},{name:"最高库存中间立体圆",type:"pictorialBar",symbolSize:[barWidth/2,barWidth/5*2/2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:maxStockPer,symbolPosition:"end",itemStyle:{normal:{borderWidth:2}}}]},{name:"最高库存内部立体圆",type:"pictorialBar",symbolSize:[barWidth/5*1.5,barWidth/5*2/5*1.5],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:maxStockPer,symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .3)",borderColor:"rgba(91,154,174)",borderWidth:2}}}]},{name:"最高库存圆心",type:"pictorialBar",symbolSize:[5,2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},label:{show:!0,position:"top",color:"#fff",fontSize:12,formatter:"最高"},data:[{name:"",value:maxStockPer,symbolPosition:"end",itemStyle:{normal:{color:"rgba(91,154,174)",borderColor:"rgba(91,154,174)",borderWidth:2}}}]},{name:"安全库存外层立体圆",type:"pictorialBar",symbolSize:[barWidth,barWidth/5*2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:safeStockPer,symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .3)",borderColor:"rgba(91,154,174)",borderWidth:2}}}]},{name:"安全库存中间立体圆",type:"pictorialBar",symbolSize:[barWidth/2,barWidth/5*2/2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:safeStockPer,symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .3)",borderColor:"rgba(91,154,174)",borderWidth:2}}}]},{name:"安全库存内部立体圆",type:"pictorialBar",symbolSize:[barWidth/5*1.5,barWidth/5*2/5*1.5],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},data:[{name:"",value:safeStockPer,symbolPosition:"end",itemStyle:{normal:{color:"rgba(22,75,119, .3)",borderColor:"rgba(91,154,174)",borderWidth:2}}}]},{name:"安全库存圆心",type:"pictorialBar",symbolSize:[5,2],symbolOffset:[0,"-50%"],z:12,tooltip:{show:!1},label:{show:!0,position:"top",color:"#fff",fontSize:12,formatter:"安全"},data:[{name:"",value:safeStockPer,symbolPosition:"end",itemStyle:{normal:{color:"rgba(91,154,174, .3)",borderColor:"rgba(91,154,174)",borderWidth:2}}}]},{name:"库存量立体圆",type:"pictorialBar",symbolSize:[barWidth,barWidth/5*2],symbolOffset:[0,"-50%"],z:13,tooltip:{formatter:"当前库存量为"+value},data:[{name:"",value:valuePer,symbolPosition:"end",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"rgba(74,166,203,.7)"},{offset:1,color:"rgba(74,166,203,.7)"}])}}}]},{name:"上部柱状图",type:"bar",barWidth,barGap:"-100%",tooltip:{show:!1},z:10,stack:"a",itemStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:"rgba(0,255,100,0.5)"},{offset:1,color:"rgba(0,255,100,0.5)"}])},data:[{name:"",value:"100"-valuePer,itemStyle:{normal:{color:{x:0,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(91,154,174,.3)"},{offset:1,color:"rgba(91,154,174,.7)"}]}}}}]}]};
