data=[{name:"常规",value:175.17},{name:"紧急",value:148.35},{name:"疑难",value:95.36}],xAxisData=[],seriesData1=[],sum=0,barTopColor=["#02c3f1","#53e568","#a154e9"],data.forEach(a=>{xAxisData.push(a.name),seriesData1.push(a.value),sum+=a.value}),option={backgroundColor:"black",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(a,e,o){const t=a[3];return t.name+" : "+t.value}},grid:{top:"5%",left:"1%",right:"1%",bottom:0,containLabel:!0},xAxis:{data:xAxisData,axisTick:{show:!1},axisLine:{show:!0},axisLabel:{show:!0,margin:15,textStyle:{fontSize:14,color:"#ffffff"}},interval:0},yAxis:{splitLine:{show:!1},axisTick:{show:!0},axisLine:{show:!0},axisLabel:{show:!0}},series:[{name:"柱顶部",type:"pictorialBar",symbolSize:[26,10],symbolOffset:[0,-5],z:12,itemStyle:{normal:{color:function(a){return barTopColor[a.dataIndex]},opacity:.5}},label:{show:!0,position:"top",fontSize:16,formatter:function(a,e){return(a.value/sum*100).toFixed(2)+"%"}},symbolPosition:"end",data:seriesData1},{name:"柱底部",type:"pictorialBar",symbolSize:[26,10],symbolOffset:[0,0],z:12,itemStyle:{normal:{color:function(a){return barTopColor[a.dataIndex]}}},data:seriesData1},{type:"bar",itemStyle:{normal:{color:function(a){return barTopColor[a.dataIndex]},opacity:.3}},z:16,silent:!0,barWidth:26,barGap:"-100%",data:seriesData1},{name:"最上层立体圆",type:"pictorialBar",symbolSize:[26,10],symbolOffset:[0,-5],z:12,itemStyle:{normal:{color:"#363F5E"}},data:[{value:sum,symbolPosition:"end"},{value:sum,symbolPosition:"end"},{value:sum,symbolPosition:"end"}]},{stack:"1",type:"bar",itemStyle:{normal:{color:"#36405E",opacity:.7}},silent:!0,barWidth:26,barGap:"-100%",data:[sum,sum,sum]}]};
