var captions=["1111","22222","33333","444444"],values=[123,456,789,159];console.log(captions),console.log(values);for(var maxLength=0,leftYWidth=0,i=0;i<captions.length;i++){let t=getWidth(captions[i]);t>leftYWidth&&(maxLength=captions[i].length,leftYWidth=t)}maxLength=0,rightYWidth=0;for(var i=0;i<values.length;i++){let e=getWidth(values[i]);e>rightYWidth&&(maxLength=values[i].length,rightYWidth=e)}function getWidth(t){var e=document.createElement("span");e.className="lsdom",e.innerHTML=t,document.documentElement.append(e);var o=e.offsetWidth;return document.documentElement.removeChild(e),o}var dis=60,option={backgroundColor:"#FFFFFF",color:["#63caff","#3608FE"],grid:{left:leftYWidth+dis+10,right:rightYWidth+dis+10,bottom:39*(5-values.length),top:40},xAxis:{show:!1},yAxis:[{type:"category",data:captions,name:"名称",nameGap:10,nameTextStyle:{color:"#666",align:"left",padding:[0,0,0,-leftYWidth*2]},axisLabel:{show:!0,align:"left",margin:leftYWidth+dis,formatter:function(t,e){let o=values.length-e;return o==1?"{firstTag|"+o+"}  {name|"+t+"}":"{tag|"+o+"}  {name|"+t+"}"},rich:{firstTag:{color:"#fff",backgroundColor:"#ff6711",width:24,align:"center",height:24,lineHeight:24,borderRadius:12,fontSize:14},tag:{color:"#333",backgroundColor:"#cbcedd",width:24,align:"center",height:24,lineHeight:24,borderRadius:12,fontSize:14},name:{color:"#333"}}},show:!0,splitLine:{show:!1,lineStyle:{color:"#eff0f5",type:"solid"}},axisLine:{lineStyle:{color:"#eff0f5",width:1,type:"solid"},show:!1}},{data:values,name:"价值",nameGap:10,nameTextStyle:{color:"#666",align:"left",padding:[0,0,0,0]},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,align:"left",margin:0,formatter:function(t,e){return values.length-e==1?"{firstName|"+t+"}":"{name|"+t+"}"},rich:{firstName:{color:"#ff6711",fontSize:14},name:{color:"#333",fontSize:14}}}}],series:[{type:"bar",barWidth:5,itemStyle:{normal:{color:function(t){var e=new echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#17b4d5"},{offset:1,color:"#6d44f8"}],!1);return t.dataIndex==values.length-1&&(e=new echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#fee157"},{offset:1,color:"#fa9c5f"}],!1)),e}}},barGap:0,data:values},{tooltip:{show:!0},type:"bar",barWidth:10,itemStyle:{normal:{color:function(t){var e=new echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#009ab2"},{offset:1,color:"#6124ec"}],!1);return t.dataIndex==values.length-1&&(e=new echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#ffd300"},{offset:1,color:"#ff680f"}],!1)),e}}},data:values,barGap:0},{tooltip:{show:!0},type:"pictorialBar",itemStyle:{borderWidth:1,borderColor:function(t){var e="#99e5f5";return t.dataIndex==values.length-1&&(e="#ffe97c"),e},color:function(t){var e="#99e5f5";return t.dataIndex==values.length-1&&(e="#ffe97c"),e}},symbol:"path://M 0,0 l -30,30 l 0,-60 l 30 -30   z",symbolSize:["4","15"],symbolOffset:["0","0"],symbolRotate:0,symbolPosition:"end",data:values,z:4},{tooltip:{show:!0},type:"pictorialBar",itemStyle:{borderWidth:1,borderColor:"#fff",color:"#fff"},symbol:"path://M 0,0 l -30,30 l 0,-60 l 30 -30   z",symbolSize:["4","12"],symbolOffset:["1","8"],symbolRotate:0,symbolPosition:"end",data:values,z:3}],tooltip:{show:!0}};return option;
