var r=function(t){var a=t||10;return Math.floor(Math.random()*a)},moonAndStars={type:"graph",data:function(){for(var t={x:r(150)+25,y:r(50)},a=[{symbolSize:80,x:t.x,y:t.y},{symbolSize:70,x:t.x-1.5,y:t.y-1.5,itemStyle:{normal:{color:"rgb(51, 51, 51)"}}},{symbolSize:0,x:0,y:0},{symbolSize:0,x:200,y:100}],n=60,o=[],e=0;e<n;e++)o.push({symbolSize:r(3),x:r(200),y:r(50)});return a.concat(o)}(),itemStyle:{normal:{color:"#ccc"}},silent:!0,z:-1},roofs=[[1,2,3,4,5,4,3,2,1],[2,2,2,4,4,4,2,2,2],[2,2,2,4,20,4,2,2,2],[10,9,8,7,6,5,4,3,2,1],[6,6,6,6,6,5,4,3,2,1],[.3,1,1.6,2.5,3,3.5,3.6,3.7,3.7,3.6,3.5,3,2.5,1.6,1,.3],[6,6,6,6,6,2,2,2],[6,5.5,5,4.5,4,3.5,3,2.5,2,1.5],[1,1,1,1,1,1.5,2,2.5,3,3.5,4],[1,1,1,1,1,1,1],[4,4,4,2,2,2,4,4,4]],build=function(t){for(var a=[100],n=14,o=t||50,e=function(m,y){for(var c=[],i=0;i<m.length;i++)c.push(m[i]+y);return c},l=0;l<n;l++){var s=e(roofs[r(11)],r(o));Math.random()<.5&&s.reverse(),a=a.concat(s),Math.random()<.5&&a.push(0)}return a},building=build(),building2=function(){for(var t=build(100),a=0;a<t.length;a++)t[a]>building[a]&&(t[a]=t[a]-building[a]);return t}();option={stack:!0,xAxis:{data:[],silent:!0,splitLine:{show:!1}},grid:{left:0,right:0,bottom:0,top:0},yAxis:{silent:!0,splitLine:{show:!1}},series:[moonAndStars,{type:"bar",data:building,itemStyle:{normal:{color:"rgb(38, 41, 57)"}},animationDelay:function(t){return t*10}},{type:"bar",data:building2,itemStyle:{normal:{color:"rgb(28, 31, 47)"}},animationDelay:function(t){return t*10+300}},{coordinateSystem:"cartesian2d",type:"lines",zlevel:-2,effect:{show:!0,period:1,trailLength:.05,symbolSize:Math.random()*2+1,symbol:"diamond",loop:!1},lineStyle:{normal:{color:"#ccc",opacity:0,curveness:-.05}},data:[{coords:[[r(50)+100,r(50)+150],[r(20)+10,r(50)+50]]}],animationDelay:1100}],animationEasing:"elasticOut",animationDelayUpdate:function(t){return t*5}},setInterval(function(){option.series[3].effect.symbolSize=Math.random()*2+1,option.series[3].data.push({coords:[[r(50)+100,r(50)+150],[r(20)+10,r(50)+50]]}),myChart.setOption(option)},8e3);
