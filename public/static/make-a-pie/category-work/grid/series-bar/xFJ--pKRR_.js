let originalData=[105101,436039,393569,-236854,-56312,934709,12345],seriesData=originalData.concat();function isSymbolConsistent(t,s){return t*s<0}function getValueColor(t,s,r){let o={value:r?Math.abs(t):t,itemStyle:{color:"#a90000"},label:{position:"bottom"}};return s?o:t}let helpValus=[],NumberSums=[],NumberSum=0;function getAllHelpValue(t){t.forEach((s,r)=>{r===0?(helpValus.push(0),NumberSum+=s,NumberSums.push(NumberSum),t[r]<0&&(t[r]=getValueColor(t[r],!0,!1))):isSymbolConsistent(NumberSum,s)?NumberSum<0&&Math.abs(NumberSum)>s?(helpValus.push(NumberSum+s),t[r]=-s):NumberSum<0&&Math.abs(NumberSum)<s?(helpValus.push(0),t[r]=NumberSum+s,NumberSum+=s,NumberSums.push(NumberSum)):NumberSum>0&&NumberSum>Math.abs(s)?(helpValus.push(NumberSum+s),t[r]=-s,NumberSum+=s,t[r]=getValueColor(t[r],!0,!1)):NumberSum>0&&s<0?(helpValus.push(0),t[r]=NumberSum+s,NumberSum+=s,NumberSums.push(NumberSum),t[r]=getValueColor(t[r],!0,!1)):(helpValus.push(0),t[r]=NumberSum+s,NumberSum+=s,NumberSums.push(NumberSum),t[r]=getValueColor(t[r])):isSymbolConsistent(NumberSum,s)||(helpValus.push(NumberSum),NumberSum+=s,NumberSums.push(NumberSum),t[r]<0&&(t[r]=getValueColor(t[r],!0,!1)))})}getAllHelpValue(seriesData),option={grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:function(){let t=[];for(let s=1;s<=seriesData.length;s++)t.push("Nov "+s);return t}()},yAxis:{type:"value"},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:helpValus},{name:"Income",type:"bar",stack:"Total",label:{show:!0,position:"top",formatter:t=>originalData[t.dataIndex]},data:seriesData}]};
