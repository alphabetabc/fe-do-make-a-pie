var titleText={labelLine:!0,text:"数据总量",unit:"条",color:[]},typeData={0:{name:"血氧",color:"#44BBB4"},1:{name:"心电",color:"#5386FC"},2:{name:"血压",color:"#F9B651"},3:{name:"体温",color:"#F49150"},4:{name:"血糖",color:"#F16467"},5:{name:"体脂",color:"#AF6EF1"},6:{name:"舌象",color:"#7FC8FB"},7:{name:"舌象",color:"#7FC8FB"},8:{name:"舌象",color:"#7FC8FB"},9:{name:"舌象",color:"#7FC8FB"}};function sumTotal(e){let t=0;return e.forEach((a,r,o)=>{t+=a.value==.1?0:a.value}),t||0}var data=[{value:12,checkType:"08",name:"舌象"},{value:6,checkType:"03",name:"血压"},{value:3,checkType:"02",name:"心电"},{value:2,checkType:"01",name:"血氧"},{value:4,checkType:"04",name:"体温"}];const newData=[];data.forEach((e,t,a)=>{e.value>0&&newData.push({value:e.value,name:typeData[t].name,itemStyle:{color:typeData[t].color},label:{rich:{hr:{backgroundColor:typeData[t].color},a:{color:"#999999"}}}})}),data=newData;const total=sumTotal(data);(!total||total===0)&&(data=[{value:0,name:"空",itemStyle:{color:"#13102F"},label:{show:!1}}]);const reducer=(e,t)=>(typeof e=="number"?e:e.value)+t.value,count=data.reduce(reducer),others=[],newOtherData=[];for(let e=0;e<data.length;e++)data[e].value/count<.05?others.push(data[e]):newOtherData.push(data[e]);others.length>1&&newOtherData.push({name:"其他",value:others.reduce(reducer),itemStyle:{color:"#9adfff"},label:{rich:{hr:{backgroundColor:"#9adfff"},a:{color:"#999999"}}}}),option={backgroundColor:"#02001D",legend:{show:!1,orient:"vertical",top:"0",right:"0",textStyle:{color:"#666666",fontWeight:"normal"}},title:{text:`${titleText.text}
{number|${total}}
{loading|${titleText.unit}}`,left:"center",top:"center",textStyle:{color:"#999999",fontSize:16,fontWeight:"400",rich:{loading:{color:"#999999",height:20,fontSize:16},number:{color:"#FFFFFF",height:70,fontSize:48,fontWeight:"bold",padding:[10,0,0,0]}}},itemGap:-4},tooltip:{trigger:"item",formatter:e=>{if(e.name==="其他"){let t="";return others.map(a=>{t+=`${a.name}: ${a.value} ${titleText.unit} (${Math.round(a.value*1e4/count)/100}%)<br/>`}),t}else return`${e.name}: ${e.value} ${titleText.unit} (${e.percent}%)`}},series:[{type:"pie",radius:["55%","65%"],center:["50%","50%"],avoidLabelOverlap:!0,color:titleText.color,silent:!total,label:{show:total?titleText.labelLine:!1,position:"outside",formatter:`{a|{b}}
{hr|}`,rich:{hr:{backgroundColor:"t",borderRadius:3,width:3,height:3,padding:[3,3,0,-12]},a:{padding:[-25,5,-20,3],color:"#999999"}}},emphasis:{label:{show:!0}},labelLine:{normal:{show:!1,length2:-2}},data:others.length<=1?data:newOtherData}]};var dataLen=option.series[0].data.length;setTimeout(()=>{myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:0})},1e3),myChart.currentIndex=-1,setInterval(()=>{myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:myChart.currentIndex}),myChart.currentIndex=(myChart.currentIndex+1)%dataLen,myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:myChart.currentIndex})},2e3);
