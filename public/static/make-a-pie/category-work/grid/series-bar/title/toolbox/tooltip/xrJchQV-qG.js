var mydata=[100,22,20,15,13,11,9,4,3,2,1],auxdata=[0];function sum(a){for(var t=0,e=0;e<a.length;e++)t=t+a[e];return t}for(var i=1;i<mydata.length;i++)auxdata.push(mydata[0]-sum(mydata.slice(1,i+1)));var xAxisdata=["Overal","Real estate","Manufacturing","Retail","Mining","Steel","Transportation","IT","Construction Material","Utilities","Energy"];option={title:[{text:"Contribution to debt-at-risk by sector",subtext:"In percent of total debt-at-risk"},{text:"Data source: Wojciech Maliszewski, et al., 2016",textStyle:{fontWeight:"light"},top:"bottom"}],toolbox:{feature:{magicType:{type:["line","bar"]},saveAsImage:{show:!0,pixelRatio:5}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(a){var t=a[1];return t.name+" : "+t.value+"%"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},axisLabel:{interval:0,rotate:45},data:xAxisdata},yAxis:{type:"value"},series:[{name:"辅助",type:"bar",stack:"总量",itemStyle:{normal:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},data:auxdata},{type:"bar",stack:"总量",label:{normal:{show:!0,position:"inside",formatter:"{c}%"}},data:mydata}]};
