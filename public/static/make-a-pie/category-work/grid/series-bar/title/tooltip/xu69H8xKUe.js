var data=[{name:"1#电梯",floorCount:6,nowFloor:4,type:0},{name:"2#电梯",floorCount:7,nowFloor:1,type:1},{name:"3#电梯",floorCount:6,nowFloor:6,type:0},{name:"4#电梯",floorCount:6,nowFloor:4,type:2},{name:"5#电梯",floorCount:5,nowFloor:3,type:1}];function setSeries(){var o=[],n=[],l=0;for(let e=0;e<data.length;e++)n.push(data[e].name),data[e].floorCount>l&&(l=data[e].floorCount);for(let e=1;e<=l;e++){let r={data:[],type:"bar",color:"rgba(7, 7, 7, 1)",stack:"one",barWidth:50},a={type:"bar",stack:"one",color:"rgba(125, 125, 125, 0)",barWidth:50,data:[]};for(let t=0;t<data.length;t++)e<=data[t].floorCount?(r.data.push({value:7,itemStyle:{borderColor:"rgba(150, 150, 150, .3)",borderWidth:"20",color:new echarts.graphic.LinearGradient(0,0,0,.7,[{offset:0,color:e!=data[t].nowFloor?"#087cf9":"#f51207"},{offset:1,color:e!=data[t].nowFloor?"#09408a":"#e2746e"}])},label:{color:"#fff",show:!0,position:"inside",formatter:e+"F"}}),a.data.push(2)):(r.data.push(null),a.data.push(null));o.push(r),o.push(a)}var s={backgroundColor:"#021228",title:{text:"",textStyle:{fontWeight:"normal",fontSize:16,color:"#fff"}},tooltip:{show:!1},grid:{top:100,left:10,right:10,bottom:100},xAxis:{data:n,axisLine:{lineStyle:{color:"#fff"},show:!1},axisLabel:{show:!0,fontSize:14},axisTick:{show:!1}},yAxis:{splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},series:o};myChart.setOption(s)}setSeries(),setInterval(function(){for(let o=0;o<data.length;o++)data[o].type===1?data[o].nowFloor<data[o].floorCount?data[o].nowFloor++:data[o].type=2:data[o].type===2&&(data[o].nowFloor>1?data[o].nowFloor--:data[o].type=1);setSeries()},2e3);
