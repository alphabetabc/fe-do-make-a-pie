let barColor={green:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2AFF4C"},{offset:1,color:"#28B441"}],!1),red:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#ff2d1d"},{offset:1,color:"#c9281b"}],!1),yellow:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#FEFF5B"},{offset:1,color:"#D8D95D"}],!1)};function random(e,t){return(Math.random()*(t-e)+e).toFixed(2)}let lineX=[],values=[];for(let e=1;e<16;e++)lineX.push("电池"+e),values.push(parseFloat(random(38,66)));let lineY=[{name:"总电压",type:"bar",barMaxWidth:25,itemStyle:{barBorderRadius:[5,5,0,0],color:function(e){return e.value<48?barColor.red:e.value>56.5?barColor.yellow:barColor.green}},data:values}],charts={lineX,lineY};option={backgroundColor:"#081832",title:{text:"蓄电池总电压采集值对比",subtext:"根据阈值动态改变柱子颜色",textStyle:{color:"#fff"},subtextStyle:{color:"#ddd",fontSize:13},x:"center"},tooltip:{trigger:"axis",textStyle:{color:"#ffffff"},backgroundColor:"rgba(50,50,50,0.6)",transitionDuration:0,axisPointer:{type:"shadow"},confine:!0},grid:{top:"10%",left:"20",right:"20",bottom:"15",containLabel:!0},xAxis:{type:"category",data:charts.lineX,axisLabel:{textStyle:{color:"#3dbaff"},interval:0,rotate:40}},yAxis:{type:"value",name:"V",axisLabel:{formatter:"{value}",textStyle:{color:"#3dbaff"}},splitLine:{lineStyle:{color:"rgb(23,255,243,0.3)"}},axisLine:{lineStyle:{color:"rgb(0,253,255,0.6)"}},scale:!0,min:function(e){return e.min-2>0?parseInt(e.min-2):e.min<0?e.min:0}},series:charts.lineY};
