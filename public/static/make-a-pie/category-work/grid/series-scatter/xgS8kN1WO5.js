for(var getname=["本校","省内外校","省外院校","境外院校","测试","测试","测试"],getvalue=[54,31,5,10,0,0,0],sumvalue=sum(getvalue),data=[],i=0;i<getname.length;i++)data.push({name:getname[i],value:getvalue[i]});function sum(e){for(var r=0,a=e.length-1;a>=0;a--)r+=e[a];return r}for(var wordLength=e=>{var r="",a=4,s=e.length,f=Math.ceil(s/a);if(f>1){for(var o=0;o<f;o++){var t="",l=o*a,n=l+a;n>=s?t=e.substring(l,n):t=e.substring(l,n)+`
`,r+=t}return r}else return e},colorList=[{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#7BB1FF"},{offset:1,color:"#4185FF"}]},{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#00CFBF"},{offset:1,color:"#05C398"}]}],opacityList=[1,1,.85,.85,.65,.65,.45,.45,.25,.25],offsetData=[[50,50],[75,75],[70,23],[20,45],[30,70],[40,15],[80,45]],datas=[],i=0;i<data.length;i++){var item=data[i];if(item.name==="测试")var colortxt="transparent",size=35;else var colortxt="#fff",size=50;datas.push({name:"{value|"+item.value+`%}
{name|`+wordLength(item.name)+"}",value:offsetData[i],symbolSize:item.value/sumvalue*200+size,label:{normal:{textStyle:{fontSize:14,lineHeight:20},rich:{name:{color:colortxt,fontSize:15,fontWeight:"400",lineHeight:20,align:"center"},value:{color:colortxt,fontSize:18,fontWeight:"bold",lineHeight:30,align:"center"}}}},itemStyle:{normal:{color:colorList[i%2],opacity:opacityList[i]}}})}var option={grid:{show:!1,top:10,bottom:10},xAxis:[{gridIndex:0,type:"value",show:!1,min:0,max:100,nameLocation:"middle",nameGap:5}],yAxis:[{gridIndex:0,min:0,show:!1,max:100,nameLocation:"middle",nameGap:30}],series:[{type:"scatter",symbol:"circle",symbolSize:120,label:{normal:{show:!0,formatter:"{b}",color:"#fff",textStyle:{fontSize:"20"}}},itemStyle:{normal:{color:"#00acea"}},data:datas}]};
