var option,getname=["正常","质差","疑似中断"],getvalue=[5,2,1];let chartData=getname.map((a,e)=>({name:a,value:getvalue[e]}));var arrName=[],arrValue=[],sum=0,pieSeries=[],lineYAxis=[];chartData.forEach((a,e)=>{arrName.push(a.name),arrValue.push(a.value),sum=sum+a.value}),chartData.forEach((a,e)=>{pieSeries.push({name:"图表",type:"pie",startAngle:270,clockwise:!0,emphasis:{scale:!1},radius:[55+e*15+"%",50+e*15+"%"],center:["50%","50%"],label:{show:!1},data:[{value:a.value,name:a.name},{value:sum/10*2,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),pieSeries.push({name:"",type:"pie",silent:!0,z:1,startAngle:270,clockwise:!0,emphasis:{scale:!1},radius:[55+e*15+"%",50+e*15+"%"],center:["50%","50%"],label:{show:!1},data:[{value:10,itemStyle:{color:"#3A3A3A"}},{value:2,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),lineYAxis.push({value:e})}),option={title:[{text:"总量",top:"56%",left:"46%",textStyle:{color:"#999",fontSize:34}},{text:sum,left:"48%",top:"42%",textStyle:{color:"#fff",fontSize:54}}],color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#5CCBB1"},{offset:1,color:"#3765D1"}]),grid:{top:"73%",bottom:"5%",left:"50%",containLabel:!1},yAxis:[{type:"category",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(a){let e=chartData[a];return e.name+e.value},interval:0,inside:!0,color:"#999",fontSize:10,show:!0},data:lineYAxis}],xAxis:[{show:!1}],series:pieSeries},option&&myChart.setOption(option);
