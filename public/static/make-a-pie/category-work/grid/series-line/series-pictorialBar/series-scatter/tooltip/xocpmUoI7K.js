function obtainEchartDataSource(){var t={beans:[{avgIncome:"3158.00",subTitle:"较前一年变化 --",year:"2014"},{avgIncome:"2450.00",subTitle:"较前一年减少 22.42%",year:"2015"},{avgIncome:"6450.00",subTitle:"较前一年增加 163.27%",year:"2016"},{avgIncome:"8222.00",subTitle:"较前一年增加 21.27%",year:"2017"},{avgIncome:"0",subTitle:"较前一年减少 100.00%",year:"2018"},{avgIncome:"0",subTitle:"较前一年变化 --",year:"2019"}]},e=t.beans,a=[],r=[],o=[],s=[];for(var l in e){var i=e[l].year,n=e[l].avgIncome,c=e[l].subTitle;a.push({value:i}),r.push({value:n}),o.push(c),s.push({value:[i,0]})}var u=Number(e[e.length-1].year);return tailRecursion(a,u),{xAxisData:a,scatterData:s,seriesLineData:r,tooltipsData:o}}function tailRecursion(t,e){e<2020&&(e++,t.push({value:e}),tailRecursion(t,e))}var dataSource=obtainEchartDataSource(),option={tooltip:{show:!0},grid:{top:"30%",left:"1%",right:"1%",bottom:"0%",containLabel:!0},xAxis:[{type:"category",axisTick:{show:!1},triggerEvent:!0,data:dataSource.xAxisData}],yAxis:[{type:"value",name:"单位（元）",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!0},axisTick:{show:!1}}],series:[{name:"人均纯收入",type:"line",smooth:!0,symbol:"circle",silent:!0,symbolSize:1,lineStyle:{normal:{width:4,color:"#4C84FF"}},label:{show:!0,position:"top",formatter:"{c} 元",textStyle:{color:"#4f4a51",fontSize:14,fontWeight:"bold"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 136, 212, 0.2)"},{offset:1,color:"rgba(0, 136, 212, 0)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},data:dataSource.seriesLineData},{type:"pictorialBar",data:deepClone(dataSource.seriesLineData),barGap:"10%",symbolRepeat:!0,symbolMargin:2,silent:!0,symbol:"rect",symbolSize:2,color:"#c8c5d1",symbolClip:!0},{type:"scatter",name:"年份",symbolSize:10,data:dataSource.scatterData,tooltip:{show:!0,backgroundColor:"white",textStyle:{color:"#000"},formatter:function(t){var e=t.dataIndex,a=option.series[0].data[e].value,r=dataSource.tooltipsData;return'<div style="border: medium #0094ff;"><span style="font-size:15px;color: #0a080b"><strong>人均纯收入：</span><span style="color: #F84040">'+a+'</style></span>元</strong></br><span style="font-size:13px; color: #9D9D9D">'+r[e]+"</span></div>"},extraCssText:"box-shadow: 0 0 3px #A0C5C8;"},itemStyle:{borderWidth:1,borderColor:"#00a7db",color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:.4,color:"#ffffff"},{offset:1,color:"#4C84FF"}],globalCoord:!1}}}]};myChart.setOption(option);function deepClone(t){var e=JSON.stringify(t);return JSON.parse(e)}myChart.on("click",function(t){var e=t.componentType,a="";switch(e){case"series":a=t.name;break;case"xAxis":a=t.value;break}selectAction(a)}),selectCurrent();function selectAction(t,e){selectedStyle(t,e),Object.prototype.toString.call(e)==="[object Function]"&&e(t),myChart.setOption(option)}function selectedStyle(t){for(var e=option.series[2].data,a=e.length,r=0;r<a;r++){var o=option.series[0].data[r];if(delete e[r].itemStyle,delete o.label,t===e[r].value[0]){var s="#4C84FF";o.label={show:!0,fontSize:16,color:s},e[r].itemStyle={color:s}}}}function selectCurrent(t){var e=new Date().getFullYear().toString();selectAction(e,t)}
