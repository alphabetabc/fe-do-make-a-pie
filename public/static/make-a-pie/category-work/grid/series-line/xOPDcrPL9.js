function Wave(t){this.$el=$(t).eq(0),this.time=5e3,this.timer=null,this.chart=echarts.init(this.$el[0]),this.data1=[60,70,65,75,52,85,84,55,80,65,90],this.data2=[95,65,95,50,84,70,100,85,75,85,50],this.pointCircle(this.data1,1,"rgb(184, 48, 255)"),this.pointCircle(this.data1,5,"rgb(184, 48, 255)"),this.pointCircle(this.data1,7,"rgb(184, 48, 255)"),this.pointCircle(this.data2,0,"rgb(30, 180, 255)"),this.pointCircle(this.data2,4,"rgb(30, 180, 255)"),this.pointCircle(this.data2,9,"rgb(30, 180, 255)")}Wave.prototype.render=function(){var t=this;option=this.option={animationDuration:0,animationEasingUpdate:"linear",animationDurationUpdate:this.time,grid:{top:0,bottom:-40,left:-500,right:-500,containLabel:!0},xAxis:{axisTick:{show:!1},boundaryGap:!1,axisLine:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},data:function(){for(var i=new Date,a=[],e=11;e--;)i=new Date(i-t.time),a.push(i.toLocaleTimeString().replace(/^\D*/,""));return a}()},yAxis:{axisTick:{show:!1},max:100,boundaryGap:!1,axisLine:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[{type:"line",smooth:.5,showSymbol:!0,symbol:"circle",symbolSize:0,lineStyle:{normal:{width:1}},itemStyle:{normal:{color:"rgb(184, 48, 255)"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(184, 48, 255, 0.8)"},{offset:.8,color:"rgba(184, 48, 255, 0)"}])}},data:this.data1},{type:"line",smooth:!0,showSymbol:!0,symbol:"circle",symbolSize:0,lineStyle:{normal:{width:1}},itemStyle:{normal:{color:"rgb(30, 180, 255)"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(30, 180, 255, 0.8)"},{offset:.8,color:"rgba(30, 180, 255, 0)"}])}},data:this.data2}]},this.$el.css("width","100%"),this.chart.setOption(this.option),t.animate(),this.timer=setInterval(function(){t.animate()},t.time)},Wave.prototype.animate=function(){this.data1.unshift(this.data1.pop()),this.data2.unshift(this.data2.pop());var t=new Date().toLocaleTimeString().replace(/^\D*/,"");this.option.xAxis.data.pop(),this.option.xAxis.data.unshift(t),this.chart.setOption(this.option)},Wave.prototype.pointCircle=function(t,i,a){t[i]={value:t[i],symbolSize:10,itemStyle:{normal:{color:a,borderColor:"#fff",borderWidth:2,shadowColor:a,shadowBlur:15}}}},Wave.prototype.dispose=function(){var t=this;setTimeout(function(){t.chart.dispose(),clearInterval(t.timer)},1e3)};var wave=new Wave("#chart-panel");wave.render();
