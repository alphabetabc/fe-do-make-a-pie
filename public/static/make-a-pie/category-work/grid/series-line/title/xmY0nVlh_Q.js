function randomData(){return Math.round(Math.random()*1e3)}var data=[{data:[{name:"北京",value:randomData()},{name:"天津",value:randomData()},{name:"上海",value:randomData()},{name:"重庆",value:randomData()},{name:"河北",value:randomData()},{name:"河南",value:randomData()},{name:"云南",value:randomData()},{name:"辽宁",value:randomData()},{name:"黑龙江",value:randomData()},{name:"湖南",value:randomData()},{name:"安徽",value:randomData()},{name:"山东",value:randomData()},{name:"新疆",value:randomData()},{name:"江苏",value:randomData()},{name:"浙江",value:randomData()},{name:"江西",value:randomData()},{name:"湖北",value:randomData()},{name:"广西",value:randomData()},{name:"甘肃",value:randomData()},{name:"山西",value:randomData()},{name:"内蒙古",value:randomData()},{name:"陕西",value:randomData()},{name:"吉林",value:randomData()},{name:"福建",value:randomData()},{name:"贵州",value:randomData()},{name:"广东",value:randomData()},{name:"青海",value:randomData()},{name:"西藏",value:randomData()},{name:"四川",value:randomData()},{name:"宁夏",value:randomData()},{name:"海南",value:randomData()},{name:"台湾",value:randomData()},{name:"香港",value:randomData()},{name:"澳门",value:randomData()}],title:"华为手机"},{data:[{name:"北京",value:randomData()},{name:"天津",value:randomData()},{name:"上海",value:randomData()},{name:"重庆",value:randomData()},{name:"河北",value:randomData()},{name:"河南",value:randomData()},{name:"云南",value:randomData()},{name:"辽宁",value:randomData()},{name:"黑龙江",value:randomData()},{name:"湖南",value:randomData()},{name:"安徽",value:randomData()},{name:"山东",value:randomData()},{name:"新疆",value:randomData()},{name:"江苏",value:randomData()},{name:"浙江",value:randomData()},{name:"江西",value:randomData()},{name:"湖北",value:randomData()},{name:"广西",value:randomData()},{name:"甘肃",value:randomData()},{name:"山西",value:randomData()},{name:"内蒙古",value:randomData()},{name:"陕西",value:randomData()},{name:"吉林",value:randomData()},{name:"福建",value:randomData()},{name:"贵州",value:randomData()},{name:"广东",value:randomData()},{name:"青海",value:randomData()},{name:"西藏",value:randomData()},{name:"四川",value:randomData()},{name:"宁夏",value:randomData()},{name:"海南",value:randomData()},{name:"台湾",value:randomData()},{name:"香港",value:randomData()},{name:"澳门",value:randomData()}],title:"小米手机"},{data:[{name:"北京",value:randomData()},{name:"天津",value:randomData()},{name:"上海",value:randomData()},{name:"重庆",value:randomData()},{name:"河北",value:randomData()},{name:"河南",value:randomData()},{name:"云南",value:randomData()},{name:"辽宁",value:randomData()},{name:"黑龙江",value:randomData()},{name:"湖南",value:randomData()},{name:"安徽",value:randomData()},{name:"山东",value:randomData()},{name:"新疆",value:randomData()},{name:"江苏",value:randomData()},{name:"浙江",value:randomData()},{name:"江西",value:randomData()},{name:"湖北",value:randomData()},{name:"广西",value:randomData()},{name:"甘肃",value:randomData()},{name:"山西",value:randomData()},{name:"内蒙古",value:randomData()},{name:"陕西",value:randomData()},{name:"吉林",value:randomData()},{name:"福建",value:randomData()},{name:"贵州",value:randomData()},{name:"广东",value:randomData()},{name:"青海",value:randomData()},{name:"西藏",value:randomData()},{name:"四川",value:randomData()},{name:"宁夏",value:randomData()},{name:"海南",value:randomData()},{name:"台湾",value:randomData()},{name:"香港",value:randomData()},{name:"澳门",value:randomData()}],title:"苹果手机"}],nameArr=["华为","小米","苹果"],option=getOption(data[0],nameArr);myChart.on("legendselectchanged",function(l){let e=l.name,n={},m=0;for(var a=0;a<nameArr.length;a++)e==nameArr[a]?(n[nameArr[a]]=!0,m=a):n[nameArr[a]]=!1;option=getOption(data[m],nameArr),option.legend.selected=n,myChart.setOption(option,!0)});let idx=0,timer=setInterval(function(){myChart.dispatchAction({type:"legendToggleSelect",name:nameArr[++idx%nameArr.length]})},2e3);$("#chart-panel").on("mouseover",function(){clearInterval(timer)});function getOption(l,e){return option={title:{text:l.title+"销量",subtext:"纯属虚构",left:"left"},tooltip:{trigger:"item"},color:["#ff0000","#ff0000","#ff0000"],legend:{left:"center",selectedMode:"single",selected:{},data:e},visualMap:{min:0,max:2500,left:"left",top:"bottom",text:["高","低"],calculable:!0},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},series:[{name:"销量",type:"map",mapType:"china",showLegendSymbol:!1,roam:!1,label:{normal:{show:!0},emphasis:{show:!0}},data:l.data},{name:e[0],type:"map",mapType:"china",label:{normal:{show:!0},emphasis:{show:!0}}},{name:e[1],type:"map",mapType:"china",label:{normal:{show:!0},emphasis:{show:!0}}},{name:e[2],type:"map",mapType:"china",label:{normal:{show:!0},emphasis:{show:!0}}}]},option}
