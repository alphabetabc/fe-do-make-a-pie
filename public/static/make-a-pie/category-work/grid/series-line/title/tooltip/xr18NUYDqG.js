function randomData(){return now=new Date(+now+oneDay),value=value+Math.random()*21-10,{name:now.toString(),value:[[now.getFullYear(),now.getMonth()+1,now.getDate()].join("/"),Math.round(value)]}}function randomData2(){return now2=new Date(+now+oneDay),value=value+Math.random()*21-10,{name:now.toString(),value:[[now.getFullYear(),now.getMonth()+1,now.getDate()].join("/"),Math.round(value)+200]}}for(var data=[],data2=[],now=+new Date(1997,9,3),now2=+new Date(1997,9,3),oneDay=24*3600*1e3,value=Math.random()*1e3,i=0;i<1e3;i++)data.push(randomData()),data2.push(randomData2());option={title:{text:"动态数据 + 时间坐标轴"},tooltip:{trigger:"axis",formatter:function(e){e=e[0];var a=new Date(e.name);return a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()+" : "+e.value[1]},axisPointer:{animation:!1}},xAxis:{type:"time",splitLine:{show:!1}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1}},series:[{name:"模拟数据",type:"line",showSymbol:!1,hoverAnimation:!1,data},{name:"模拟数据2",type:"line",lineStyle:{normal:{color:"#ee3b12",width:2,shadowColor:"#000",shadowBlur:2,shadowOffsetX:2,shadowOffsetY:2}},showSymbol:!1,hoverAnimation:!1,data:data2}]},setInterval(function(){for(var e=0;e<5;e++)data.shift(),data.push(randomData()),data2.shift(),data2.push(randomData2());myChart.setOption({series:[{name:"模拟数据",type:"line",showSymbol:!1,hoverAnimation:!1,data},{name:"模拟数据2",type:"line",lineStyle:{normal:{color:"#ee3b12",width:2,shadowColor:"#000",shadowBlur:2,shadowOffsetX:2,shadowOffsetY:2}},showSymbol:!1,hoverAnimation:!1,data:data2}]})},1e3);
