let yAxisData=[],legendList=[{name:"农、林、牧、渔业",color:"#5B90FA",leftList:[],rightList:[]},{name:"文化旅游业",color:"#5AD9A6",leftList:[],rightList:[]},{name:"工业",color:"#F6BD16",leftList:[],rightList:[]},{name:"房地产业",color:"#945FB9",leftList:[],rightList:[]},{name:"商业",color:"#1E9593",leftList:[],rightList:[]},{name:"服务业",color:"#FF98C3",leftList:[],rightList:[]},{name:"其他",color:"#BCDEDF",leftList:[],rightList:[]}],listAry=[{NF:"2019",DATA:[{CZID:"1",CZMC:"左半部分",DATA:[{CZID:"1",NF:"2019",NLMY:14493,WHLYY:26179,GYSR:253030,FDCY:63925,SYSR:45541,FWYSR:49322,QTSR:155505}]}]},{NF:"2018",DATA:[{CZID:"2",CZMC:"右半部分",DATA:[{CZID:"2",NF:"2018",NLMY:0,WHLYY:0,GYSR:2064514,FDCY:0,SYSR:0,FWYSR:0,QTSR:0}]}]}];listAry.map(s=>{yAxisData.push(s.NF),legendList.map((t,l)=>{switch(l){case 0:s.DATA.length==1?s.DATA[0].CZMC=="左半部分"?(t.leftList.push(s.DATA[0].DATA[0].NLMY),t.rightList.push(0)):(t.leftList.push(0),t.rightList.push(s.DATA[0].DATA[0].NLMY)):(t.leftList.push(s.DATA[0].DATA[0].NLMY),t.rightList.push(s.DATA[1].DATA[0].NLMY));break;case 1:s.DATA.length==1?s.DATA[0].CZMC=="左半部分"?(t.leftList.push(s.DATA[0].DATA[0].WHLYY),t.rightList.push(0)):(t.leftList.push(0),t.rightList.push(s.DATA[0].DATA[0].WHLYY)):(t.leftList.push(s.DATA[0].DATA[0].WHLYY),t.rightList.push(s.DATA[1].DATA[0].WHLYY));break;case 2:s.DATA.length==1?s.DATA[0].CZMC=="左半部分"?(t.leftList.push(s.DATA[0].DATA[0].GYSR),t.rightList.push(0)):(t.leftList.push(0),t.rightList.push(s.DATA[0].DATA[0].GYSR)):(t.leftList.push(s.DATA[0].DATA[0].GYSR),t.rightList.push(s.DATA[1].DATA[0].GYSR));break;case 3:s.DATA.length==1?s.DATA[0].CZMC=="左半部分"?(t.leftList.push(s.DATA[0].DATA[0].FDCY),t.rightList.push(0)):(t.leftList.push(0),t.rightList.push(s.DATA[0].DATA[0].FDCY)):(t.leftList.push(s.DATA[0].DATA[0].FDCY),t.rightList.push(s.DATA[1].DATA[0].FDCY));break;case 4:s.DATA.length==1?s.DATA[0].CZMC=="左半部分"?(t.leftList.push(s.DATA[0].DATA[0].SYSR),t.rightList.push(0)):(t.leftList.push(0),t.rightList.push(s.DATA[0].DATA[0].SYSR)):(t.leftList.push(s.DATA[0].DATA[0].SYSR),t.rightList.push(s.DATA[1].DATA[0].SYSR));break;case 5:s.DATA.length==1?s.DATA[0].CZMC=="左半部分"?(t.leftList.push(s.DATA[0].DATA[0].FWYSR),t.rightList.push(0)):(t.leftList.push(0),t.rightList.push(s.DATA[0].DATA[0].FWYSR)):(t.leftList.push(s.DATA[0].DATA[0].FWYSR),t.rightList.push(s.DATA[1].DATA[0].FWYSR));break;case 6:s.DATA.length==1?s.DATA[0].CZMC=="良渚街道"?(t.leftList.push(s.DATA[0].DATA[0].QTSR),t.rightList.push(0)):(t.leftList.push(0),t.rightList.push(s.DATA[0].DATA[0].QTSR)):(t.leftList.push(s.DATA[0].DATA[0].QTSR),t.rightList.push(s.DATA[1].DATA[0].QTSR));break}})});let maxNum=0,sumList=[];listAry.map(s=>{s.DATA.map(t=>{let l=t.DATA[0],A=l.FDCY+l.GYSR+l.NLMY+l.QTSR+l.SYSR+l.WHLYY;t.total=A,sumList.push(A)})}),maxNum=Math.max(...sumList)+200;let bgLeft=[{name:"进度条背景",type:"bar",stack:"1",data:[],barWidth:25,barGap:"-100%",itemStyle:{color:"#0b2940"}}],bgRight=[{name:"进度条背景",type:"bar",stack:"2",xAxisIndex:2,yAxisIndex:2,data:[],barWidth:25,barGap:"-100%",itemStyle:{color:"#0b2940"}}],totalList=[];yAxisData.map(s=>{let t={leftTotal:0,rightTotal:0};totalList.push(t)}),listAry.map((s,t)=>{s.DATA.length==1?s.DATA[0].CZMC=="左半部分"?(totalList[t].leftTotal=s.DATA[0].total,totalList[t].rightTotal=0):(totalList[t].leftTotal=0,totalList[t].rightTotal=s.DATA[0].total):(totalList[t].leftTotal=s.DATA[0].total,totalList[t].rightTotal=s.DATA[1].total)}),totalList.map(s=>{bgLeft[0].data.push(maxNum-s.leftTotal),bgRight[0].data.push(maxNum-s.rightTotal)});let legend=[],seriesData=[],seriesDataLeft=[],seriesDataRight=[];legendList.map(s=>{legend.push(s.name);let t={name:s.name,type:"bar",barWidth:25,stack:"1",itemStyle:{normal:{color:s.color}},label:{normal:{show:!1}},data:s.leftList},l={name:s.name,type:"bar",xAxisIndex:2,yAxisIndex:2,barWidth:25,stack:"2",z:100,itemStyle:{normal:{color:s.color}},data:s.rightList};seriesDataLeft.push(t),seriesDataRight.push(l)}),seriesData=[...seriesDataLeft,...bgLeft,...seriesDataRight,...bgRight];let textColor="#fff",lineColor="rgba(255,255,255,0.2)";var option={baseOption:{backgroundColor:"#999",timeline:{show:!1,top:0,data:[]},tooltip:{trigger:"axis",axisPointer:{type:"none"},textStyle:{align:"left"},formatter:s=>{let t=`${s[0].name}<br/>`;return s.map((l,A)=>{l.seriesName!="进度条背景"&&(t+=`${l.marker}${l.seriesName}${l.value}<br/>`)}),t}},title:{text:"",left:"center",color:"green"},legend:{top:"5%",right:"5%",itemWidth:80,itemHeight:5,itemGap:30,icon:"horizontal",textStyle:{color:"#ffffff",fontSize:16},data:legend},grid:[{show:!1,left:"5%",top:"20%",bottom:"8%",containLabel:!0,width:"37%"},{show:!1,left:"51%",top:"20%",bottom:"8%",width:"0%"},{show:!1,right:"2%",top:"20%",bottom:"8%",containLabel:!0,width:"37%"}],xAxis:[{type:"value",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},position:"top",axisLabel:{show:!1,color:textColor},splitLine:{show:!1,lineStyle:{color:lineColor}}},{gridIndex:1,show:!1},{gridIndex:2,axisLine:{show:!1},axisTick:{show:!1},position:"top",axisLabel:{show:!1,color:textColor},splitLine:{show:!1,lineStyle:{color:lineColor}}}],yAxis:[{type:"category",inverse:!0,position:"right",axisLine:{show:!1,lineStyle:{color:lineColor}},axisTick:{show:!1},axisLabel:{show:!1},data:yAxisData},{gridIndex:1,type:"category",inverse:!0,position:"left",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,padding:[0,0,0,0],textStyle:{color:"#ffffff",fontSize:20},align:"center"},data:yAxisData.map(function(s){return{value:s,textStyle:{align:"center"}}})},{gridIndex:2,type:"category",inverse:!0,position:"left",axisLine:{show:!1,lineStyle:{color:lineColor}},axisTick:{show:!1},axisLabel:{show:!1},data:yAxisData}],series:[]},options:[{series:seriesData}]};
