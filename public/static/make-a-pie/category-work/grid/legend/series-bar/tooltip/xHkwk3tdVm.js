app.title="堆叠条形图";var _boyActual=[50,100,120],_boyShould=[150,150,120],_girlActual=[70,100,120],_girlShould=[150,120,150],_college=["学院1","学院2","学院3"];option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){console.log(e[0].dataIndex);var t=_college[e[0].dataIndex]+"<br>";return t+="男应报道： "+_boyShould[e[0].dataIndex]+" 人<br>",t+="男实报道： "+_boyActual[e[0].dataIndex]+" 人<br>",t+="男报到率： "+(_boyActual[e[0].dataIndex]*100/_boyShould[e[0].dataIndex]).toFixed(2)+" %<br>",t+="女应报道： "+_girlShould[e[0].dataIndex]+" 人<br>",t+="女实报道： "+_girlActual[e[0].dataIndex]+" 人<br>",t+="女报到率： "+(_girlActual[e[0].dataIndex]*100/_girlShould[e[0].dataIndex]).toFixed(2)+" %",t}},legend:{show:!0,top:10,data:["男"]},grid:{left:"1%",right:"6%",bottom:"3%",top:40,containLabel:!0},xAxis:{type:"value",show:!0,max:100,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},yAxis:[{type:"category",position:"left",data:_college},{type:"category",position:"left",data:_college},{type:"category",position:"left",data:_college}],series:[{name:"男应报道人数",type:"bar",yAxisIndex:0,label:{normal:{show:!0,formatter:function(e){return _boyShould[e.dataIndex]+" 人"},position:"insideRight"}},itemStyle:{normal:{color:"#aaa"}},data:[100,100,100]},{name:"男",type:"bar",yAxisIndex:1,label:{normal:{show:!0,formatter:function(e){return _boyActual[e.dataIndex]+" 人 ("+(_boyActual[e.dataIndex]*100/_boyShould[e.dataIndex]).toFixed(2)+" %) "},position:"insideRight"}},itemStyle:{normal:{color:"#5b6eef"}},data:_boyActual.map(function(e,t){return parseInt(e/_boyShould[t]*100)})}]};
