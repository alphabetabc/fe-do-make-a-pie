app.title="用柱图「仿制」一个图例",colorList=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],option1={title:{text:"用柱图「仿制」一个图例"},color:colorList,xAxis:{data:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},yAxis:{},tooltip:{},series:[{type:"bar",name:"seriesA",data:[220,182,191,234,290,330,310]},{type:"line",name:"seriesB",data:[234,290,182,330,220,191,310]}]};function addLegend(t){let e=JSON.parse(JSON.stringify(t)),s="roundRect",n=[40,25],o={type:"line",name:"legendSeries",tooltip:{show:!1},symbolKeepAspect:!0,lineStyle:{opacity:0},label:{show:!0,position:"right",formatter:"{b}"},hoverAnimation:!1,data:[]};e.legend={show:!1},typeof e.color>"u"&&(e.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]),typeof e.grid=="object"?typeof e.grid.length>"u"?e.grid=[e.grid,{top:"5%",bottom:"90%",left:"60%",right:"20%"}]:e.grid.push({top:"5%",bottom:"90%",left:"60%",right:"20%"}):e.grid=[{},{top:"5%",bottom:"90%",left:"60%",right:"20%"}],typeof e.xAxis=="object"?typeof e.xAxis.length>"u"?e.xAxis=[e.xAxis,{gridIndex:e.grid.length-1,type:"category",show:!1}]:e.xAxis.push({gridIndex:e.grid.length-1,type:"category",show:!1}):e.xAxis=[{gridIndex:e.grid.length-1,type:"category",show:!1}],typeof e.yAxis=="object"?typeof e.yAxis.length>"u"?e.yAxis=[e.yAxis,{gridIndex:e.grid.length-1,show:!1}]:e.yAxis.push({gridIndex:e.grid.length-1,show:!1}):e.yAxis=[{gridIndex:e.grid.length-1,show:!1}],o.xAxisIndex=e.xAxis.length-1,o.yAxisIndex=e.yAxis.length-1;for(let i=0;i<e.series.length;i++)e.series[i].type==="line"?(n=[40,40],typeof e.series[i].symbol<"u"?s=e.series[i].symbol:s="path://M0 29 L30 29 L30 31 L0 31 Z                 M100 29 L70 29 L70 31 L100 31 Z                 M 50 10 A 20 20 0 1 0 50 50 A 20 20 0 1 0 50 10 Z                 M 50 12 A 18 18 0 1 1 50 48 A 18 18 0 1 1 50 12 Z"):(n=[40,25],s="roundRect"),o.data.push({name:e.series[i].name,itemStyle:{color:e.color[i]},value:[i,1],symbol:s,symbolSize:n});return typeof e.series=="object"&&(typeof e.series.length>"u"?e.series=[e.series,o]:e.series.push(o)),console.log(e),e}option=addLegend(option1),myChart.on("click",{seriesName:"legendSeries"},function(t){t.color==="#CCC"?(myChart.dispatchAction({type:"legendSelect",name:t.name}),option.series[t.seriesIndex].data[t.dataIndex].itemStyle.color=colorList[t.dataIndex],myChart.setOption(option)):(myChart.dispatchAction({type:"legendUnSelect",name:t.name}),option.series[t.seriesIndex].data[t.dataIndex].itemStyle.color="#CCC",myChart.setOption(option))}),myChart.on("mouseover",{seriesName:"legendSeries"},function(t){myChart.dispatchAction({type:"highlight",seriesName:t.name})}),myChart.on("mouseout",{seriesName:"legendSeries"},function(t){myChart.dispatchAction({type:"downplay",seriesName:t.name})});
