var data=[{name:"苹果",value:30},{name:"梨子",value:33},{name:"菠萝",value:37}];let apple,pear,pineapple;data.every(e=>e.value===0)?(apple=0,pear=0,pineapple=0):(apple=100-data[1].value-data[2].value,pear=Number(apple)+data[1].value,pineapple=Number(apple)+data[1].value+data[2].value),option={title:{show:!0,text:"柱状图叠加效果百分比",left:"center",top:"40%",textStyle:{color:"#00D5FF",fontSize:16}},legend:{bottom:"40%",icon:"circle",itemWidth:11,itemHeight:11,itemGap:65,textStyle:{fontSize:12,color:"#FFFFFF"},data:["苹果","梨子","菠萝"],formatter:function(e){let l="";for(let a=0,t=data.length;a<t;a++)data[a].name==e&&(l=e+" "+data[a].value);return l},selectedMode:!1},tooltip:{show:!1},xAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},yAxis:[{type:"category",axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#cdd3ee"}},splitLine:{show:!1},axisLabel:{show:!0,fontSize:16,color:"#cdd3ee",formatter:"{value}"},data:[""]}],series:[{type:"bar",name:"苹果",zlevel:3,barMaxWidth:10,label:{show:!1,position:"inside"},itemStyle:{barBorderRadius:[5,5,5,5],color:"#FFCE00"},data:[apple]},{type:"bar",name:"梨子",zlevel:2,barMaxWidth:10,label:{show:!1,position:"inside"},data:[pear],itemStyle:{barBorderRadius:5,color:"#00D5FF"}},{type:"bar",name:"菠萝",zlevel:1,barMaxWidth:10,label:{show:!1},barGap:"-100%",itemStyle:{color:"#FF5959",barBorderRadius:5},data:[pineapple]},{type:"bar",name:"背景",zlevel:0,barMaxWidth:10,barGap:"-100%",itemStyle:{color:"#2a446a",barBorderRadius:5},label:{show:!1},data:[100]}]};
