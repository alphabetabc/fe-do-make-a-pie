let nameList=[],valueList=[],series=[],legend=[],barWidth=26,barGap=0,colorList=["#02C0EA","#FF9826","#6ACC29","#9833FF"],chartObj={series:[{name:"当前资源",data:[269,500,400,170]},{name:"其他资源",data:[39,50,40,100]},{name:"资源",data:[15,200,80,60]}],chartList:["通信","网络","能源","建筑"]};function colorRgba(t,e){let o=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;var a=t.toLowerCase();if(a=="transparent")return"transparent";if(a&&o.test(a)){if(a.length===4){var s="#";for(let r=1;r<4;r+=1)s+=a.slice(r,r+1).concat(a.slice(r,r+1));a=s}var l=[];for(let r=1;r<7;r+=2)l.push(parseInt("0x"+a.slice(r,r+2)));return"rgba("+l.join(",")+","+e+")"}else return a}chartObj.series&&chartObj.series.length&&chartObj.series.forEach((t,e)=>{legend.push({name:t.name,itemStyle:{color:colorList[e]}}),series.push({name:"",type:"pictorialBar",symbolSize:[barWidth,barWidth*.4],symbolOffset:[(-.5*(chartObj.series.length-1)+e+-.5*barGap*.01*(chartObj.series.length-1)+barGap*.01*e)*barWidth,-barWidth*.2],z:12,itemStyle:{color:o=>colorList[e]},tooltip:{show:!1},symbolPosition:"end",data:t.data}),series.push({name:t.name,type:"pictorialBar",symbolSize:[barWidth,barWidth*.4],symbolOffset:[(-.5*(chartObj.series.length-1)+e+-.5*barGap*.01*(chartObj.series.length-1)+barGap*.01*e)*barWidth,barWidth*.2],z:12,tooltip:{show:!1},itemStyle:{color:o=>colorList[e]},data:t.data}),series.push({type:"bar",name:t.name,itemStyle:{color:o=>new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:colorRgba(colorList[e],1)},{offset:.2,color:colorRgba(colorList[e],.3)},{offset:0,color:"transparent"}])},z:16,silent:!0,label:{show:!0,position:"top",offset:[0,4],distance:10,textStyle:{color:colorList[e],fontSize:16}},barWidth,barMaxWidth:barWidth*3,barGap:barGap+"%",data:t.data})}),option={title:{text:"",top:20,left:"center",textStyle:{color:"#fff",fontSize:20}},tooltip:{show:!0,trigger:"axis",backgroundColor:"rgba(116,176,222,0.3)",extraCssText:"box-shadow: 0 0 8px rgba(0, 128, 255, 0.27) inset;",borderWidth:0,confine:!1,appendToBody:!0,formatter:t=>{let e="<div style='margin-bottom:5px;'>"+t[0].name+"</div>";return t.forEach((o,a)=>{var s=`<span style="display:inline-block;margin-right:5px;border-radius:50%;width:10px;height:10px;background:${colorList[a]}"></span>`;e+="<div style='display:flex;align-items:center;margin-bottom:5px'>"+s+o.seriesName+(o.seriesName?"<span style='display:inline-block;margin-right:6px;'></span>":"")+o.data+"</div>"}),e},axisPointer:{type:"shadow",shadowStyle:{color:"rgba(35,49,77,0.3)"}},textStyle:{color:"#fff"}},grid:{top:40,left:5,right:5,bottom:16,containLabel:!0},legend:{show:!0,data:legend,selectedMode:!1,type:"scroll",icon:"circle",itemHeight:16,textStyle:{color:"#C3E3F9"}},xAxis:{data:chartObj.chartList,type:"category",axisLine:{show:!0,lineStyle:{color:"#2B72A1"}},axisLabel:{color:"#87CCFF"},splitLine:{show:!1},axisTick:{show:!1},interval:0},yAxis:[{type:"value",name:"单位",nameGap:20,nameTextStyle:{align:"center",color:"#2869A9"},splitNumber:4,splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.1)"}},axisLine:{show:!1},axisLabel:{margin:10,color:"#2869A9"},axisTick:{show:!0,lineStyle:{color:"#2869A9"}}}],series};
