const WIDTH=20,HEIGHT=20;option={animation:!1,backgroundColor:"#aaa",grid:{show:!0,borderColor:"#000",z:2,top:50,x:"center",height:520,width:520},legend:{show:!1},xAxis:{interval:1,splitLine:{lineStyle:{type:"dashed"}},max:20,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1}},yAxis:{interval:1,splitLine:{lineStyle:{type:"dashed"}},max:20,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1}},series:[{data:[],type:"scatter",symbol:"rect",symbolSize:26,symbolOffset:[13,-13],label:{emphasis:{show:!1}}},{data:[1,1],type:"scatter",symbol:"rect",symbolSize:26,symbolOffset:[13,-13],label:{emphasis:{show:!1}}}]};function Snake(){this.direction=this.toRight,this.body=[{x:0,y:0},{x:1,y:0},{x:2,y:0}],this.head={x:2,y:0}}Snake.prototype.toRight=function(){this.head.x=(this.head.x+1)%20},Snake.prototype.toDown=function(){this.head.y=(this.head.y+1)%20},Snake.prototype.toLeft=function(){this.head.x=this.head.x-1<0?this.head.x-1+20:this.head.x-1},Snake.prototype.toUp=function(){this.head.y=this.head.y-1<0?this.head.y-1+20:this.head.y-1};var snake=new Snake;document.onkeydown=function(t){var e=t||window.event||arguments.callee.caller.arguments[0];switch(e.keyCode){case 39:snake.direction!=snake.toLeft&&(snake.direction=snake.toRight);break;case 38:snake.direction!=snake.toUp&&(snake.direction=snake.toDown);break;case 37:snake.direction!=snake.toRight&&(snake.direction=snake.toLeft);break;case 40:snake.direction!=snake.toDown&&(snake.direction=snake.toUp);break}};function Food(){this.x=10,this.y=10}Food.prototype.produce=function(){this.x=Math.round(Math.random()*19),this.y=Math.round(Math.random()*19);var t=this;snake.body.forEach(function(e){e.x==t.x&&e.y==t.y&&t.produce()})};var food=new Food;function startGame(){snake.direction(),snake.body.push({x:snake.head.x,y:snake.head.y}),snake.head.x==food.x&&snake.head.y==food.y?food.produce():snake.body.shift(),option.series[0].data=[],snake.body.forEach(t=>{option.series[0].data.push([t.x,t.y])}),option.series[1].data=[[food.x,food.y]],myChart.setOption(option),setTimeout(startGame,200)}startGame();
