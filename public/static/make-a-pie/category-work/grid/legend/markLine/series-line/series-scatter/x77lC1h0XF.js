var curTime=getNowTime("1"),minDate=new Date(curTime+" 08:30:00").getTime(),resData=[{name:"08:43:00",value:[new Date(curTime+" 08:43:00").getTime(),2],status:"1",type:"1"},{name:"09:13:00",value:[new Date(curTime+" 09:13:00").getTime(),4],status:"0",type:"0"},{name:"09:43:00",value:[new Date(curTime+" 09:43:00").getTime(),6.5],status:"0",type:"1"},{name:"10:15:00",value:[new Date(curTime+" 10:15:00").getTime(),26],status:"1",type:"0"},{name:"10:42:00",value:[new Date(curTime+" 10:42:00").getTime(),9],status:"2",type:"0"},{name:"10:44:00",value:[new Date(curTime+" 10:44:00").getTime(),43],status:"1",type:"0"},{name:"10:50:00",value:[new Date(curTime+" 10:50:00").getTime(),40],status:"1",type:"1"},{name:"12:10:00",value:[new Date(curTime+" 12:10:00").getTime(),12],status:"2",type:"1"},{name:"13:05:00",value:[new Date(curTime+" 13:05:00").getTime(),40],status:"1",type:"0"},{name:"13:30:00",value:[new Date(curTime+" 13:30:00").getTime(),16],status:"1",type:"0"},{name:"13:40:00",value:[new Date(curTime+" 13:40:00").getTime(),38],status:"2",type:"1"},{name:"14:00:00",value:[new Date(curTime+" 14:00:00").getTime(),10],status:"2",type:"1"},{name:"14:30:00",value:[new Date(curTime+" 14:30:00").getTime(),12],status:"1",type:"1"},{name:"15:00:00",value:[new Date(curTime+" 15:00:00").getTime(),13],status:"1",type:"0"},{name:"15:38:00",value:[new Date(curTime+" 15:38:00").getTime(),14],status:"1",type:"1"}],resData2=[{value:[new Date(curTime+" 11:05:00").getTime(),2],symbol:"emptyCircle",itemStyle:{color:"red"},symbolSize:10},{value:[new Date(curTime+" 11:10:00").getTime(),2],symbol:"circle",itemStyle:{color:"green"},symbolSize:10},{value:[new Date(curTime+" 11:15:00").getTime(),2],symbol:"emptyCircle",itemStyle:{color:"red"},symbolSize:10},{value:[new Date(curTime+" 11:20:00").getTime(),2],symbol:"circle",itemStyle:{color:"green"},symbolSize:10},{value:[new Date(curTime+" 11:25:00").getTime(),2],symbol:"emptyCircle",itemStyle:{color:"red"},symbolSize:10},{value:[new Date(curTime+" 11:30:00").getTime(),2],symbol:"circle",itemStyle:{color:"green"},symbolSize:10},{value:[new Date(curTime+" 11:35:00").getTime(),2],symbol:"emptyCircle",itemStyle:{color:"red"},symbolSize:10},{value:[new Date(curTime+" 11:40:00").getTime(),2],symbol:"circle",itemStyle:{color:"green"},symbolSize:10}],resData3=[{value:[new Date(curTime+" 08:40:00").getTime(),2],symbol:"circle",itemStyle:{color:"#ff0000"},symbolSize:10},{value:[new Date(curTime+" 08:50:00").getTime(),2],symbol:"circle",itemStyle:{color:"#00ff00"},symbolSize:10}],resData4=[{value:[new Date(curTime+" 08:52:00").getTime(),5],symbol:"circle",itemStyle:{color:"#ff0000"},symbolSize:10},{value:[new Date(curTime+" 11:00:00").getTime(),5],symbol:"circle",itemStyle:{color:"#00ff00"},symbolSize:10}],resData5=[{value:[new Date(curTime+" 11:10:00").getTime(),10],symbol:"circle",itemStyle:{color:"#ff0000"},symbolSize:10},{value:[new Date(curTime+" 15:10:00").getTime(),10],symbol:"circle",itemStyle:{color:"#00ff00"},symbolSize:10}],resData6=[{value:[new Date(curTime+" 12:10:00").getTime(),15],symbol:"triangle",itemStyle:{color:"red"},symbolSize:10},{value:[new Date(curTime+" 15:38:00").getTime(),15],symbol:"arrow",symbolRotate:270,itemStyle:{color:"blue"},symbolSize:10}],resData7=[{value:[new Date(curTime+" 08:30:00").getTime(),12],symbol:"arrow",symbolRotate:90,itemStyle:{color:"blue"},symbolSize:10},{value:[new Date(curTime+" 11:25:00").getTime(),12],symbol:"circle",itemStyle:{color:"green"},symbolSize:10}];drawChart();function drawChart(){for(var o=[],e=0;e<resData.length;e++){var t={itemStyle:{}};t.value=resData[e].value,t.value[1]=-resData[e].value[1];var m="",l="";resData[e].status=="0"?m="triangle":resData[e].status=="1"?m="circle":resData[e].status=="2"&&(m="roundRect"),resData[e].type=="0"?l="#ff0000":resData[e].type=="1"&&(l="#00ff00"),resData[e].show=="false"?t.symbolSize=0:t.symbolSize=15,t.symbol=m,t.itemStyle.color=l,o.push(t)}var i={value:[new Date(curTime+" 08:30:00").getTime(),20],symbol:"circle",itemStyle:{color:"green"},symbolSize:0},r={value:[new Date(curTime+" 18:00:00").getTime(),20],symbol:"circle",itemStyle:{color:"green"},symbolSize:0};o.push(i),option={legend:{data:["列表"]},grid:{left:"5%",right:"5%",bottom:"5%",containLabel:!0},xAxis:{name:"时间",type:"time",min:minDate,splitNumber:9,axisLabel:{formatter:function(a,s){return echarts.format.formatTime("hh:mm",new Date(a))}},splitLine:{show:!1}},yAxis:{type:"value",name:"x",position:"bottom",axisLabel:{formatter:function(a){return a>0?"":Math.abs(a)}},splitLine:{show:!1}},series:[{name:"",type:"scatter",data:o,markLine:{animation:!1,symbolSize:0,itemStyle:{normal:{lineStyle:{type:"solid",color:"blue"},label:{show:!0,position:"end",formatter:function(){return"时间（分钟）"}}}},data:[{name:"Y水平线",yAxis:-40}]}},{name:"",type:"scatter",data:resData2},{name:"",type:"line",data:resData3},{name:"",type:"line",data:resData4},{name:"",type:"line",data:resData5},{name:"",type:"line",lineStyle:{color:"blue"},data:resData6},{name:"",type:"line",lineStyle:{color:"blue"},data:resData7}]}}function getNowTime(o){var e="",t=new Date,m=t.getFullYear(),l=t.getMonth()+1,i=t.getDate(),r=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),n=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],y=t.getDay();switch(l<10&&(l="0"+l),i<10&&(i="0"+i),r<10&&(r="0"+r),a<10&&(a="0"+a),s<10&&(s="0"+s),o){case"0":e=m+"."+l+"."+i+" "+r+":"+a+":"+s;break;case"1":e=m+"-"+l+"-"+i;break;case"2":e=r+":"+a+":"+s;break;case"3":e=n[y];break;default:}return e}
