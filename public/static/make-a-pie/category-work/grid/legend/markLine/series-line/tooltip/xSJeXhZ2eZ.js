function randomData(){now=new Date(+now+oneMinute);var a=Math.random()*2-1;return{value:[[now.getHours(),now.getMinutes()].join(":"),Math.round(a*100)/100]}}function randomY(){var a=Math.random()*2-1;return Math.round(a*100)/100}for(var now=+new Date,oneMinute=60*1e3,data1=[],data2=[],data3=[],x1=[],x2=[],x3=[],i=0;i<30;i++){var item=randomData();console.log(item),data1.push(item),x1.push(item.value[0])}console.log("data1: "),console.log(data1);for(var i=0;i<30;i++){var item=randomData();data2.push(randomY()),x2.push(x1[i])}console.log("data2: "),console.log(data2);for(var i=0;i<30;i++){var item=randomData();data3.push(randomY()),x3.push(x1[i])}var option={textStyle:{fontSize:24},legend:{data:[{name:"Alert State",icon:"square",textStyle:{color:"#222222",fontSize:"13px",fontFamily:"Arial"}}]},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{name:"Time Period",nameLocation:"middle",nameGap:"40",nameTextStyle:{fontSize:"16",fontWeight:"normal",fontStyle:"normal",fontFamily:"Arial"},data:x1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{max:"dataMax",min:"dataMin",name:"Fatigue",nameTextStyle:{fontSize:"16",fontWeight:"normal",fontStyle:"normal",fontFamily:"Arial"},type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0}},series:[{name:"Driver1",type:"line",showSymbol:!1,hoverAnimation:!1,data:data1,itemStyle:{normal:{color:"#199CD8",borderColor:"#fff",borderWith:1,shadowBlur:2,shadowOffsetX:2,shadowOffsetY:5}},lineStyle:{normal:{width:2,shadowColor:"rgba(112, 155, 233, 0.5)",shadowBlur:4,shadowOffsetY:4}},markLine:{silent:!0,symbol:!1,animation:!1,label:{normal:{show:!1}},data:[{yAxis:-.1}],lineStyle:{normal:{opacity:.5}}}},{name:"Driver2",type:"line",data:data2,smooth:!0,lineStyle:{normal:{opacity:.5}}},{name:"Driver3",type:"line",data:data3,smooth:!0,lineStyle:{normal:{opacity:.5}}}]},newitem;setInterval(function(){newitem=randomData(),data1.shift(),data1.push(newitem),data2.shift(),data2.push(randomY()),data3.shift(),data3.push(randomY()),x1.shift(),x1.push(newitem.value[0]),x2.shift(),x2.push(newitem.value[0]),x3.shift(),x3.push(newitem.value[0]),console.log("data1: "),console.log(data1),myChart.setOption({series:[{data:data1},{data:data2},{data:data3}],xAxis:[{data:x1}]})},1e3);
