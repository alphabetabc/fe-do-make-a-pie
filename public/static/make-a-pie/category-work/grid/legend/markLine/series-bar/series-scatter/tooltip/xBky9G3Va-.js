names=["硝酸","硝酸2","硝酸3","硝酸4","硝酸5","硝酸6","硝酸7","硝酸8","硝酸9","硝酸10"],values=[220,182,191,234,290,220,182,191,234,290],values2=[220,182,191,234,290,220,182,191,234,290];for(var cbthNumber=100,cbtnarr=[0],i=0;i<values.length;i++)cbtnarr.push(parseInt(values[i]/cbthNumber*30));console.log(cbtnarr);for(var values2=[120,112,111,134,120,130,122,141,134,150],max=values[0],max=100,i=0;i<values.length;i++)max<values[i]&&(max=values[i]);var aer=Math.random()*30+1,marklines={data:[{name:"Y 轴值为 100 的水平线",yAxis:max/30*aer,valueIndex:0}],symbol:"arrow"},option={color:["#3398DB"],tooltip:{show:!0},legend:{show:!0,icon:"bar",itemWidth:15,data:names},xAxis:{data:names},grid:{top:"8%",left:"3%",right:"2%",bottom:"5%",containLabel:!0},yAxis:[{type:"value",scale:!0,name:"价格",max:100,min:0,axisLabel:{formatter:"{value}  %"}},{type:"value",scale:!0,name:"预购量",max:400,min:0,splitLine:{show:!1}}],series:[{type:"bar",markLine:marklines,barWidth:"10%",data:values,yAxisIndex:1,itemStyle:{normal:{color:"#3398DB"}}},{type:"bar",barWidth:"10%",barWidth:5,data:values2,yAxisIndex:1,itemStyle:{normal:{color:"#62c0d0",borderType:"dashed"}}},{type:"scatter",name:"硝酸"},{type:"scatter",name:"硝酸2"},{type:"scatter",name:"硝酸3"},{type:"scatter",name:"硝酸4"},{type:"scatter",name:"硝酸5"},{type:"scatter",name:"硝酸6"},{type:"scatter",name:"硝酸7"},{type:"scatter",name:"硝酸8"},{type:"scatter",name:"硝酸9"},{type:"scatter",name:"硝酸10"}]};myChart.on("legendselectchanged",function(r){for(var s={},a=[],t=[],e=0;e<names.length;e++)r.selected[names[e]]==!0&&(a.push(names[e]),t.push(values[e]));myChartbudget.setOption({xAxis:{data:a},yAxis:{},series:[{type:"bar",data:t}]})});
