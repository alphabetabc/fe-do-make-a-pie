const chartData=[{name:"其他",nd:17,nm:50,wm:54},{name:"铁矿",nd:17,nm:60,wm:10},{name:"煤炭",nd:17,nm:40,wm:20},{name:"有色矿",nd:17,nm:46,wm:54},{name:"汽车",nd:17,nm:46,wm:54},{name:"散杂货",nd:17,nm:20,wm:54}];let color=["#4DB5F7","#F5F500","#01ECA4","#EC0202"],sum=[],pieSeries=[];chartData.forEach((e,t)=>{sum.push(e.nm+e.wm)});const maxNum=Math.max(...sum)+Math.min(...sum),index=chartData.length;chartData.forEach((e,t)=>{pieSeries.push({name:"学历",type:"pie",clockWise:!0,hoverAnimation:!1,radius:[70-t*10+"%",75-t*10+"%"],center:["40%","50%"],label:{show:!1},itemStyle:{normal:{borderWidth:0},emphasis:{borderWidth:2,shadowBlur:8,borderColor:"#00ffff",shadowColor:"#00ffff"}},data:[{...e,value:e.nm+e.wm,value1:e.wm,name:"内贸",itemStyle:{color:{type:"linear",x:0,y:e.wm/(e.nm+e.wm),x2:0,y2:0,colorStops:[{offset:0,color:"#4DB5F7"},{offset:e.wm/(e.nm+e.wm),color:"#F5F500"}],globalCoord:!1}}},{value:maxNum-e.nm-e.wm,name:"",itemStyle:{color:"red"}}],markLine:{data:[[{name:`${e.name}    年度${e.nd}%`,x:20+index*0+"%",y:"15%"},{x:40+index*0+"%",y:5*(t+3)+"%"}]],label:{color:"#FFF",fontSize:10,lineHeight:10,align:"right",padding:[-10,16,0,0]},lineStyle:{opacity:0}},label:{show:!0,position:"outside",formatter:function(a){console.log("data",a);let o="";return o=o+"{title|类型  内贸  外贸}",o},rich:{title:{fontSize:12,color:"#FFFFFF",padding:[-30,-40,0,-65]}}},labelLine:{normal:{show:!0,length:28,length2:64,align:"right",showAbove:!1}}})}),option={color,grid:{top:"12%",bottom:"54%",left:"30%",containLabel:!1},tooltip:{trigger:"item",textStyle:{fontSize:10}},legend:{show:!0,right:"0",top:7,itemWidth:15,itemHeight:5,textStyle:{color:"#fff",fontFamily:"PingFang SC",fontWeight:400,fontSize:12}},yAxis:[{type:"category",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}}],xAxis:[{show:!1}],series:pieSeries};
