var datas={video_ac:{name:"这是标题",datas:{task:[{data:0,time:"2020-04"},{data:0,time:"2020-05"},{data:0,time:"2020-06"},{data:124,time:"2020-07"},{data:367,time:"2020-08"},{data:265,time:"2020-09"},{data:220,time:"2020-10"},{data:153,time:"2020-11"},{data:19,time:"2020-12"},{data:0,time:"2021-01"},{data:0,time:"2021-02"},{data:0,time:"2021-03"}],power:[{data:0,time:"2020-04"},{data:0,time:"2020-05"},{data:0,time:"2020-06"},{data:7,time:"2020-07"},{data:8,time:"2020-08"},{data:3,time:"2020-09"},{data:4,time:"2020-10"},{data:5,time:"2020-11"},{data:6,time:"2020-12"},{data:0,time:"2021-01"},{data:0,time:"2021-02"},{data:0,time:"2021-03"}],question:[{data:0,time:"2020-04"},{data:0,time:"2020-05"},{data:0,time:"2020-06"},{data:55885,time:"2020-07"},{data:0,time:"2020-08"},{data:45652,time:"2020-09"},{data:19072,time:"2020-10"},{data:2055,time:"2020-11"},{data:0,time:"2020-12"},{data:0,time:"2021-01"},{data:0,time:"2021-02"},{data:0,time:"2021-03"}],history:[{data:0,time:"2020-04"},{data:0,time:"2020-05"},{data:0,time:"2020-06"},{data:34042,time:"2020-07"},{data:50502,time:"2020-08"},{data:34820,time:"2020-09"},{data:35549,time:"2020-10"},{data:22608,time:"2020-11"},{data:2716,time:"2020-12"},{data:0,time:"2021-01"},{data:0,time:"2021-02"},{data:0,time:"2021-03"}],rate:[{data:0,time:"2020-04"},{data:0,time:"2020-05"},{data:0,time:"2020-06"},{data:69,time:"2020-07"},{data:71,time:"2020-08"},{data:90,time:"2020-09"},{data:57,time:"2020-10"},{data:76,time:"2020-11"},{data:45,time:"2020-12"},{data:0,time:"2021-01"},{data:0,time:"2021-02"},{data:0,time:"2021-03"}]}}},key_dict={task:"task",power:"power",question:"question",batch:"batch",data:"data",history:"history",rate:"rate"},month_data=["2020-04","2020-05","2020-06","2020-07","2020-08","2020-09","2020-10","2020-11","2020-12","2021-01","2021-02","2021-03"];function getYdata(a,e){var d=a[e],i=[],t=e=="rate"?1:0;return d.forEach(m=>{i.push(m.data)}),{label:{normal:{show:!0,formatter:e=="rate"?"{c}%":"{c}"}},name:key_dict[e],type:"line",yAxisIndex:t,data:i}}var data=datas.video_ac,x_datas=[],y_datas=[];Object.keys(data.datas).forEach(a=>{x_datas.push(a),y_datas.push(getYdata(data.datas,a))}),console.log(y_datas),option={title:{text:"年度报表 - "+data.name},tooltip:{trigger:"axis",formatter:function(a,e,d){var i="";return a.forEach(t=>{i+=t.marker+t.seriesName+'：<span style="float:right">'+t.value+(t.seriesName=="准确率"?"%":"")+"</span><br/>"}),i}},legend:{top:"20px"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:month_data},yAxis:[{type:"value"},{type:"value",name:"准确率 (%)",position:"right",axisLabel:{show:!0,formatter:"{value} %",color:"#27719F"},max:100,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#27719F"}}}],series:y_datas};
