let datas=[{name:"菜菜",period:"9.10",amount:274600,orderCount:1670},{name:"佛生",period:"13.1",amount:147477,orderCount:436},{name:"我",period:"7.5",amount:15997,orderCount:72},{name:"Jiayin",period:"10.0",amount:65796,orderCount:544},{name:"明坤",period:"10.5",amount:310364,orderCount:979},{name:"首席",period:"6.5",amount:8305,orderCount:85},{name:"小楠子+",period:"9.1",amount:210284,orderCount:2224},{name:"康康",period:"10.10",amount:41789,orderCount:237},{name:"书记",period:"10.7",amount:36961,orderCount:452},{name:"书记夫人",period:"9.0",amount:68088,orderCount:647},{name:"vv",period:"8.3",amount:72896,orderCount:1743},{name:"qq",period:"6.10",amount:52276,orderCount:627}],min=0,max=0,packedDatas=packDatas(datas);option={backgroundColor:"#efefef",title:{text:"某群淘宝人生账单分布",left:"center",top:0},tooltip:{padding:10,backgroundColor:"#222",borderColor:"#777",borderWidth:1,formatter:function(e){var o=e.value;return'<div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px">'+o[2]+"（"+o[3]+"）</div>订单数："+o[0]+"<br>消费金额："+o[1]+"<br>AVT："+o[4].toFixed(2)+"<br>"}},xAxis:{splitLine:{show:!1},scale:!0,type:"value",name:"订单数"},yAxis:{splitLine:{show:!1},scale:!0,type:"value",name:"消费金额"},visualMap:[{show:!1,min,max,dimension:5,inRange:{color:["#fed8a7","#ee2021"]}}],series:[{symbolSize:function(e){return e[1]/(e[0]*3)},label:{show:!0,position:"top",formatter:function(e){return e.data[2]}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(25, 100, 150, 0.5)",shadowOffsetY:5}},markLine:{itemStyle:{normal:{lineStyle:{type:"solid",color:"#000"},label:{show:!0,position:"left"}}},large:!0,effect:{show:!0,loop:!0,period:0,scaleSize:2,color:null,shadowColor:null,shadowBlur:null}},data:packedDatas,type:"scatter"}]};function packDatas(e){return e.map(t=>{let i=t.name,r=t.period.split("."),u=r[0]+" 年 "+r[1]+" 个月",a=t.orderCount,l=t.amount,d=l/a,n=Number.parseInt(r[0])*12+Number.parseInt(r[1]);return min=min>0?Math.min(min,n):n,max=Math.max(max,n),[a,l,i,u,d,n]})}
