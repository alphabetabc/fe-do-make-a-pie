for(var data=[87,90,60,50,20],target=80,i=0;i<data.length;i++)data[i]={value:data[i],itemStyle:{color:data[i]>=target?"#c00":"#00736E"}};option={backgroundColor:"#fff",title:{text:"CPU TOP5",left:"center",subtext:"2020-03-12 10:00",subtextStyle:{color:"#666"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},yAxis:{type:"value",name:"cpu占用率",axisLabel:{show:!0,interval:"auto",formatter:e=>e+"%"},splitLine:{show:!1}},xAxis:{type:"category",data:["服务器一","服务器二","服务器三","服务器四","服务器五"],axisLine:{show:!0}},series:[{data,type:"bar",barWidth:"30%",itemStyle:{barBorderRadius:30},label:{normal:{show:!1,fontSize:14,fontWeight:"normal",color:"#333",position:"top",formatter:e=>e.value+"%"},emphasis:{show:!0,fontSize:14,fontWeight:"normal",color:"#333",position:"top",formatter:e=>e.value>=87?e.value+"%":""}},markLine:{itemStyle:{normal:{lineStyle:{type:"dashed",color:"#00736E"},label:{show:!0,position:"insideEndTop",formatter:"{b}%"}}},symbol:"none",data:[{type:"average",name:"80",xAxis:80,lineStyle:{color:"#00736E"},formatter:"{value}%"}]}}]};
