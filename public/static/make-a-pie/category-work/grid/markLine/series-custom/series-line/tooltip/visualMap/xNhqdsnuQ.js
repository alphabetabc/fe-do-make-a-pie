var xAxisData=["09-01","09-02","09-03","09-04","09-05","09-06","09-07","09-08","09-09","09-10"],seriesData=[.5,.2,.1,.4,.5,1,.5,.2,.1,.4,.5,1],arrowArr=["W","WSW","SW","SSW","S","SSE","SE","ESE","E","E"],preditDate="09-05",beforeEnsure="09-04",afterEnsure="09-07",num=xAxisData.length-1,index=0,actualPercent="",preditPercent="",arrowDataArr=[];xAxisData.forEach(function(t,e){var a=[];a.push(xAxisData[e]),a.push(seriesData[e]),a.push(arrowArr[e]),arrowDataArr.push(a)});var directionMap={};echarts.util.each(["W","WSW","SW","SSW","S","SSE","SE","ESE","E","ENE","NE","NNE","N","NNW","NW","WNW"],function(t,e){directionMap[t]=Math.PI/8*e});var dims={time:0,windSpeed:1,R:2,waveHeight:3,weatherIcon:2,minTemp:3,maxTemp:4},arrowSize=18,weatherIconSize=45;function renderArrow(t,e){var a=e.coord([e.value(dims.time),e.value(dims.windSpeed)]);return{type:"path",shape:{pathData:"M31 16l-15-15v9h-26v12h26v9z",x:-arrowSize/2,y:-arrowSize/2,width:arrowSize,height:arrowSize},rotation:directionMap[e.value(dims.R)],position:a,style:e.style({stroke:"#555",lineWidth:1})}}option={color:["#259e72","#178fcd"],tooltip:{trigger:"axis",formatter:function(t){return[t[1].value[dims.time]+"<br/>风速："+t[1].value[dims.windSpeed],"风向："+t[1].value[dims.R]].join("<br>")}},xAxis:[{boundaryGap:!1,data:xAxisData}],grid:[{left:"5%",right:"5%",show:!1}],yAxis:[{name:""}],visualMap:[{show:!1,dimension:0,seriesIndex:0,pieces:[{lte:index,color:"#259e72"},{gt:index,lte:seriesData.length+1,color:"#51d9a7"}]}],visualMap:[{show:!1,dimension:0,seriesIndex:0,pieces:[{lte:index,color:"#259e72"},{gt:index,lte:seriesData.length+1,color:"#51d9a7"}]}],series:[{name:"风速",type:"line",smooth:!0,xAxisIndex:"0",data:seriesData,markLine:{label:{color:"#666",position:"middle",textStyle:{padding:-50}},lineStyle:{color:"#666"}}},{name:"风向",type:"custom",renderItem:renderArrow,encode:{x:0,y:1},data:arrowDataArr,z:10},{name:"平行于y轴的趋势线",type:"line",color:["black"],markLine:{data:[[{symbol:"line",coord:[preditDate,0]},{symbol:"line",coord:[preditDate,1]}]]}}]},setTimeout(function(){var t=document.getElementById("chart-panel"),e=echarts.init(t);e.dispatchAction({type:"showTip",seriesIndex:1,dataIndex:3})},10);
