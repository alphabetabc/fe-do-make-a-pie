function getDateTimeStamp(t){return Date.parse(t.replace(/-/gi,"/"))}var nodeArray=[{title:"开始",description:"开始1",assignDate:"2017-10-22"},{title:"提交",description:"提交2",assignDate:"2017-10-27"},{title:"评审",description:"评审3",assignDate:"2017-11-02"},{title:"结束",description:"结束4",assignDate:"2017-12-30"}];nodeArray.sort(function(t,a){return getDateTimeStamp(t.assignDate)-getDateTimeStamp(a.assignDate)});var nArrayMaxIndex=nodeArray.length-1;xMin=getDateTimeStamp(nodeArray[0].assignDate),xMax=getDateTimeStamp(nodeArray[nArrayMaxIndex].assignDate),d=new Date,today=getDateTimeStamp(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()),markPointOpt=[],nodeArray.forEach(function(t,a){var e=getDateTimeStamp(t.assignDate),i=e>today||e<today?"#fff":"#7b9d6f",n=e>today?"#dfdfdf":"#7b9d6f",r=a>0&&a<nArrayMaxIndex?"top":"bottom";markPointOpt.push({name:t.assignDate,coord:[e,0,t.title],value:e,symbol:"circle",symbolSize:12,itemStyle:{normal:{color:i,borderColor:n,borderWidth:2},emphasis:{color:i,borderColor:n,borderWidth:2}},label:{normal:{position:r,formatter:function(o){return r=="bottom"?["{b|"+o.name+"}","{a|"+o.data.coord[2]+"}"].join(`
`):["{b|"+o.data.coord[2]+"}","{a|"+o.name+"}"].join(`
`)},rich:{a:{align:"center",padding:[0,0,5],color:"#383838"},b:{align:"center",color:"#383838"}}}}})});var markLineOpt={lineStyle:{normal:{color:"#7b9d6f",width:2,type:"solid"}},silent:!0,data:[[{coord:[xMin,0],symbol:"none"},{coord:[today,0],symbol:"none"}]]},option={tooltip:{show:!1},grid:{height:"5%"},xAxis:{axisLine:{lineStyle:{color:"#dfdfdf",width:2}},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1},min:xMin,max:xMax},yAxis:{show:!1},series:[{name:"I",type:"scatter",data:[],markLine:markLineOpt,markPoint:{data:markPointOpt}}]};
