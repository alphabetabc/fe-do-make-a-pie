const leftPieJson={治愈率:67.23,补全:32.77},rightPieJson={死亡率:2.12,补全:97.88};var uploadedDataURL="/asset/get/s/data-1635833218088-wOYRlagli.json";myChart.showLoading("default",{text:"统计中，请稍候...",maskColor:"#2957A2",textColor:"#fff"}),$.getJSON(uploadedDataURL,function(r){let s=r[0].reverse(),o=r[1].reverse();o.sort((e,t)=>e.ZBZ-t.ZBZ);const n=["rgba(0, 125, 255, 1)","rgba(0, 232, 224, 1)","rgba(225, 165, 56, 1)"].reverse();let l=o.map(e=>Number(e.ZBZ)),i=Math.max(...l),c=o.map((e,t)=>({type:"bar",barWidth:20,data:o.map(a=>e.ZBDM==a.ZBDM?e.ZBZ:0),coordinateSystem:"polar",name:e.ZBMC,stack:"a",roundCap:!0,itemStyle:{color:n[t],barBorderRadius:0},showBackground:!1}));option={backgroundColor:"#000",angleAxis:{type:"value",min:0,max:Math.ceil(i/.75),clockwise:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},radiusAxis:{type:"category",data:o.map(e=>e.ZBMC),z:100,nameLocation:"start",boundaryGap:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,margin:-180,align:"right",color:function(e,t){return n[t]||"#FFF"},formatter:function(e,t){return`{a|${e}} {x|${o[t].ZBZ}} {b|${s[t].JLDW}}`},interval:0,rich:{a:{color:"#fff",fontSize:14,fontWeight:400,lineHeight:22},b:{color:"rgba(255, 255, 255, 0.5)",fontSize:14,fontWeight:400,lineHeight:22},x:{width:80,fontSize:24,fontWeight:800,lineHeight:22}}}},polar:{center:["50%","35%"],radius:["10%","60%"]},tooltip:{show:!1},series:c.concat([{type:"pie",radius:[0,"20%"],center:["25%","75%"],label:{show:!1},labelLine:{show:!1},selectedOffset:5,data:Object.keys(leftPieJson).map(function(e,t){return{name:e.replace(".js",""),value:leftPieJson[e],itemStyle:{color:t===0?"#00CCFF":"#022B5D"},selected:t===0}})},{type:"pie",radius:[0,"20%"],center:["75%","75%"],label:{show:!1},labelLine:{show:!1},selectedOffset:5,data:Object.keys(rightPieJson).map(function(e,t){return{name:e.replace(".js",""),value:rightPieJson[e],itemStyle:{color:t===0?"#E1A538":"#022B5D"},selected:t===0}})}]),title:[{text:Object.keys(leftPieJson).reduce(function(e,t,a){return e+(a===0?t:"")},""),textStyle:{fontSize:16,fontFamily:"Source Han Sans CN",fontWeight:400,color:"#00CCFF"},subtext:Object.keys(leftPieJson).reduce(function(e,t,a){return e+(a===0?leftPieJson[t]:0)},0)+"%",subtextStyle:{fontSize:18,fontFamily:"OPPOSans",fontWeight:"bold",color:"#FFFFFF"},left:"38%",top:"70%",textAlign:"center"},{text:Object.keys(rightPieJson).reduce(function(e,t,a){return e+(a===0?t:"")},""),textStyle:{fontSize:16,fontFamily:"Source Han Sans CN",fontWeight:400,color:"#E1A538"},subtext:Object.keys(rightPieJson).reduce(function(e,t,a){return e+(a===0?rightPieJson[t]:0)},0)+"%",subtextStyle:{fontSize:18,fontFamily:"OPPOSans",fontWeight:"bold",color:"#FFFFFF"},left:"87%",top:"70%",textAlign:"center"}]},myChart.hideLoading(),myChart.setOption(option)});
