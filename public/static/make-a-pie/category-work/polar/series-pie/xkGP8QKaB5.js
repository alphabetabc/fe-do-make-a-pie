var data=[{value:10,name:"IDS",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}},{value:5,name:"VPN",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}},{value:15,name:"交换机",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}},{value:25,name:"防火墙",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}},{value:20,name:"WAF",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}},{value:35,name:"堡垒机",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}}];function angleText(a,l){var t=360/l,e=a*t+t/2,r=(a+1)*t;if(console.log(e),e<=90)return-e;if(e<=180&&e>90)return 180-e;if(e<270&&e>180)return 180-e;if(e<360&&e>=270)return 360-e}var data3=[];data3=JSON.parse(JSON.stringify(data));for(var i=0;i<data3.length;i++)i===0?(data3[i].label.color="#333",data3[i].itemStyle.color="rgba(25, 255, 224)",data3[i].emphasis.itemStyle.color="rgba(25, 255, 224)",data3[i].label.rotate=angleText(i,data3.length)):(data3[i].label.color="#fff",data3[i].itemStyle.color="#4169E1",data3[i].emphasis.itemStyle.color="#6A5ACD",data3[i].label.rotate=angleText(i,data3.length));var data1=[];data1=JSON.parse(JSON.stringify(data));for(var i=0;i<data1.length;i++)data1[i].value=1,data1[i].label.rotate=angleText(i,data1.length),i===0&&(data1[i].label.color="rgba(25, 255, 224)");for(var data2=[],i=0;i<data.length;i++)i===0?data2.push({value:1,itemStyle:{color:"rgba(25, 255, 224,0.05)"}}):data2.push({value:1,itemStyle:{color:"transparent"}});var option={backgroundColor:"#0B1837",grid:{},polar:{},angleAxis:{interval:1,type:"category",data:[]},radiusAxis:{show:!1},series:[{type:"pie",radius:["80%","90%"],hoverAnimation:!1,itemStyle:{color:"transparent"},labelLine:{normal:{show:!1,length:30,length2:55}},label:{normal:{position:"inside",align:"right"}},name:"",data:data1},{stack:"a",type:"pie",radius:["80%","60%"],roseType:"area",zlevel:10,itemStyle:{color:"#4169E1"},emphasis:{itemStyle:{color:"#6A5ACD"}},label:{normal:{show:!0,formatter:"{c}",textStyle:{fontSize:12,color:"#fff"},position:"inside",rotate:30,align:"right"},emphasis:{show:!0}},animation:!1,data:data3},{type:"pie",zlevel:99,radius:["20%","90%"],selectedOffset:0,animation:!1,hoverAnimation:!1,label:{normal:{show:!1}},data:data2}]};myChart.on("click",function(a){for(var l=0;l<option.series[0].data.length;l++)option.series[0].data[l].label.color="#fff";for(var t=0;t<option.series[1].data.length;t++)option.series[1].data[t].itemStyle.color="#4169E1",option.series[1].data[t].label.color="#fff",option.series[1].data[t].emphasis.itemStyle.color="#6A5ACD";for(var e=0;e<option.series[2].data.length;e++)option.series[2].data[e].itemStyle.color="transparent";option.series[1].data[a.dataIndex].itemStyle.color="rgba(25, 255, 224)",option.series[1].data[a.dataIndex].label.color="#333",option.series[1].data[a.dataIndex].emphasis.itemStyle.color="rgba(25, 255, 224)",option.series[0].data[a.dataIndex].label.color="rgba(25, 255, 224)",option.series[2].data[a.dataIndex].itemStyle.color="rgba(25, 255, 224,0.05)",myChart.setOption(option)}),myChart.on("mouseover",function(a){myChart.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:a.dataIndex})}),myChart.on("mouseout",function(a){myChart.dispatchAction({type:"downplay",seriesIndex:1,dataIndex:a.dataIndex})});
