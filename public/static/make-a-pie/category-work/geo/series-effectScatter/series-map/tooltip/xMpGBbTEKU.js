for(var outname=["南海诸岛","北京","天津","上海","重庆","河北","河南","云南","辽宁","黑龙江","湖南","安徽","山东","新疆","江苏","浙江","江西","湖北","广西","甘肃","山西","内蒙古","陕西","吉林","福建","贵州","广东","青海","西藏","四川","宁夏","海南","台湾","香港","澳门"],outvalue=[0,524,13,140,75,13,83,11,19,15,69,260,39,4,31,104,36,1052,33,347,9,157,22,4,18,5,2398,41,0,484,404,22,3,5,225],outdata=[],max=6e3,min=10,maxSize4Pin=100,minSize4Pin=20,i=0;i<outname.length;i++)outdata.push({name:outname[i],value:outvalue[i]});var geoCoordMap={},mapFeatures=echarts.getMap("china").geoJson.features;mapFeatures.forEach(function(e){console.info(e);var o=e.properties.name;geoCoordMap[o]=e.properties.cp});var convertData=function(e){for(var o=[],r=0;r<e.length;r++){var a=geoCoordMap[e[r].name];a&&o.push({name:e[r].name,value:a.concat(e[r].value)})}return o};option={backgroundColor:"#0F1C3C",tooltip:{show:!0,formatter:function(e){return e.value.length>1?"&nbsp;&nbsp;"+e.name+"&nbsp;&nbsp;&nbsp;"+e.value[2]+"人&nbsp;&nbsp;":"&nbsp;&nbsp;"+e.name+"&nbsp;&nbsp;&nbsp;"+e.value+"人&nbsp;&nbsp;"}},geo:{map:"china",show:!0,roam:!1,label:{emphasis:{show:!1}},layoutSize:"100%",itemStyle:{normal:{borderColor:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00F6FF"},{offset:1,color:"#53D9FF"}],!1),borderWidth:3,shadowColor:"rgba(10,76,139,1)",shadowOffsetY:0,shadowBlur:60}}},series:[{type:"map",map:"china",aspectScale:.75,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{areaColor:{x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#073684"},{offset:1,color:"#061E3D"}]},borderColor:"#215495",borderWidth:1},emphasis:{areaColor:{x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#073684"},{offset:1,color:"#061E3D"}]}}},data:outdata},{type:"effectScatter",coordinateSystem:"geo",rippleEffect:{brushType:"stroke"},showEffectOn:"render",itemStyle:{normal:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(5,80,151,0.2)"},{offset:.8,color:"rgba(5,80,151,0.8)"},{offset:1,color:"rgba(0,108,255,0.7)"}],global:!1}}},label:{normal:{show:!0,color:"#fff",fontWeight:"bold",position:"inside",formatter:function(e){return"{cnNum|"+e.data.value[2]+"}"},rich:{cnNum:{fontSize:13,color:"#D4EEFF"}}}},symbol:"circle",symbolSize:function(e){if(e[2]===0)return 0;var o=(maxSize4Pin-minSize4Pin)/(max-min),r=maxSize4Pin-o*max;return o*e[2]+r*1.2},data:convertData(outdata),zlevel:1}]};
