var name_title="中国人民大学2017年各省市计划录取人数",subname=`数据爬取自千栀网
，
上海、浙江无文理科录取人数`,nameColor=" rgb(55, 75, 113)",name_fontFamily="等线",subname_fontSize=15,name_fontSize=18,mapName="china",data=[{name:"北京",value:69,scale:"2.72%"},{name:"天津",value:93,scale:"3.67%"},{name:"河北",value:113,scale:"4.46%"},{name:"山西",value:31,scale:"1.22%"},{name:"内蒙古",value:31,scale:"1.22%"},{name:"辽宁",value:55,scale:"2.17%"},{name:"吉林",value:29,scale:"1.14%"},{name:"黑龙江",value:71,scale:"2.80%"},{name:"上海",value:50,scale:"1.97%"},{name:"江苏",value:436,scale:"17.2%"},{name:"浙江",value:132,scale:"5.21%"},{name:"安徽",value:160,scale:"6.31%"},{name:"福建",value:68,scale:"2.68%"},{name:"江西",value:49,scale:"1.93%"},{name:"山东",value:143,scale:"5.64%"},{name:"河南",value:99,scale:"3.91%"},{name:"湖北",value:44,scale:"1.74%"},{name:"湖南",value:47,scale:"1.85%"},{name:"重庆",value:53,scale:"2.09%"},{name:"四川",value:83,scale:"3.27%"},{name:"贵州",value:60,scale:"2.37%"},{name:"云南",value:55,scale:"2.17%"},{name:"西藏",value:7,scale:"0.28%"},{name:"陕西",value:232,scale:"9.15%"},{name:"甘肃",value:44,scale:"1.74%"},{name:"青海",value:15,scale:"0.59%"},{name:"宁夏",value:61,scale:"2.41%"},{name:"新疆",value:76,scale:"3.00%"},{name:"广东",value:41,scale:"1.62%"},{name:"广西",value:44,scale:"1.74%"},{name:"海南",value:44,scale:"1.74%"}],geoCoordMap={};myChart.showLoading();var mapFeatures=echarts.getMap(mapName).geoJson.features;myChart.hideLoading(),mapFeatures.forEach(function(e){var a=e.properties.name;geoCoordMap[a]=e.properties.cp}),console.log(data);var max=500,min=10,maxSize4Pin=50,minSize4Pin=20,convertData=function(e){for(var a=[],l=0;l<e.length;l++){var o=geoCoordMap[e[l].name];o&&a.push({name:e[l].name,value:o.concat(e[l].value)})}return console.log(a),a};option={title:{text:name_title,subtext:subname,x:"center",textStyle:{color:nameColor,fontFamily:name_fontFamily,fontSize:name_fontSize},subtextStyle:{fontSize:subname_fontSize,fontFamily:name_fontFamily}},tooltip:{trigger:"item",formatter:function(e){if(console.log(e.data),e.data.scale){var a=e.data.name+":<br>"+e.data.scale;return a}}},visualMap:{show:!0,min:0,max:500,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#00467F","#A5CC82"]}},geo:{show:!0,map:mapName,label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:convertData(data),symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:mapName,geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var a=(maxSize4Pin-minSize4Pin)/(max-min),l=minSize4Pin-a*min;return l=maxSize4Pin-a*max,a*e[2]+l},label:{normal:{formatter:"{@[2]}",show:!0,textStyle:{color:"#fff",fontSize:9}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:convertData(data)},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:convertData(data.sort(function(e,a){return a.value-e.value}).slice(0,5)),symbolSize:function(e){return e[2]/25},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"yellow",shadowBlur:10,shadowColor:"yellow"}},zlevel:1}]},myChart.setOption(option);
