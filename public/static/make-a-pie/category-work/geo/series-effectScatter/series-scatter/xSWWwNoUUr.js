var img="/asset/get/s/data-1632277841252-aNTf3ao-v.png",img2="/asset/get/s/data-1632277834142-Mf9W_CtZ9.png",uploadedDataURL="/asset/get/s/data-1632277940597-6IMJ-f-un.json",dataList=[{name:"南京市",value:6666},{name:"无锡市",value:7777},{name:"苏州市",value:8888},{name:"扬州市",value:99999}],dataList2=[],gdGeoCoordMap={南京市:[118.767413,32.041544],无锡市:[120.301663,31.574729],徐州市:[117.184811,34.261792],常州市:[119.946973,31.772752],苏州市:[120.619585,31.299379],南通市:[120.864608,32.016212],连云港市:[119.144784,34.536075],淮安市:[119.021265,33.597506],盐城市:[120.139998,33.377631],扬州市:[119.421003,32.393159],镇江市:[119.452753,32.204402],泰州市:[119.915176,32.484882],宿迁市:[118.275162,33.963008]};$.get(uploadedDataURL,function(f){echarts.registerMap("jiangsu",{geoJSON:f});for(var o in gdGeoCoordMap)for(var t=0;t<dataList.length;t++)if(o===dataList[t].name){dataList2.push({name:o,value:gdGeoCoordMap[o].concat(dataList[t].value)});break}else t+1===dataList.length&&dataList2.push({name:o,value:gdGeoCoordMap[o].concat(0)});var e={backgroundColor:"RGBA(4, 10, 36, 1)",geo:{map:"jiangsu",roam:!0,showLegendSymbol:!0,zoom:1.2,itemStyle:{areaColor:"rgba(0,0,0,0)",color:"blue",borderColor:"#22F7F8",borderWidth:2,shadowColor:"#22F7F8",shadowBlur:15,shadowOffsetY:5},label:{show:!0,color:"#FFFFFF"},emphasis:{label:{show:!0,color:"#ffffff"},itemStyle:{areaColor:"#2B91B7"}},selectedMode:!0,select:{label:{show:!0,color:"#ffffff"},itemStyle:{areaColor:"#2B91B7"}},regions:[{name:"南京市",selected:!0}]},series:[{type:"effectScatter",coordinateSystem:"geo",rippleEffect:{scale:10,brushType:"stroke"},showEffectOn:"render",itemStyle:{normal:{color:"#00FFFF"}},label:{normal:{color:"#fff"}},symbol:"circle",symbolSize:[10,5],data:[dataList2[0]],zlevel:1},{type:"scatter",coordinateSystem:"geo",itemStyle:{color:"#00FFF6"},symbol:"image://"+img2,symbolSize:[24,33],symbolOffset:[0,-20],data:[dataList2[0]]},{type:"scatter",coordinateSystem:"geo",label:{show:!0,formatter:function(a){var s=a.value[2],l=`{fline|${s}元}`;return l},rich:{fline:{padding:[15,15,15,15],color:"#FFD426",fontSize:16,fontWeight:700}},emphasis:{show:!0},backgroundColor:{image:img}},itemStyle:{color:"#00FFF6"},symbolSize:[0,0],symbolOffset:[0,-70],data:[dataList2[0]]}]};myChart.setOption(e,!0);var r=1;setInterval(()=>{e.series.forEach(a=>{a.data=[],a.data.push(dataList2[r])}),e.geo.regions=[],e.geo.regions.push({name:dataList2[r].name,selected:!0}),console.log(e.geo),r++,r===13&&(r=0),myChart.setOption(e,!0)},5e3),myChart.on("click",function(a){e.geo.regions.push({name:a.name,selected:!0}),e.series.forEach(s=>{s.data.forEach((l,i)=>{if(l.name===a.name)return!1;i+1===s.data.length&&dataList2.forEach(n=>{n.name===a.name&&s.data.push(n)})})}),myChart.setOption(e,!0)}),window.addEventListener("resize",function(){myChart.resize()})});
