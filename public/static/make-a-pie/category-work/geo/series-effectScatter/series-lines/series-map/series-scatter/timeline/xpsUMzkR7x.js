var uploadedDataURL="/asset/get/s/data-1637826904039-zHU2nal-3.json";myChart.showLoading("default",{text:"统计中，请稍候...",maskColor:"#2957A2",textColor:"#fff"});var mapDate=[{count:2,sourceLat:"39.66064453125",sourceLng:"115.51025390625",targetName:"国家体育馆",targetId:"001"},{count:2,sourceLat:"39.57275390625",sourceLng:"115.99365234375",targetName:"国家体育馆",targetId:"001"}],convertData=function(e){for(var r=[],o=0;o<e.length;o++){var a=e[o],t=[a.sourceLng,a.sourceLat],l=[116.33224936,39.944965353];t&&l&&r.push([{coord:t,value:a.count},{coord:l}])}return r},series=[];series.push({type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:15},lineStyle:{normal:{width:1,opacity:1,curveness:.1}},data:convertData(mapDate)},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:8},label:{normal:{show:!0,position:"right",offset:[5,0],formatter:function(e){return e.data.name},fontSize:16},emphasis:{show:!0}},symbol:"circle",symbolSize:function(e){return 5+e[2]*2},itemStyle:{normal:{show:!1,color:"#f00"}},data:mapDate.map(function(e){return{name:"",value:[e.sourceLng,e.sourceLat,e.count]}})},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:8},label:{normal:{show:!0,position:"right",offset:[5,0],formatter:function(e){return e.data.name},fontSize:16},emphasis:{show:!0}},symbol:"circle",symbolSize:function(e){return 2+e[2]*2},itemStyle:{normal:{show:!1,color:"#0f0"}},data:[{name:"国家体育馆",value:["116.33224936","39.944965353",10]}]});var mapInit=()=>{$.getJSON(uploadedDataURL,function(e){echarts.registerMap("bj",e),myChart.hideLoading(),option={tooltip:{trigger:"item",backgroundColor:"rgba(166, 200, 76, 0.82)",borderColor:"#FFFFCC",showDelay:0,hideDelay:0,enterable:!0,transitionDuration:0,extraCssText:"z-index:100",formatter:function(r,o,a){var t="",l=r.name,n=r.value[r.seriesIndex+1];return t="<span style='color:#fff;'>"+l+"</span><br/>数据："+n,t}},backgroundColor:"#013954",visualMap:{min:0,max:6,calculable:!0,show:!0,color:["#f44336","#fc9700","#ffde00","#ffde00","#00eaff"],textStyle:{color:"#fff"}},geo:{map:"bj",zoom:1.2,label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{color:"rgba(51, 69, 89, .5)",borderColor:"#516a89",borderWidth:1},emphasis:{color:"rgba(37, 43, 61, .5)"}}},series},myChart.setOption(option)})};mapInit();
