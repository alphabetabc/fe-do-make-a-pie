var sichuan="/asset/get/s/data-1576202716004-RTJpxnA2.json";$.get(sichuan,function(f){echarts.registerMap("sichuan",f),myChart.setOption({series:[{type:"map",map:"sichuan"}]});var t="path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",o={广元市:[105.850994,32.439423],达州市:[107.472292,31.214554],广安市:[106.638979,30.461996],遂宁市:[105.598849,30.538848],德阳市:[104.402117,31.134352],绵阳市:[104.684985,31.471938],成都市:[104.076356,30.664024],资阳市:[104.637312,30.136206],眉山市:[103.854842,30.081277],内江市:[105.061141,29.586137],自贡市:[104.782145,29.348859],泸州市:[105.448526,28.878933],宜宾市:[104.649403,28.75826],乐山市:[103.77254,29.559197],雅安市:[103.050114,30.017042],南充市:[106.115779,30.845023],巴中市:[106.115779,30.845023],攀枝花市:[101.724969,26.588292],甘孜藏族自治州:[101.96912,30.056028],阿坝藏族羌族自治州:[102.231991,31.911642],凉山彝族自治州:[102.262579,27.888518]},l=[{name:"广元市",value:50},{name:"达州市",value:50},{name:"攀枝花市",value:10},{name:"成都市",value:106}],m=0;l.forEach(function(e,a){m+=e.value});var t="arrow",p=function(e,a){for(var s=[],r=0;r<a.length;r++){var i=o[e],c=o[a[r].name];i&&c&&s.push({coords:[c,i]})}return s},n=[];[["成都市",l]].forEach(function(e){n.push({name:e[0],type:"lines",zlevel:1,effect:{show:!0,period:6,trailLength:.7,symbol:t,color:"#ffde00",symbolSize:13},lineStyle:{normal:{width:1,opacity:.4,curveness:.2,color:"#ffde00"}},data:p(e[0],e[1])},{name:e[0],type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:2,brushType:"stroke",scale:3},label:{normal:{show:!0,color:"#ffde00",position:"left",formatter:"{b}"}},symbol:"circle",symbolSize:10,itemStyle:{normal:{show:!0}},data:e[1].map(function(a){return console.log(a),{name:a.name,value:o[a.name].concat([a.value])}})},{name:"item[0]",type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:2,brushType:"stroke",scale:3},label:{normal:{show:!1,position:"left",formatter:"{b}",color:"#ffde00"}},symbolSize:function(a){return 25},symbol:"circle",itemStyle:{normal:{show:!0}},data:[{name:e[0],value:o[e[0]].concat([100])}]})}),option={backgroundColor:"#222",tooltip:{trigger:"item",formatter:"{b}"},visualMap:{show:!1,min:0,max:100,color:["#ffde00"]},geo:{map:"sichuan",zoom:1,label:{normal:{show:!1,textStyle:{color:"rgba(255,255,255,.1)"}},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"rgba(0,97,225,.3)",borderColor:"rgba(255,255,255,.6)"},emphasis:{areaColor:"#033d94"}}},series:n},myChart.setOption(option),window.addEventListener("resize",function(){myChart.resize()})});
