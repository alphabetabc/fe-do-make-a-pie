var planePath="path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",geoCoordMap={Rome:[12.496366,41.902782],Toledo:[-4.02263,39.8581],Pisa:[10.4036,43.70853],Salerno:[14.766667,40.683334],Novara:[8.616667,45.450001],RomeI:[12.49636,41.90278],RomeII:[12.447,41.953],GenazzanoI:[12.97079,41.82522],Piacenza:[9.70462,45.04202],RomeIII:[12.546366,41.852782],Sulmona:[13.9166667,42.05],GenazzanoII:[12.92079,41.87522],Venice:[12.3266667,45.4386111],Winchester:[-1.308,51.063202],Naples:[14.305573,40.853294],RomeIV:[12.446366,41.852782],PapalStates:[12.60166,42.81933],RomeV:[12.546366,41.952782]},BJData=[[{name:"Toledo",value:2805},{name:"Rome"}],[{name:"Pisa",value:1e3},{name:"Rome"}],[{name:"Salerno",value:15e3},{name:"Rome"}],[{name:"Novara",value:4e3},{name:"Rome"}],[{name:"RomeI",value:4e3},{name:"Rome"}],[{name:"RomeII",value:4e3},{name:"Rome"}],[{name:"GenazzanoI",value:3580},{name:"Rome"}],[{name:"Piacenza",value:3500},{name:"Rome"}],[{name:"RomeIII",value:3400},{name:"Rome"}],[{name:"Sulmona",value:3400},{name:"Rome"}],[{name:"GenazzanoII",value:3e3},{name:"Rome"}],[{name:"Venice",value:4795},{name:"Rome"}],[{name:"Winchester",value:4e3},{name:"Rome"}],[{name:"Naples",value:2199},{name:"Rome"}],[{name:"RomeIV",value:1116},{name:"Rome"}],[{name:"PapalStates",value:1185},{name:"Rome"}],[{name:"RomeV",value:1201},{name:"Rome"}]],convertData=function(e){for(var l=[],a=0;a<e.length;a++){var o=e[a],n=geoCoordMap[o[0].name],m=geoCoordMap[o[1].name];n&&m&&l.push({fromName:o[0].name,toName:o[1].name,coords:[n,m],value:o[0].value})}return l},series=[];[["Rome",BJData]].forEach(function(e,l){series.push({name:e[2],type:"lines",zlevel:2,effect:{show:!0,period:6,trailLength:0,symbol:planePath,symbolSize:8},lineStyle:{normal:{color:"#ff8800",width:1,opacity:1,curveness:.2}},label:{normal:{show:!1,position:"middle",formatter:"{b}"}},data:convertData(e[1])},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!1,position:"right",offset:[5,0],formatter:"{b}",textStyle:{color:"red"}},emphasis:{show:!0}},symbol:"circle",symbolSize:function(a){return 4+a[2]/1e3},itemStyle:{normal:{show:!1}},data:e[1].map(function(a){return{name:a[0].name,value:geoCoordMap[a[0].name].concat([a[0].value])}})},{type:"scatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",color:"#00ffff",formatter:"{b}",textStyle:{color:"#0bc7f3"}},emphasis:{show:!0}},symbol:"pin",symbolSize:30,itemStyle:{normal:{show:!0,color:"#9966cc"}},data:[{name:e[0],value:geoCoordMap[e[0]].concat([10])}]})}),option={backgroundColor:"#1B2631",tooltip:{trigger:"item",formatter:function(e,l,a){return e.seriesType=="effectScatter"?e.marker+e.data.name+""+e.data.value[2]:e.seriesType=="lines"?e.data.fromName+" -> "+e.data.toName+"<br />"+e.data.value:e.name}},geo:{map:"world",label:{emphasis:{show:!1}},roam:!0,layoutCenter:["50%","50%"],layoutSize:"130%",itemStyle:{normal:{color:"rgba(48,97,186,0.3)",borderColor:"rgba(0, 0, 0, 0)"},emphasis:{color:"rgba(48,97,186,0.3)"}}},series};
