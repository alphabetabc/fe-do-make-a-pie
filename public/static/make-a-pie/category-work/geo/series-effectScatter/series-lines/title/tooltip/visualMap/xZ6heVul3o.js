var uploadedDataURL="/asset/get/s/data-1566436989733-sRoy1-ji5.json";$.getJSON(uploadedDataURL,function(s){echarts.registerMap("yuhang",s),myChart.setOption({series:[{type:"map",map:"yuhang"}]});var t={余杭中心库:[120.30248,30.45363],余杭供电所:[119.9383,30.25933],瓶窑供电所:[119.97505,30.37511],良渚供电所:[120.09127,30.35129],南苑供电所:[120.30729,30.43422],塘栖供电所:[120.089096,30.441723],东湖供电所:[120.306493,30.425252],科技城供电所:[119.979408,30.27422]},f=[[{name:"余杭中心库"},{id:1,name:"余杭供电所",value:60}],[{name:"余杭中心库"},{id:1,name:"瓶窑供电所",value:60}],[{name:"余杭中心库"},{id:1,name:"良渚供电所",value:30}],[{name:"余杭中心库"},{id:1,name:"南苑供电所",value:20}],[{name:"余杭中心库"},{id:1,name:"塘栖供电所",value:60}],[{name:"余杭中心库"},{id:1,name:"东湖供电所",value:20}],[{name:"余杭中心库"},{id:1,name:"科技城供电所",value:30}]],m=[[{name:"余杭供电所"},{id:2,name:"余杭中心库",value:75}],[{name:"瓶窑供电所"},{id:2,name:"余杭中心库",value:75}],[{name:"良渚供电所"},{id:2,name:"余杭中心库",value:75}],[{name:"南苑供电所"},{id:2,name:"余杭中心库",value:75}],[{name:"塘栖供电所"},{id:2,name:"余杭中心库",value:75}],[{name:"东湖供电所"},{id:2,name:"余杭中心库",value:75}],[{name:"科技城供电所"},{id:2,name:"余杭中心库",value:75}]],u="circle",c=function(a){for(var o,e,r=0;r<a.length;r++){var l=a[r];if(l[1].id==1)return o=.2,o;if(l[1].id==2)return e=-.2,e}},v=function(a){for(var o=[],e=0;e<a.length;e++){var r=a[e],l=t[r[0].name],n=t[r[1].name];r[1].id==1?l&&n&&o.push([{coord:l},{coord:n,value:r[1].value}]):r[1].id==2&&l&&n&&o.push([{coord:l},{coord:n}])}return o},p=["#fff","#FF1493","#0000FF"],i=[];[["1",f],["2",m]].forEach(function(a,o){i.push({name:a[0],type:"lines",zlevel:2,effect:{show:!0,period:2,trailLength:0,symbol:u,symbolSize:5},lineStyle:{normal:{width:1,opacity:.4,curveness:c(a[1]),color:"#fff"}},data:v(a[1])},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:2,brushType:"stroke",scale:5},label:{normal:{show:!0,color:"#fff",position:"right",formatter:"{b}"}},symbol:"circle",symbolSize:function(e){return e[2]/8},itemStyle:{normal:{show:!0}},data:a[1].map(function(e){return{name:e[1].name,value:t[e[1].name].concat([e[1].value])}})})}),option={backgroundColor:"#031f2d",title:{text:"",subtext:"",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:"{b}<br />今日需配送物资金额：8832元<br />计划配送次数：6次<br />已配送物资金额：7900元<br />已完成配送次数：4次<br />常规配送任务数：6次<br />在途配送应急调配任务数：0次<br />跨库调配任务数：0次"},visualMap:{show:!1,min:0,max:100,color:["#a6c84c","#ffa022","#46bee9"]},geo:{map:"yuhang",zoom:1,label:{normal:{show:!1,textStyle:{color:"#fff"}},emphasis:{textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}}},series:i},myChart.setOption(option)});
