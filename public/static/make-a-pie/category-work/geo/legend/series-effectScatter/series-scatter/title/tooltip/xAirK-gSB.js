var data=[{name:"70,37.5",value:12},{name:"0,37.5",value:12},{name:"70,127.5",value:12},{name:"0,127.5",value:12}],geoCoordMap={"70,37.5":[37.5,70],"0,37.5":[37.5,0],"70,127.5":[127.5,70],"0,127.5":[127.5,0]},convertData=function(e){for(var o=[],t=0;t<e.length;t++){var r=geoCoordMap[e[t].name];r&&o.push({name:e[t].name,value:r.concat(e[t].value)})}return o};option={backgroundColor:"#404a59",title:{text:"全国主要城市空气质量",subtext:"data from PM25.in",sublink:"http://www.pm25.in",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item"},legend:{orient:"vertical",y:"bottom",x:"right",data:["pm2.5"],textStyle:{color:"#fff"}},geo:{map:"world",label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#323c48",borderColor:"#111"},emphasis:{areaColor:"#2a333d"}}},series:[{name:"pm2.5",type:"scatter",coordinateSystem:"geo",data:convertData(data),symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#ddb926"}}},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:convertData(data.sort(function(e,o){return o.value-e.value}).slice(0,6)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]};
