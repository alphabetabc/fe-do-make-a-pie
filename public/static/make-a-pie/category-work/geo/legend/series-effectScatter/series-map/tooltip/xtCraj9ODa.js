var uploadedDataURL="/asset/get/s/data-1630657618994-LpKky1VZv.json";myChart.showLoading(),$.getJSON(uploadedDataURL,function(m){echarts.registerMap("hangzhou",m),myChart.hideLoading();let h={萧山区交通运输局:[120.266934,30.187366],富阳区交通运输局:[119.943834,30.07327],余杭区交通运输局:[119.99224,30.343826],临平区交通运输局:[120.301038,30.426579],临安区交通运输局:[119.703838,30.22169],桐庐县交通运输局:[119.701737,29.791497],建德市交通运输局:[119.300279,29.483262],淳安县交通运输局:[119.041705,29.616495]},s=[{name:"萧山区交通运输局"},{name:"富阳区交通运输局"},{name:"余杭区交通运输局"},{name:"临平区交通运输局"},{name:"临安区交通运输局"},{name:"桐庐县交通运输局"},{name:"建德市交通运输局"},{name:"淳安县交通运输局"}],l=[{name:"萧山区"},{name:"富阳区"},{name:"余杭区"},{name:"临平区"},{name:"临安区"},{name:"桐庐县"},{name:"建德市"},{name:"淳安县"}],t=0,r=[];[["地图点位",s]].forEach(function(a){r.push({type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:5,brushType:"stroke",scale:5},Symbol:"circle",symbolSize:8,itemStyle:{normal:{show:!0,color:"#f00f00"},emphasis:{show:!0,color:"#f00f00"}},data:a[1].map(function(e){return{name:e.name,value:h[e.name].concat([e.value])}})})}),[["地图",l]].forEach(a=>{r.push({type:"map",name:"杭州",tooltip:{show:!1,trigger:"item",formatter:"{b}",textStyle:{color:"#ffffff"}},map:"hangzhou",showLegendSymbol:!1,aspectScale:.85,zoom:1.23,itemStyle:{areaColor:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#3FA9FC"},{offset:1,color:"#1378F8"}],!1),borderColor:"#222222",borderWidth:.5},emphasis:{label:{show:!0,color:"#9932CC",formatter:(e,c,i)=>{let o="";return l.forEach(f=>{e.name===f.name&&(o=`${e.name}交通运输局`)}),o}}},data:a[1].map(function(e){return{name:e.name,value:e.name.concat([e.value])}})})});const n={tooltip:{trigger:"item"},legend:{show:!1},position:"bottom",geo:{tooltip:{show:!1,trigger:"item",formatter:"{b}",textStyle:{color:"#ffffff"}},name:"杭州",map:"hangzhou",showLegendSymbol:!1,aspectScale:.85,zoom:1.23,itemStyle:{areaColor:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#3FA9FC"},{offset:1,color:"#1378F8"}],!1),borderColor:"#222222",borderWidth:.5},emphasis:{label:{show:!0,color:"#ffffff",formatter:(a,e,c)=>{let i="";return s.forEach(o=>{`${a.name}交通运输局`===o.name&&(i=`${a.name}交通运输局`)}),i}},itemStyle:{areaColor:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#EACF3E"},{offset:1,color:"#DD831F"}],!1),borderColor:"#222222",borderWidth:.5}}},series:r};myChart.setOption(n,!0),myChart.dispatchAction({type:"downplay",seriesIndex:1}),myChart.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:t}),mTime=setInterval(()=>{myChart.dispatchAction({type:"downplay",seriesIndex:1}),t++,myChart.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:t}),t>=n.series[1].data.length-1&&(t=-1)},2e3),myChart.on("mouseover",a=>{clearInterval(mTime),mTime=null,myChart.dispatchAction({type:"downplay",seriesIndex:1}),myChart.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:a.dataIndex})}),myChart.on("mouseout",()=>{mTime=setInterval(()=>{myChart.dispatchAction({type:"downplay",seriesIndex:1}),t++,myChart.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:t}),t>=n.series[1].data.length-1&&(t=-1)},2e3)})});
