var uploadedDataURL="/asset/get/s/data-1517645039291-B1vgpymUz.json";$.getJSON(uploadedDataURL,function(u){echarts.registerMap("zhongguo",u),myChart.hideLoading();var f={海南:[110.17,19.92],河南:[113.700339,34.751827],河北:[114.54095,38.058913],湖北:[114.289984,30.5942],广东:[113.293215,23.102603],湖南:[113.03042,28.188898],江西:[115.911671,28.658012],黑龙江:[126.629804,45.774197],四川:[104.112035,30.630737],安徽:[117.321109,31.850184]},t=[{name:"海南",value:99925.73},{name:"河南",value:17737.01},{name:"河北",value:13177.64},{name:"湖北",value:12174.96},{name:"广东",value:8230.15},{name:"湖南",value:8173.05},{name:"江西",value:7423.08},{name:"黑龙江",value:6829.69},{name:"四川",value:6158.43},{name:"安徽",value:5930.8}],l=1e5,n=900,m=100,s=20,r=function(e){for(var a=[],o=0;o<e.length;o++){var i=f[e[o].name];i&&a.push({name:e[o].name,value:i.concat(e[o].value)})}return a};console.log(r(t)),option={title:{text:"购买对象所在省份TOP10",subtext:"销售面积区间",x:"center",textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:function(e){return typeof e.value[2]>"u"?e.name+" : "+e.value:e.name+" : "+e.value[2]}},legend:{orient:"vertical",y:"bottom",x:"right",data:["sell_area"],textStyle:{color:"#fff"}},visualMap:{show:!1,min:0,max:500,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#0f0c29","#302b63","#24243e"]}},geo:{show:!0,map:"zhongguo",label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"credit_pm2.5",type:"scatter",coordinateSystem:"geo",data:r(t),symbolSize:function(e){return e[2]/1e4},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:"zhongguo",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:t},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var a=(m-s)/(l-n),o=s-a*n;return o=m-a*l,a*e[2]+o},label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:9}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:r(t)},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:r(t.sort(function(e,a){return a.value-e.value}).slice(0,5)),symbolSize:function(e){return e[2]/5e3},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!1}},itemStyle:{normal:{color:"#05C3F9",shadowBlur:10,shadowColor:"#05C3F9"}},zlevel:1}]},myChart.setOption(option)});
