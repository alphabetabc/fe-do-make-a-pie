var uploadedDataURL="/asset/get/s/data-1525848254835-HyDpOfl0f.json";myChart.showLoading(),$.getJSON(uploadedDataURL,function(u){echarts.registerMap("hubei",u),myChart.hideLoading();var c={武汉:[114.31,30.52],鄂州:[114.899,30.39],恩施:[109.49,30.28],黄冈:[114.9,30.44],黄石:[115.04,30.19],荆门:[112.216,31.044],孝感:[113.55,30.55],荆州:[112.14,30.206],十堰:[110.47,32.37],襄阳:[112.12,32.04],随州:[113.38,31.69],咸宁:[114.19,29.5],宜昌:[111.28,30.69]},t=[{name:"武汉",value:107},{name:"鄂州",value:105},{name:"恩施",value:102},{name:"黄冈",value:72},{name:"黄石",value:89},{name:"荆门",value:117},{name:"孝感",value:110},{name:"荆州",value:139},{name:"十堰",value:107},{name:"襄阳",value:147},{name:"随州",value:97},{name:"咸宁",value:78},{name:"宜昌",value:105}],n=480,m=9,s=100,i=20,r=function(e){for(var o=[],a=0;a<e.length;a++){var l=c[e[a].name];console.log(l+1111111111111);var f=e[a].name;console.log(f+6666666666666);var v=e[a].value;console.log(v+111);var h=e[a];console.log(h),l&&o.push({name:e[a].name,value:l.concat(e[a].value)})}return o};option={title:{text:"“空气简报” - 湖北省",subtext:"",x:"center",textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:function(e){return typeof e.value[2]>"u"?e.name+" : "+e.value:e.name+" : "+e.value[2]}},legend:{orient:"vertical",y:"bottom",x:"right",data:["credit_pm2.5"],textStyle:{color:"#fff"}},visualMap:{show:!1,min:0,max:500,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#0f0c29","#302b63","#24243e"]}},geo:{show:!0,map:"hubei",label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"credit_pm2.5",type:"scatter",coordinateSystem:"geo",data:r(t),symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:"hubei",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:t},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var o=(s-i)/(n-m),a=i-o*m;return a=s-o*n,o*e[2]+a},label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:9}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:r(t)},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:r(t.sort(function(e,o){return o.value-e.value}).slice(0,5)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#05C3F9",shadowBlur:10,shadowColor:"#05C3F9"}},zlevel:1}]},myChart.setOption(option)});
