var uploadedDataURL_jiangyin="/asset/get/s/data-1502776163655-BynDiZe_b.json",uploadedDataURL_data="/asset/get/s/data-1502774981085-HJaaUZgd-.json";$.getJSON(uploadedDataURL_data,function(a){$.getJSON(uploadedDataURL_jiangyin,function(u){echarts.registerMap("jiangyin",u);var n=a.JYdata,l=function(t){for(var r=[],e=0;e<t.length;e++){var o=a.jiangyin_geoCoordMap[t[e].name];o&&r.push({name:t[e].name,value:o.concat(t[e].value)})}return r},i=function(t){for(var r=[],e=0;e<t.length;e++){var o=a.jiangyin_geoCoordMap[t[e][0].name];o&&r.push({name:t[e][0].name,value:o.concat(t[e][1].value)})}return r},m=function(t){for(var r=[],e=0;e<t.length;e++){var o=t[e],f=a.jiangyin_geoCoordMap[o[0].name],c=a.jiangyin_geoCoordMap[o[1].name];f&&c&&r.push({fromName:o[0].name,toName:o[1].name,coords:[f,c]})}return r},h=["#f4e925"],s=[];[["主机",n]].forEach(function(t,r){s.push({name:"飞线",type:"lines",zlevel:2,effect:{animation:!1,show:!0,constantSpeed:70,trailLength:.5,color:"#fff",symbolSize:3},lineStyle:{normal:{color:h[r],width:0,curveness:.2}},data:m(t[1])},{name:"地区",type:"scatter",coordinateSystem:"geo",data:l(a.jiangyin_value),symbolSize:function(e){return e[2]/15},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#BBA02C"}}},{name:"接收点",type:"effectScatter",coordinateSystem:"geo",data:l(a.jiangyin_value.sort(function(e,o){return o.value-e.value}).slice(0,1)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1},{name:"发出点",type:"effectScatter",coordinateSystem:"geo",data:i(n),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1},{name:"报警",type:"effectScatter",coordinateSystem:"geo",data:i(a.JYalarmdata),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"red",shadowBlur:10,shadowColor:"#333"}},zlevel:1})}),option={backgroundColor:"#404a59",title:[{text:"业务信息",subtext:"江苏省江阴市",left:"45%",textStyle:{color:"#fff"}}],tooltip:{trigger:"item"},grid:{right:40,top:100,bottom:40,width:"30%"},legend:{orient:"vertical",top:"bottom",left:"right",data:["主机信息"],textStyle:{color:"#fff"},selectedMode:"single"},geo:{map:"jiangyin",label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#323c48",borderColor:"#404a59"},emphasis:{areaColor:"#2a333d"}}},series:s},myChart.setOption(option)})});
