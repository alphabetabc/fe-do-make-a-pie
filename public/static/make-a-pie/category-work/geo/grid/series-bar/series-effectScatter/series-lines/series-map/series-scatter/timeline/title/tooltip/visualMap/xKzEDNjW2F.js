var uploadedDataURL="/asset/get/s/data-1528971808162-BkOXf61WX.json",geoGpsMap=[106.561312,29.574336],t=1,r=1,geoCoordMap={江苏:[118.8062,31.9208],黑龙江:[127.9688,45.368],内蒙古:[110.3467,41.4899],吉林:[125.8154,44.2584],北京市:[116.4551,40.2539],辽宁:[123.1238,42.1216],河北:[114.4995,38.1006],天津:[117.4219,39.4189],山西:[112.3352,37.9413],陕西:[109.1162,34.2004],甘肃:[103.5901,36.3043],宁夏:[106.3586,38.1775],青海:[101.4038,36.8207],新疆:[87.9236,43.5883],四川:[103.9526,30.7617],山东:[117.1582,36.8701],河南:[113.4668,34.6234],安徽:[117.29,32.0581],湖北:[114.3896,30.6628],浙江:[119.5313,29.8773],福建:[119.4543,25.9222],江西:[116.0046,28.6633],湖南:[113.0823,28.2568],贵州:[106.6992,26.7682],云南:[102.9199,25.4663],广东:[113.12244,23.009505],广西:[108.479,23.1152],海南:[110.3893,19.8516],上海:[121.4648,31.2891],西藏:[91.11,29.97]},d1={江苏:10041,黑龙江:4093,内蒙古:1157,吉林:4903,北京市:2667,辽宁:8331,河北:23727,天津:681,山西:5352,陕西:38,甘肃:77,宁夏:65,青海:10,新疆:22e3,四川:309,山东:21666,河南:15717,安徽:15671,湖北:3714,浙江:3141,福建:955,江西:4978,湖南:778,贵州:33,云南:149,广东:1124,广西:125,海南:7,上海:2155,西藏:0},d2={江苏:159,黑龙江:5,内蒙古:54,吉林:10,北京市:0,辽宁:0,河北:1679,天津:1,山西:2698,陕西:1744,甘肃:362,宁夏:429,青海:122,新疆:731,四川:3925,山东:79,河南:1017,安徽:208,湖北:1209,浙江:1418,福建:1237,江西:1004,湖南:1511,贵州:345,云南:1429,广东:2242,广西:2271,海南:59,上海:8,西藏:0},d3={江苏:11788,黑龙江:1944,内蒙古:2954,吉林:3482,北京市:1808,辽宁:5488,河北:27035,天津:2270,山西:13623,陕西:4221,甘肃:754,宁夏:1783,青海:91,新疆:1907,四川:4905,重庆:1420,山东:39781,河南:16154,安徽:7914,湖北:6802,浙江:5812,福建:3345,江西:4996,湖南:5627,贵州:1504,云南:2725,广东:6339,广西:1009,海南:0,上海:1988,西藏:0},d4={江苏:10041,黑龙江:4093,内蒙古:1157,吉林:4903,北京市:2667,辽宁:8331,河北:23727,天津:681,山西:5352,陕西:38,甘肃:77,宁夏:65,青海:10,新疆:193,四川:309,重庆:77,山东:21666,河南:15717,安徽:15671,湖北:3714,浙江:3141,福建:955,江西:4978,湖南:778,贵州:33,云南:149,广东:1124,广西:125,海南:7,上海:2155,西藏:0},d5={江苏:159,黑龙江:5,内蒙古:54,吉林:10,北京市:0,辽宁:0,河北:1679,天津:1,山西:2698,陕西:1744,甘肃:362,宁夏:429,青海:122,新疆:731,四川:3925,重庆:1480,山东:79,河南:1017,安徽:208,湖北:1209,浙江:1418,福建:1237,江西:1004,湖南:1511,贵州:345,云南:1429,广东:2242,广西:2271,海南:59,上海:8,西藏:0},d6={江苏:11788,黑龙江:1944,内蒙古:2954,吉林:3482,北京市:1808,辽宁:5488,河北:27035,天津:2270,山西:13623,陕西:4221,甘肃:754,宁夏:1783,青海:91,新疆:1907,四川:4905,重庆:1420,山东:39781,河南:16154,安徽:7914,湖北:6802,浙江:5812,福建:3345,江西:4996,湖南:5627,贵州:1504,云南:2725,广东:6339,广西:1009,海南:0,上海:1988,西藏:0},colors=["#1DE9B6","#EEDD78","#32C5E9","#FFDB5C","#37A2DA","#04B9FF"],colorIndex=0;$(function(){var y=["2020-01","2020-02","2020-03","2020-04","2020-05","2020-06"],e=[[],[],[],[],[],[]],h=[],v=[];for(var a in geoCoordMap)e[0].push({year:"2020-01",name:a,value:d1[a]/100,value1:d1[a]/100}),e[1].push({year:"2020-02",name:a,value:d2[a]/100,value1:d2[a]/100}),e[2].push({year:"2020-03",name:a,value:d3[a]/100,value1:d3[a]/100}),e[3].push({year:"2020-04",name:a,value:d4[a]/100,value1:d4[a]/100}),e[4].push({year:"2020-05",name:a,value:d5[a]/100,value1:d5[a]/100}),e[5].push({year:"2020-06",name:a,value:d6[a]/100,value1:d6[a]/100});for(var i=0;i<e.length;i++){e[i].sort(function(p,m){return p.value-m.value}),v.push([]),h.push([]);for(var c=0;c<e[i].length;c++)v[i].push(e[i][c].value1),h[i].push(e[i][c].name)}$.getJSON(uploadedDataURL,function(g){echarts.registerMap("china",g);var p=function(l){for(var n=[],s=0;s<l.length;s++){var u=geoCoordMap[l[s].name];u&&n.push({name:l[s].name,value:u.concat(l[s].value)})}return n},m=function(l,n){for(var s=[],u=0;u<l.length;u++){var d=l[u],f=geoCoordMap[d.name],b=n;b&&f&&(t==1?s.push([{coord:f},{coord:b,value:d.value}]):s.push([{coord:b,value:d.value},{coord:f}]))}return t==0?t=1:t=0,s};optionXyMap01={timeline:{data:y,axisType:"category",autoPlay:!0,playInterval:5e3,left:"10%",right:"10%",bottom:"3%",width:"80%",label:{normal:{textStyle:{color:"#ddd"}},emphasis:{textStyle:{color:"#fff"}}},symbolSize:10,lineStyle:{color:"#555"},checkpointStyle:{borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}}},baseOption:{animation:!0,animationDuration:1e3,animationEasing:"cubicInOut",animationDurationUpdate:1e3,animationEasingUpdate:"cubicInOut",grid:{right:"2%",top:"10%",bottom:"10%",width:"18%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(150,150,150,0.1)"}}},visualMap:{min:0,max:250,left:"left",top:"bottom",text:["高","低"],textStyle:{color:"black"},calculable:!0,colorLightness:[.8,100],color:["#FF6F00","#FFA800","#FFFFFF"],dimension:0},geo:{show:!0,map:"china",roam:!0,zoom:1,center:[113.83531246,34.0267395887],label:{emphasis:{show:!0}},itemStyle:{normal:{borderColor:"#00FFE5",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(0, 255, 255, 0.1)"},{offset:1,color:"rgba(0, 255, 255, 0.1)"}],globalCoord:!1},shadowColor:"#00FFFF",shadowOffsetX:2,shadowOffsetY:4,shadowBlur:12},emphasis:{areaColor:"#389BB7",borderWidth:0}}}},options:[]};for(var o=0;o<y.length;o++){var S="各省"+(r==1?"入":"出")+"交通量";optionXyMap01.options.push({title:[{text:"重庆对外交通可视化平台",left:"25%",top:"1%",textStyle:{color:"black",fontSize:25}},{id:"statistic",text:S,left:"75%",top:"3%",textStyle:{color:"#fff",fontSize:16}}],xAxis:{type:"value",scale:!0,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:1,textStyle:{color:"#aaa"}}},yAxis:{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#ddd"}},data:h[o]},series:[{name:"light",type:"scatter",coordinateSystem:"geo",data:p(e[o]),symbolSize:function(l){return 6},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:colors[o]}}},{type:"map",map:"china",geoIndex:0,aspectScale:1,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#FFFFFF"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:e},{type:"effectScatter",coordinateSystem:"geo",data:p(e[o].sort(function(l,n){return n.value-l.value}).slice(0,20)),symbolSize:function(l){return 5},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:colors[o],shadowBlur:10,shadowColor:colors[o]}},zlevel:1},{type:"lines",zlevel:2,effect:{show:!0,period:5,trailLength:.2,symbol:"arrow",symbolSize:6},lineStyle:{normal:{color:colors[o],width:1,opacity:.2,curveness:.3}},data:m(e[o],geoGpsMap)},{zlevel:1.5,type:"bar",barMaxWidth:8,symbol:"none",itemStyle:{normal:{color:colors[o],barBorderRadius:[0,30,30,0]}},data:v[o]}]}),r==0?r=1:r=0}myChart.setOption(optionXyMap01)})});
