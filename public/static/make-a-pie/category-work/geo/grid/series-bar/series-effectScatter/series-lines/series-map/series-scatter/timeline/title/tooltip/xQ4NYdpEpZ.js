var uploadedDataURL="/asset/get/s/data-1631946943149-3XielQM5i.json",geoGpsMap={1:[118.887168,32.123757],2:[118.887168,32.123757],3:[118.887168,32.123757],4:[118.887168,32.123757],5:[118.887168,32.123757],6:[118.887168,32.123757]},geoCoordMap={栖霞区妇保所:[118.894611,32.12831],马群社区卫生服务中心:[118.907069,32.045823],仙林社区卫生服务中心:[118.914975,32.102825],燕子矶社区卫生服务中心:[118.826144,32.137535],迈皋桥社区卫生服务中心:[118.86736,32.120344],西岗社区卫生服务中心:[119.016773,32.148921],栖霞区医院:[118.887168,32.123757],八卦洲社区卫生服务中心:[118.832511,32.180964],靖安社区卫生服务中心:[119.13715,32.226298],栖霞社区卫生服务中心:[118.957792,32.149649],龙潭社区卫生服务中心:[119.079298,32.188193],尧化社区卫生服务中心:[118.901572,32.133156],其他机构:[118.886398,32.123233]},d1={栖霞区妇保所:589,马群社区卫生服务中心:353,仙林社区卫生服务中心:400,燕子矶社区卫生服务中心:342,迈皋桥社区卫生服务中心:407,西岗社区卫生服务中心:411,栖霞区医院:234,八卦洲社区卫生服务中心:339,靖安社区卫生服务中心:390,栖霞社区卫生服务中心:334,龙潭社区卫生服务中心:401,尧化社区卫生服务中心:401,其他机构:201},d2={栖霞区妇保所:170,马群社区卫生服务中心:385,仙林社区卫生服务中心:316,燕子矶社区卫生服务中心:324,迈皋桥社区卫生服务中心:571,西岗社区卫生服务中心:284,栖霞区医院:107,八卦洲社区卫生服务中心:581,靖安社区卫生服务中心:486,栖霞社区卫生服务中心:586,龙潭社区卫生服务中心:373,尧化社区卫生服务中心:505,其他机构:309},d3={栖霞区妇保所:417,马群社区卫生服务中心:176,仙林社区卫生服务中心:528,燕子矶社区卫生服务中心:510,迈皋桥社区卫生服务中心:368,西岗社区卫生服务中心:208,栖霞区医院:337,八卦洲社区卫生服务中心:462,靖安社区卫生服务中心:200,栖霞社区卫生服务中心:511,龙潭社区卫生服务中心:358,尧化社区卫生服务中心:157,其他机构:112},d4={栖霞区妇保所:457,马群社区卫生服务中心:275,仙林社区卫生服务中心:403,燕子矶社区卫生服务中心:590,迈皋桥社区卫生服务中心:143,西岗社区卫生服务中心:345,栖霞区医院:193,八卦洲社区卫生服务中心:332,靖安社区卫生服务中心:480,栖霞社区卫生服务中心:303,龙潭社区卫生服务中心:476,尧化社区卫生服务中心:373,其他机构:334},d5={栖霞区妇保所:514,马群社区卫生服务中心:528,仙林社区卫生服务中心:500,燕子矶社区卫生服务中心:313,迈皋桥社区卫生服务中心:466,西岗社区卫生服务中心:289,栖霞区医院:449,八卦洲社区卫生服务中心:277,靖安社区卫生服务中心:440,栖霞社区卫生服务中心:269,龙潭社区卫生服务中心:426,尧化社区卫生服务中心:223,其他机构:234},d6={栖霞区妇保所:463,马群社区卫生服务中心:518,仙林社区卫生服务中心:102,燕子矶社区卫生服务中心:355,迈皋桥社区卫生服务中心:371,西岗社区卫生服务中心:189,栖霞区医院:232,八卦洲社区卫生服务中心:494,靖安社区卫生服务中心:174,栖霞社区卫生服务中心:286,龙潭社区卫生服务中心:307,尧化社区卫生服务中心:579,其他机构:372},colors=[["#1DE9B6","#1DE9B6","#FFDB5C","#FFDB5C","#04B9FF","#04B9FF"],["#1DE9B6","#F46E36","#04B9FF","#5DBD32","#FFC809","#FB95D5","#BDA29A","#6E7074","#546570","#C4CCD3"],["#37A2DA","#67E0E3","#32C5E9","#9FE6B8","#FFDB5C","#FF9F7F","#FB7293","#E062AE","#E690D1","#E7BCF3","#9D96F5","#8378EA","#8378EA"],["#DD6B66","#759AA0","#E69D87","#8DC1A9","#EA7E53","#EEDD78","#73A373","#73B9BC","#7289AB","#91CA8C","#F49F42"]],colorIndex=0;$(function(){var s=["检查","检验","心电","转诊","会诊","消毒"],e=[[],[],[],[],[],[]],h=[],c=[];for(var a in geoCoordMap)e[0].push({year:"检查",name:a,value:d1[a]/100,value1:d1[a]/100}),e[1].push({year:"检验",name:a,value:d1[a]/100,value1:d2[a]/100}),e[2].push({year:"心电",name:a,value:d3[a]/100,value1:d3[a]/100}),e[3].push({year:"转诊",name:a,value:d3[a]/100,value1:d4[a]/100}),e[4].push({year:"会诊",name:a,value:d5[a]/100,value1:d5[a]/100}),e[5].push({year:"消毒",name:a,value:d5[a]/100,value1:d6[a]/100});for(var t=0;t<e.length;t++){e[t].sort(function(p,d){return p.value-d.value}),c.push([]),h.push([]);for(var u=0;u<e[t].length;u++)c[t].push(e[t][u].value1),h[t].push(e[t][u].name)}$.getJSON(uploadedDataURL,function(m){console.log(m),echarts.registerMap("320113",m);var p=function(r){for(var n=[],l=0;l<r.length;l++){var i=geoCoordMap[r[l].name];i&&n.push({name:r[l].name,value:i.concat(r[l].value)})}return n},d=function(r,n){for(var l=[],i=0;i<r.length;i++){var v=r[i],f=geoCoordMap[v.name],b=n;b&&f&&l.push([{coord:b,value:v.value},{coord:f}])}return l};optionXyMap01={timeline:{data:s,axisType:"category",autoPlay:!0,playInterval:3e3,left:"10%",right:"10%",bottom:"3%",width:"80%",label:{normal:{textStyle:{color:"#ddd"}},emphasis:{textStyle:{color:"#fff"}}},symbolSize:10,lineStyle:{color:"#555"},checkpointStyle:{borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}}},baseOption:{animation:!0,animationDuration:1e3,animationEasing:"cubicInOut",animationDurationUpdate:1e3,animationEasingUpdate:"cubicInOut",grid:{right:"1%",top:"15%",bottom:"10%",width:"20%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(150,150,150,0.1)"}}},geo:{show:!0,map:"320113",roam:!0,zoom:1,label:{emphasis:{show:!1}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}}}},options:[]};for(var o=0;o<s.length;o++)optionXyMap01.options.push({backgroundColor:"#013954",title:[{id:"statistic",text:s[o]+"数据统计情况",left:"80%",top:"8%",textStyle:{color:"#fff",fontSize:16}}],xAxis:{type:"value",scale:!0,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#aaa"}}},yAxis:{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#ddd"}},data:h[o]},series:[{name:"light",type:"scatter",coordinateSystem:"geo",data:p(e[o]),symbolSize:function(r){return r[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:colors[colorIndex][o]}}},{type:"map",map:"320113",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#FFFFFF"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:e},{type:"effectScatter",coordinateSystem:"geo",data:p(e[o].sort(function(r,n){return n.value-r.value}).slice(0,20)),symbolSize:function(r){return r[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:colors[colorIndex][o],shadowBlur:10,shadowColor:colors[colorIndex][o]}},zlevel:1},{type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:colors[colorIndex][o],width:.1,opacity:.5,curveness:.3}},data:d(e[o],geoGpsMap[o+1])},{zlevel:1.5,type:"bar",symbol:"none",itemStyle:{normal:{color:colors[colorIndex][o]}},data:c[o]}]});myChart.setOption(optionXyMap01)})});function randomNum(s,e){switch(arguments.length){case 1:return parseInt(Math.random()*s+1,10);case 2:return parseInt(Math.random()*(e-s+1)+s,10);default:return 0}}
