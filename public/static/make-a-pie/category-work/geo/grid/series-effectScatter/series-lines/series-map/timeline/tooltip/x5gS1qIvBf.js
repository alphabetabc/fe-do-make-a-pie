var uploadedDataURL="/asset/get/s/data-1528971808162-BkOXf61WX.json",geoGpsMap={1:[127.9688,45.368],2:[116.4551,40.2539],3:[109.1162,34.2004],4:[113.12244,23.009505],5:[87.9236,43.5883],6:[91.11,29.97]},geoCoordMap={台湾:[121.5135,25.0308],黑龙江:[127.9688,45.368],内蒙古:[110.3467,41.4899],吉林:[125.8154,44.2584],北京市:[116.4551,40.2539],辽宁:[123.1238,42.1216],河北:[114.4995,38.1006],天津:[117.4219,39.4189],山西:[112.3352,37.9413],陕西:[109.1162,34.2004],甘肃:[103.5901,36.3043],宁夏:[106.3586,38.1775],青海:[101.4038,36.8207],新疆:[87.9236,43.5883],西藏:[91.11,29.97],四川:[103.9526,30.7617],重庆:[108.384366,30.439702],山东:[117.1582,36.8701],河南:[113.4668,34.6234],江苏:[118.8062,31.9208],安徽:[117.29,32.0581],湖北:[114.3896,30.6628],浙江:[119.5313,29.8773],福建:[119.4543,25.9222],江西:[116.0046,28.6633],湖南:[113.0823,28.2568],贵州:[106.6992,26.7682],云南:[102.9199,25.4663],广东:[113.12244,23.009505],广西:[108.479,23.1152],海南:[110.3893,19.8516],上海:[121.4648,31.2891]},colors=[["#1DE9B6","#F46E36","#04B9FF","#5DBD32","#FFC809","#FB95D5","#BDA29A","#6E7074","#546570","#C4CCD3"],["#37A2DA","#67E0E3","#32C5E9","#9FE6B8","#FFDB5C","#FF9F7F","#FB7293","#E062AE","#E690D1","#E7BCF3","#9D96F5","#8378EA","#8378EA"],["#DD6B66","#759AA0","#E69D87","#8DC1A9","#EA7E53","#EEDD78","#73A373","#73B9BC","#7289AB","#91CA8C","#F49F42"]],colorIndex=0;$(function(){var n=["2014","2015","2016","2017","2018"],a=[[],[],[],[],[],[]],m=[],p=[];for(var t in geoCoordMap)m.push(t),a[0].push({year:"2014",name:t,value:randomNum(100,300)}),a[1].push({year:"2015",name:t,value:randomNum(100,300)}),a[2].push({year:"2016",name:t,value:randomNum(100,300)}),a[3].push({year:"2017",name:t,value:randomNum(100,300)}),a[4].push({year:"2018",name:t,value:randomNum(100,300)});for(var i=0;i<a.length;i++){p.push([]);for(var h=0;h<a[i].length;h++)p[i].push(a[i][h].value)}$.getJSON(uploadedDataURL,function(v){echarts.registerMap("china",v);var d=function(e){for(var s=[],o=0;o<e.length;o++){var l=geoCoordMap[e[o].name];l&&s.push({name:e[o].name,value:l.concat(e[o].value)})}return s},g=function(e,s){for(var o=[],l=0;l<e.length;l++){var u=e[l],c=geoCoordMap[u.name];debugger;var f=s;c&&f&&o.push([{coord:c,value:u.value},{coord:f}])}return o};optionXyMap01={timeline:{show:!1,axisType:"category",autoPlay:!0,playInterval:3e3,left:"10%",right:"10%",bottom:"3%",width:"80%"},baseOption:{animation:!0,animationDuration:1e3,animationEasing:"cubicInOut",animationDurationUpdate:1e3,animationEasingUpdate:"cubicInOut",grid:{right:"1%",top:"15%",bottom:"10%",width:"20%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(150,150,150,0.1)"}}},geo:{show:!0,map:"china",roam:!0,zoom:1,center:[113.83531246,34.0267395887],label:{emphasis:{show:!1}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}}}},options:[]};for(var r=0;r<n.length;r++)optionXyMap01.options.push({backgroundColor:"#051b4a",xAxis:{type:"value",scale:!1,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"category",nameGap:16,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},series:[{type:"map",map:"china",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#FFFFFF"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:a},{type:"effectScatter",coordinateSystem:"geo",data:d(a[r].sort(function(e,s){return s.value-e.value}).slice(0,20)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:colors[colorIndex][r],shadowBlur:10,shadowColor:colors[colorIndex][r]}},zlevel:1},{type:"lines",zlevel:2,effect:{show:!1,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:colors[colorIndex][r],width:0,opacity:0,curveness:.3}},data:g(a[r],geoGpsMap[Math.ceil(Math.random()*6)])}]});myChart.setOption(optionXyMap01)})});function randomNum(n,a){switch(arguments.length){case 1:return parseInt(Math.random()*n+1,10);case 2:return parseInt(Math.random()*(a-n+1)+n,10);default:return 0}}
