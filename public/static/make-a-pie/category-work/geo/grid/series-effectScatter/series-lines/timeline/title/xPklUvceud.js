var uploadedDataURL="/asset/get/s/data-1576821068997-HGlupX6J.json",geoCoordMap={从化区:[113.587386,23.545283],花都区:[113.22033,23.40358],增城区:[113.829579,23.290497],白云区:[113.27307,23.15787],萝岗区:[113.447353,23.182565],天河区:[113.36112,23.12467],越秀区:[113.26683,23.12897],荔湾区:[113.2442,23.12592],海珠区:[113.26197,23.10379],黄浦区:[113.45895,23.10642],番禺区:[113.38397,22.93599],增城区:[113.687386,23.40358],南沙区:[113.53845,22.77144]},mapData=[];for(var key in geoCoordMap)mapData.push({name:key,value:parseInt((Math.random()+1)*150)});function convertData(e){for(var r=[],o=0;o<e.length;o++){var a=geoCoordMap[e[o].name];r.push({name:e[o].name,value:a.concat(e[o].value)})}return r}function convertToLineData(e){for(var r=[],o=0;o<e.length;o++){var a=geoCoordMap[e[o].name],t=[113.36112,23.12467];r.push([{coord:t,value:e[o].value},{coord:a}])}return r}$.getJSON(uploadedDataURL,function(e){echarts.registerMap("echarts",e),optionMap={timeline:{show:!1},baseOption:{geo:{show:!0,map:"echarts",roam:!0,zoom:1,center:[113.36112,23.12467],label:{emphasis:{show:!1}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}]},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"gray",borderWidth:0}}}},options:[{title:{text:"广州市天河区节假日学生出游流向",left:"left",textStyle:{color:"#fff"}},backgroundColor:"#404a59",xAxis:{show:!1},yAxis:{show:!1},series:[{type:"effectScatter",coordinateSystem:"geo",data:convertData(mapData),symbolSize:function(r){return r[2]/20},showEffectOn:"render",rippleEffect:{brushType:"stroke"},label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#a6c84c",shadowBlur:10,shadowColor:"#a6c84c"}}},{type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.05,symbol:"arrow",symbolSize:5},lineStyle:{normal:{color:"#a6c84c",width:1,opacity:1,curveness:.3}},data:convertToLineData(mapData)}]}]},myChart.setOption(optionMap)});
