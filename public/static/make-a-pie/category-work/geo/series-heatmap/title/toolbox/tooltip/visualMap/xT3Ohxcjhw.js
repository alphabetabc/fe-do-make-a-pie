getGeoJson(1e5);function getGeoJson(a){var r=new AMap.Map("map",{resizeEnable:!0,center:[116.30946,39.937629],zoom:3});AMapUI.loadUI(["geo/DistrictExplorer"],o=>{var e=window.districtExplorer=new o({eventSupport:!0,map:r});e.loadAreaNode(a,function(t,l){if(t){console.error(t);return}let n=l.getSubFeatures();getMapData(n)})})}function getMapData(a){let r=a.map(t=>({name:t.properties.name,value:[t.properties.center[0],t.properties.center[1],40]})),o=a.map(t=>({name:t.properties.name,value:parseInt(Math.random()*(150-20+1)+20,10)})),e={};e.features=a,initEcharts(r,e,o)}function initEcharts(a,r,o){console.log(o),echarts.registerMap("Map",r),myChart.setOption({tooltip:{triggerOn:"click",formatter:function(e,t,l){return e.value==.5?e.name+"：有疑似病例":e.seriesName+"<br />"+e.name+"："+e.value}},visualMap:[{show:!0,left:"2%",bottom:"1%",min:0,max:150,text:["150","0"],seriesIndex:0,inRange:{color:["#f6d189","#eeaf80","#e67f5a","#e55036","#c43621"]},textStyle:{color:"#0fccff",fontSize:12}},{min:0,max:1e3,left:60,bottom:"1%",showLabel:!0,text:["高","低"],seriesIndex:1,pieces:[{gt:100,label:"> 100 人",color:"#fa9d38"},{gte:10,lte:100,label:"10 - 100 人",color:"#fea662"},{gte:1,lt:10,label:"1 - 9 人",color:"#ffba70"},{gt:0,lt:1,label:"疑似",color:"#fad189"}],show:!0}],geo:{map:"Map",roam:!1,scaleLimit:{min:1,max:2},zoom:1.23,top:120,label:{normal:{show:!0,fontSize:"14",color:"rgba(0,0,0,0.7)"}},itemStyle:{normal:{show:!0,areaColor:"rgba(0,0,0,0)",borderColor:"#E18B26",borderWidth:"1",shadowColor:"#FEFEFC",shadowBlur:20},emphasis:{areaColor:"#f2d5ad",shadowOffsetX:0,shadowOffsetY:0,borderWidth:0}}},series:[{name:"地图",geoIndex:0,type:"heatmap",data:a,coordinateSystem:"geo",pointSize:20,blurSize:15},{name:"确诊病例",type:"map",geoIndex:0,data:o}]})}
