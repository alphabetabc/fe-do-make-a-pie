var uploadedDataURL="/asset/get/s/data-1605510661041-oDutJVlSC.json",nameMap="山东省";window.dataList=[{name:"济南市",value:318.6},{name:"青岛市",value:385.3},{name:"烟台市",value:241.7},{name:"潍坊市",value:228.3},{name:"菏泽市",value:152.1},{name:"日照市",value:63.4},{name:"威海市",value:111.9},{name:"枣庄市",value:78.7},{name:"临沂市",value:203.9},{name:"滨州市",value:89.2},{name:"东营市",value:76.3},{name:"淄博市",value:137.5},{name:"泰安市",value:109.1},{name:"聊城市",value:96},{name:"济宁市",value:205.5},{name:"德州市",value:122.3}];var geoCoordMap={},convertData=function(a){console.log("data",a);for(var t=[],r=0;r<a.length;r++){var e=geoCoordMap[a[r].name];e&&t.push({name:a[r].name,value:e.concat(a[r].value)})}return console.log("res",t),t};$.get(uploadedDataURL,function(a){debugger;echarts.registerMap(nameMap,a),myChart.showLoading();var t=echarts.getMap(nameMap).geoJson.features;myChart.hideLoading(),t.forEach(function(e){var n=e.properties.name;geoCoordMap[n]=e.properties.center}),console.log(geoCoordMap);var r={title:{text:"山东省法人单位从业人员分布专题图",x:"center",textStyle:{color:"#000",fontSize:16}},visualMap:[{min:0,max:1e3,show:!1,realtime:!1,calculable:!1,seriesIndex:[0],inRange:{color:["#ccc","#ccc","rgb(129,211,248)","#23074d","rgb(128,255,255)","rgb(0,255,255)","rgb(128,128,255)","rgb(236,128,141)","rgb(194,128,255)","rgb(245,154,35)","rgb(112,182,3)","rgb(0,182,128)","rgb(99,0,191)"]}},{min:0,max:1e3,seriesIndex:1,show:!0,splitNumber:4,right:"2%",inRange:{color:["#FF6464","rgb(129,211,248)"].reverse()},formatter:function(e){return""}}],geo:{map:nameMap,show:!1,roam:!0,label:{normal:{show:!1},emphasis:{show:!1}}},series:[{type:"map",map:nameMap,label:{normal:{show:!0,textStyle:{fontSize:12,fontWeight:400,color:"rgb(0,0,0) "}}},data:window.dataList},{type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:[40,40],label:{normal:{show:!0,textStyle:{color:"#000",fontSize:10,fontWeight:600},formatter(e){return e.data.value[2]}}},hoverAnimation:!0,itemStyle:{normal:{color:"green"}},zlevel:6,data:convertData(window.dataList)}]};myChart.setOption(r,!0)});
