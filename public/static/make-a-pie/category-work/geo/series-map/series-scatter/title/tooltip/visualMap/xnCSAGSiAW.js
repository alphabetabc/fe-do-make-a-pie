var mapName="china",huoyueData=[{name:"上海",value:7986},{name:"云南",value:1320},{name:"内蒙古",value:1110},{name:"北京",value:246},{name:"吉林",value:162},{name:"四川",value:2792},{name:"天津",value:1851},{name:"安徽",value:2037},{name:"山东",value:5069},{name:"山西",value:1500},{name:"广东",value:833},{name:"广西",value:131},{name:"新疆",value:2213},{name:"江苏",value:2251},{name:"江西",value:889},{name:"河北",value:1176},{name:"河南",value:3121},{name:"浙江",value:11585},{name:"海南",value:7},{name:"湖北",value:170},{name:"湖南",value:1002},{name:"甘肃",value:268},{name:"福建",value:952},{name:"西藏",value:29},{name:"贵州",value:47},{name:"辽宁",value:1389},{name:"重庆",value:235},{name:"陕西",value:377},{name:"黑龙江",value:239}];function keysort(e){return function(a,n){return Number(n[e]-a[e])}}huoyueData.sort(keysort("value"));var geoCoordMap={},toolTipData=[{name:"北京",value:[{name:"肺悦1",value:95},{name:"肺悦2",value:82}]},{name:"天津",value:[{name:"肺悦1",value:22},{name:"肺悦2",value:20}]},{name:"河北",value:[{name:"肺悦1",value:60},{name:"肺悦2",value:42}]},{name:"山西",value:[{name:"肺悦1",value:40},{name:"肺悦2",value:41}]},{name:"内蒙古",value:[{name:"肺悦1",value:23},{name:"肺悦2",value:24}]},{name:"辽宁",value:[{name:"肺悦1",value:39},{name:"肺悦2",value:28}]},{name:"吉林",value:[{name:"肺悦1",value:41},{name:"肺悦2",value:41}]},{name:"黑龙江",value:[{name:"肺悦1",value:35},{name:"肺悦2",value:31}]},{name:"上海",value:[{name:"肺悦1",value:12},{name:"肺悦2",value:12}]},{name:"江苏",value:[{name:"肺悦1",value:47},{name:"肺悦2",value:45}]},{name:"浙江",value:[{name:"肺悦1",value:57},{name:"肺悦2",value:57}]},{name:"安徽",value:[{name:"肺悦1",value:57},{name:"肺悦2",value:52}]},{name:"福建",value:[{name:"肺悦1",value:59},{name:"肺悦2",value:57}]},{name:"江西",value:[{name:"肺悦1",value:49},{name:"肺悦2",value:42}]},{name:"山东",value:[{name:"肺悦1",value:67},{name:"肺悦2",value:52}]},{name:"河南",value:[{name:"肺悦1",value:69},{name:"肺悦2",value:68}]},{name:"湖北",value:[{name:"肺悦1",value:60},{name:"肺悦2",value:56}]},{name:"湖南",value:[{name:"肺悦1",value:62},{name:"肺悦2",value:52}]},{name:"重庆",value:[{name:"肺悦1",value:47},{name:"肺悦2",value:44}]},{name:"四川",value:[{name:"肺悦1",value:65},{name:"肺悦2",value:60}]},{name:"贵州",value:[{name:"肺悦1",value:32},{name:"肺悦2",value:30}]},{name:"云南",value:[{name:"肺悦1",value:42},{name:"肺悦2",value:41}]},{name:"西藏",value:[{name:"肺悦1",value:5},{name:"肺悦2",value:4}]},{name:"陕西",value:[{name:"肺悦1",value:38},{name:"肺悦2",value:42}]},{name:"甘肃",value:[{name:"肺悦1",value:28},{name:"肺悦2",value:28}]},{name:"青海",value:[{name:"肺悦1",value:5},{name:"肺悦2",value:5}]},{name:"宁夏",value:[{name:"肺悦1",value:10},{name:"肺悦2",value:8}]},{name:"新疆",value:[{name:"肺悦1",value:36},{name:"肺悦2",value:31}]},{name:"广东",value:[{name:"肺悦1",value:63},{name:"肺悦2",value:60}]},{name:"广西",value:[{name:"肺悦1",value:29},{name:"肺悦2",value:30}]},{name:"海南",value:[{name:"肺悦1",value:8},{name:"肺悦2",value:6}]},{name:"香港",value:[{name:"肺悦1",value:0},{name:"肺悦2",value:0}]},{name:"澳门",value:[{name:"肺悦1",value:0},{name:"肺悦2",value:0}]},{name:"台湾",value:[{name:"肺悦1",value:0},{name:"肺悦2",value:0}]}],mapFeatures=echarts.getMap(mapName).geoJson.features;mapFeatures.forEach(function(e){var a=e.properties.name;geoCoordMap[a]=e.properties.cp});var max=480,min=9,maxSize4Pin=100,minSize4Pin=20,convertData=function(e){for(var a=[],n=0;n<e.length;n++){var l=geoCoordMap[e[n].name];l&&a.push({name:e[n].name,value:l.concat(e[n].value)})}return a};option={backgroundColor:"#fff",title:{text:"各省肺悦检测人数统计",x:"center",textStyle:{color:"#000",fontSize:36,fontWeight:"normal"},subtextStyle:{fontSize:14}},tooltip:{trigger:"item",formatter:function(e){if(typeof e.value[2]>"u"||typeof e.value[2]=="object"){for(var a="",n=0;n<toolTipData.length;n++)if(e.name==toolTipData[n].name){a+=toolTipData[n].name+"（设备覆盖情况）<br>";for(var l=0;l<toolTipData[n].value.length;l++)a+=toolTipData[n].value[l].name+"："+toolTipData[n].value[l].value+"<br>"}return a}else{var a="";return a+=e.name+"：<br>",a+="活跃数："+e.data.value[2],a}}},visualMap:{show:!0,min:0,max:huoyueData[0].value,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],textStyle:{color:"#C8D3FF"},inRange:{color:["#f5eca9","#be4750"]}},geo:{show:!0,map:mapName,label:{normal:{show:!1},emphasis:{show:!1}},layoutCenter:["50%","50%"],layoutSize:"120%",roam:!1,itemStyle:{normal:{},emphasis:{areaColor:"rgba(55, 100, 255, 0.5)"}}},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:convertData(toolTipData),symbolSize:function(e){return Number(e[2].value)+Number(e[3].value)>0?20:0},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:mapName,geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:huoyueData},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var a=(maxSize4Pin-minSize4Pin)/(max-min),n=minSize4Pin-a*min;return n=maxSize4Pin-a*max,70},label:{normal:{show:!0,formatter:function(e){return e.data.value[2]},textStyle:{color:"#fff",fontSize:15}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:convertData(huoyueData)}]},myChart.setOption(option),myChart.on("click",function(e){alert(e.name)});
