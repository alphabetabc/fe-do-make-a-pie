var mapData=echarts.getMap("china").geoJson,data=[],cpdata=[];mapData.features.forEach(e=>{var a=Math.floor(Math.random()*100);data.push({name:e.properties.name,value:a}),cpdata.push({name:e.properties.name,value:[e.properties.cp[0],e.properties.cp[1],a]})}),console.log(data),option={backgroundColor:"#222",title:{text:"地图"},geo:{map:"china",itemStyle:{normal:{areaColor:"#0050af",borderWidth:1,borderColor:"#82effc",shadowColor:"#82effc",shadowBlur:4}},emphasis:{itemStyle:{},label:{color:"#ffffff"}}},visualMap:{show:!0,type:"piecewise",min:0,max:100,splitNumber:5,inRange:{color:["#313695","#4575b4","#abd9e9","#fdae61","#a50026"]}},series:[{type:"map",data,itemStyle:{areaColor:"#A5DCF4"},label:{show:!1,color:"#fff",formatter:function(e){if(e.data&&e.data.name&&e.data.value)return e.data.name+":"+e.data.value}}},{name:"散点",type:"effectScatter",coordinateSystem:"geo",data:cpdata,symbolSize:10,symbol:"circle",labelLine:{show:!0},label:{show:!1},emphasis:{itemStyle:{opacity:1},symbolSize:30,label:{show:!0,offset:[0,-20],formatter:function(e){return[e.name,e.data.value[2]].join(":")}}},showEffectOn:"emphasis",itemStyle:{color:"#ff0000",opacity:.3}}]};let _t=-1;setInterval(()=>{myChart.dispatchAction({type:"downplay",seriesIndex:1,dataIndex:(_t-3)%data.length}),_t++,myChart.dispatchAction({type:"highlight",seriesIndex:1,dataIndex:_t%data.length})},2e3);
