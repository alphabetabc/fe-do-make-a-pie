var zsmap="/asset/get/s/data-1628238859025-Dfx8_XEhz.json",ptmap="/asset/get/s/data-1628239424841-XcII47BMz.json",dsmap="/asset/get/s/data-1628239333323-JEugF7A7B.json",dhmap="/asset/get/s/data-1628239422412-isRkowV1r.json",ssmap="/asset/get/s/data-1628239193577-2Cl3a5ezO.json",mapname=zsmap,mapJson=[{name:"嵊泗县",json:ssmap},{name:"岱山县",json:dsmap},{name:"定海区",json:dhmap},{name:"普陀区",json:ptmap}];myChart.showLoading();let index=-1;var timer=setInterval(function(){myChart.dispatchAction({type:"hideTip",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:index+1}),myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:index+1}),index++,index>13&&(index=-1)},2e3);myChart.on("mousemove",function(e){clearInterval(timer),myChart.dispatchAction({type:"downplay",seriesIndex:0}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e.dataIndex}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:e.dataIndex})}),myChart.on("mouseout",function(e){clearInterval(timer),myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:e.dataIndex}),timer=setInterval(function(){myChart.dispatchAction({type:"hideTip",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:index+1}),myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:index+1}),index++,index>13&&(index=-1)},2e3)}),myChart.on("click",function(e){console.log(e);var a=mapJson.filter(t=>t.name==e.name);console.log(a),mapname=a[0].json,console.log(mapname,"选择地图"),mapDate=[],$('<div class="back">返回舟山市</div>').appendTo($("#chart-panel")),$(".back").css({position:"absolute",left:"17px",top:"25px",color:"rgb(222,222,222)","font-size":"15px",cursor:"pointer","z-index":"100"}),$(".back").click(function(){mapname=zsmap,mapDate=[{name:"嵊泗县",value:[]},{name:"岱山县",value:[]},{name:"定海区",value:[]},{name:"普陀区",value:[]}],$(".back").css({position:"absolute",left:"17px",top:"-25px",color:"rgb(222,222,222)","font-size":"15px",cursor:"pointer","z-index":"100"}),mapInit()}),mapInit()}),setTimeout(function(){mapInit()},1e3);var mapInit=()=>{console.log("我来了",mapname),$.getJSON(mapname,function(e){echarts.registerMap("hanzhou",e),myChart.hideLoading(),option={backgroundColor:"#020933",title:{top:20,text:"舟山市",subtext:"",x:"center",textStyle:{color:"#ccc"}},geo:{map:"hanzhou",aspectScale:.75,zoom:1.1,roam:!1,itemStyle:{normal:{areaColor:"#013C62",shadowColor:"#182f68",shadowOffsetX:0,shadowOffsetY:25},emphasis:{areaColor:"#2AB8FF",borderWidth:0,color:"green",label:{show:!1}}}},series:[{type:"map",roam:!0,label:{normal:{show:!0,textStyle:{color:"#fff"}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"#2ab8ff",borderWidth:1.5,areaColor:"#12235c"},emphasis:{areaColor:"#2AB8FF",borderWidth:0,color:"green"}},zoom:1.1,roam:!1,map:"hanzhou"}]},myChart.setOption(option)})};
