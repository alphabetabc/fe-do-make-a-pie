var shuozhou="/asset/get/s/data-1534920026529-HyQwHK98X.json",jincheng="/asset/get/s/data-1534919971295-B1omrK5Lm.json",changzhi="/asset/get/s/data-1534919918805-B1PgSY5UQ.json",yangquan="/asset/get/s/data-1534919870267-SyLpNY9I7.json",datong="/asset/get/s/data-1534919798908-ryyKVK98Q.json",taiyuan="/asset/get/s/data-1534919384147-SJey7F5LX.json",jiangxi="/asset/get/s/data-1534919106537-rkoTZt5LQ.json",yingtan="/asset/get/s/data-1518338860057-By447tpLf.json",yichun="/asset/get/s/data-1518338852969-Hy677KTIf.json",xinyu="/asset/get/s/data-1518338838010-SyAzQYTIf.json",shangrao="/asset/get/s/data-1518338829670-H1UfQYa8G.json",pingxiang="/asset/get/s/data-1518338823093-HkyMQtpUf.json",nanchang="/asset/get/s/data-1518338805373-S1Temta8G.json",jiujiang="/asset/get/s/data-1518338799987-S1deQFTLz.json",jingdezhen="/asset/get/s/data-1518338783915-HJOJXtaLf.json",jian="/asset/get/s/data-1518338772507-BJnAMKTIz.json",ganzhou="/asset/get/s/data-1518338763250-S17RfKpLM.json",fuzhou="/asset/get/s/data-1518338684239-S1EFGtp8f.json";echarts.extendsMap=function(v,n){var o=this.init(document.getElementById(v)),u={},p={太原市:taiyuan,大同市:jingdezhen,阳泉市:pingxiang,长治市:jiujiang,晋城市:xinyu,朔州市:yingtan,晋中市:ganzhou,运城市:jian,忻州市:yichun,临汾市:fuzhou,吕梁市:shangrao},x={南昌:[115.89,28.48],景德镇:[117.28,29.09],萍乡:[113.93,27.41],九江:[115.97,29.51],新余:[114.81,27.72],鹰潭:[117.12,28.1],赣州:[115.04,25.67],吉安:[115.05,26.88],宜春:[114.41,28.03],抚州:[116.45,27.79],上饶:[117.92,28.22]},b={1:"rgba(241, 109, 115, .8)",2:"rgba(255, 235, 59, .7)",3:"rgba(147, 235, 248, 1)"},j={mapName:"china",goDown:!1,bgColor:"#404a59",activeArea:[],data:[],callback:function(e,t,a){}};n&&(n=this.util.extend(j,n));var f=[n.mapName],h=0,s={leftPlus:115,leftCur:150,left:198,top:50},m=[[0,0],[8,11],[0,22]],c={font:'18px "Microsoft YaHei", sans-serif',textColor:"#eee",lineColor:"rgba(147, 235, 248, .8)"},i={resetOption:function(e,t,a){var r=this.createBreadcrumb(a),g=f.indexOf(a),y=t.graphic.length;if(g<0){if(t.graphic.push(r),t.graphic[0].children[0].shape.x2=145,t.graphic[0].children[1].shape.x2=145,t.graphic.length>2)for(var d=0;d<n.data.length;d++)if(a===n.data[d].name+"市"){t.series[0].data=i.initSeriesData([n.data[d]]);break}else t.series[0].data=[];f.push(a),h++}else t.graphic.splice(g+2,y),t.graphic.length<=2&&(t.graphic[0].children[0].shape.x2=60,t.graphic[0].children[1].shape.x2=60,t.series[0].data=i.initSeriesData(n.data)),f.splice(g+1,y),h=g,s.leftCur-=s.leftPlus*(y-g-1);t.geo.map=a,t.geo.zoom=.4,e.clear(),e.setOption(t),this.zoomAnimation(),n.callback(a,t,e)},createBreadcrumb:function(e){var t={南昌市:"nanchang",景德镇市:"jingdezhen",萍乡市:"pingxiang",九江市:"jiujiang",新余市:"xinyu",鹰潭市:"yingtan",赣州市:"ganzhou",吉安市:"jian",宜春市:"yichun",抚州市:"fuzhou",上饶市:"shangrao"},a={type:"group",id:e,left:s.leftCur+s.leftPlus,top:s.top+3,children:[{type:"polyline",left:-90,top:-5,shape:{points:m},style:{stroke:"#fff",key:e},onclick:function(){var r=this.style.key;i.resetOption(o,l,r)}},{type:"text",left:-68,top:"middle",style:{text:e,textAlign:"center",fill:c.textColor,font:c.font},onclick:function(){var r=this.style.text;i.resetOption(o,l,r)}},{type:"text",left:-68,top:10,style:{name:e,text:t[e]?t[e].toUpperCase():"",textAlign:"center",fill:c.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){var r=this.style.name;i.resetOption(o,l,r)}}]};return s.leftCur+=s.leftPlus,a},initSeriesData:function(e){for(var t=[],a=0;a<e.length;a++){var r=x[e[a].name];r&&t.push({name:e[a].name,value:r.concat(e[a].value,e[a].level)})}return t},zoomAnimation:function(){var e=null,t=function(a){e||(e=a),e=e+a,o.setOption({geo:{zoom:e}}),e<1&&window.requestAnimationFrame(function(){t(.2)})};window.requestAnimationFrame(function(){t(.2)})}},l={backgroundColor:n.bgColor,graphic:[{type:"group",left:s.left,top:s.top-4,children:[{type:"line",left:0,top:-20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:c.lineColor}},{type:"line",left:0,top:20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:c.lineColor}}]},{id:f[h],type:"group",left:s.left+2,top:s.top,children:[{type:"polyline",left:90,top:-12,shape:{points:m},style:{stroke:"transparent",key:f[0]},onclick:function(){var e=this.style.key;i.resetOption(o,l,e)}},{type:"text",left:0,top:"middle",style:{text:f[0]==="江西"?"江西省":f[0],textAlign:"center",fill:c.textColor,font:c.font},onclick:function(){i.resetOption(o,l,"江西")}},{type:"text",left:0,top:10,style:{text:"JIANGXI",textAlign:"center",fill:c.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){i.resetOption(o,l,"江西")}}]}],geo:{map:n.mapName,zoom:1,label:{normal:{show:!0,textStyle:{color:"#fff"}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}},regions:n.activeArea.map(function(e){return typeof e!="string"?{name:e.name,itemStyle:{normal:{areaColor:e.areaColor||"#389BB7"}},label:{normal:{show:e.showLabel,textStyle:{color:"#fff"}}}}:{name:e,itemStyle:{normal:{borderColor:"#91e6ff",areaColor:"#389BB7"}}}})},series:[{type:"effectScatter",coordinateSystem:"geo",showEffectOn:"render",rippleEffect:{period:15,scale:6,brushType:"fill"},hoverAnimation:!0,itemStyle:{normal:{color:function(e){return b[e.value[3]]},shadowBlur:10,shadowColor:"#333"}},data:i.initSeriesData(n.data)}]};return o.setOption(l),o.on("click",function(e){var t=this;if(n.goDown&&e.name!==f[h]&&p[e.name]){var a=p[e.name];$.get(a,function(r){u=r,echarts.registerMap(e.name,r),i.resetOption(t,l,e.name)})}}),o.setMap=function(e){var t=this;e.indexOf("市")<0&&(e=e+"市");var a=p[e];if(a){var r="./map/"+a+".json";$.get(r,function(g){u=g,echarts.registerMap(e,g),i.resetOption(t,l,e)})}},o},$.getJSON(jiangxi,function(v){echarts.registerMap("江西",v);var n=echarts.extendsMap("chart-panel",{bgColor:"#154e90",mapName:"江西",goDown:!0,callback:function(o,u,p){console.log(o,u,p)},data:[{name:"南昌",value:10,level:1},{name:"景德镇",value:12,level:2},{name:"萍乡",value:11,level:3},{name:"赣州",value:16,level:2},{name:"吉安",value:12,level:1}]})});
