var zhejiang="/asset/get/s/data-1588901828820-ymVHvaRtU.json",hangzhou="/asset/get/s/data-1589003571047-8Xg37jcwv.json",zhoushan="/asset/get/s/data-1589003566916-ohp8QsNF9.json",jiaxin="/asset/get/s/data-1589003552334-5OQ_uGIPs.json",ningbo="/asset/get/s/data-1589003540474-BkDTACUUL.json",taizhou="/asset/get/s/data-1589003536896-6DDlyRZab.json",wenzhou="/asset/get/s/data-1589003533265-AkeJlc9Ps.json",lishui="/asset/get/s/data-1589003526529-SQeTLEaOJ.json",huzhou="/asset/get/s/data-1589003522912-OrPXCa6ye.json",quzhou="/asset/get/s/data-1589003519348-WpDW6vYTD.json",jinhua="/asset/get/s/data-1589003512597-pX-ocI1Wr.json",shaoxing="/asset/get/s/data-1589003496398-Qbj2FVpud.json",yuhang="/asset/get/s/data-1589002810673-aR1YzRH61.json",xihu="/asset/get/s/data-1589002855913-aEdHbUtV1.json",shangcheng="/asset/get/s/data-1589002846878-tS3MyeChU.json",xiacheng="/asset/get/s/data-1589002861672-GBErE4ZQK.json",binjiang="/asset/get/s/data-1589002818402-wXtY_arX7.json",tonglu="/asset/get/s/data-1589002851190-IGhlcvixI.json",fuyang="/asset/get/s/data-1589002828168-4oGOJElFc.json",jiande="/asset/get/s/data-1589002832817-Lx7Zqmlzg.json",xiaoshan="/asset/get/s/data-1616576317566-dNbbL-2Um.json",gongshu="/asset/get/s/data-1589002980875-rbR_QPOcH.json",linan="/asset/get/s/data-1589002842369-20yopBJgF.json",jianggan="/asset/get/s/data-1589002837571-4zlnwvYh0.json",chunan="/asset/get/s/data-1589002822195-Zm_Tq0ACJ.json",zhuchengqu="/asset/get/s/data-1588930596592-U3Cbn2KuL.json",mapArr={浙江省:[{name:"杭州",value:[120.210896,30.246036,1]},{name:"湖州",value:[120.086881,30.894178,0]},{name:"嘉兴",value:[120.755623,30.746814,0]},{name:"绍兴",value:[120.583305,30.051136,0]},{name:"宁波",value:[121.62454,29.860258,0]},{name:"舟山",value:[122.207395,29.985578,0]},{name:"衢州",value:[118.859307,28.970229,0]},{name:"金华",value:[119.647265,29.079195,0]},{name:"台州",value:[121.42079,28.655716,0]},{name:"丽水",value:[119.923249,28.467694,0]},{name:"温州",value:[120.699279,27.993849,0]}],杭州市:[{name:"余杭区",value:[120.3060892965,30.4244838332,1]},{name:"西湖区",value:[120.1371565592,30.2651970958,0]},{name:"拱墅区",value:[120.1484873743,30.324906244,0]},{name:"上城区",value:[120.2040848844,30.2328603996,0]},{name:"下城区",value:[120.1876141702,30.28673585,0]},{name:"江干区",value:[120.2114310483,30.2628716672,0]},{name:"滨江区",value:[120.2184566077,30.2143928485,0]},{name:"萧山区",value:[120.2708053894,30.1895246409,0]},{name:"临安区",value:[119.7313212674,30.239743139,0]},{name:"富阳区",value:[119.9671985789,30.0539026103,0]},{name:"桐庐区",value:[119.6981058619,29.7988325149,0]},{name:"建德区",value:[119.287548962,29.4813766767,0]},{name:"淳安区",value:[119.0484695874,29.6152091789,0]}],上城区:[{name:"33011003",value:[120.18915669224,30.237287162543,0]},{name:"33015057",value:[120.19922034051,30.235133348706,0]}],下城区:[{name:"33010127",value:[120.1671967765,30.266743852496,0]},{name:"33019028",value:[120.19384385251,30.342224566937,0]}],江干区:[{name:"33010164",value:[120.197120989581,30.2722505771474,0]},{name:"33015265",value:[120.26602565373,30.3175431482886,0]}],拱墅区:[{name:"33010487",value:[120.151508870388,30.2850301964867,0]},{name:"33014148",value:[120.173834955998,30.3708542283502,0]},{name:"33010164",value:[120.197120989581,30.2722505771474,0]},{name:"33015265",value:[120.26602565373,30.3175431482886,0]}],西湖区:[{name:"33010216",value:[120.14096678401,30.273505030871,0]},{name:"33014161",value:[120.10112323964,30.29794196665,0]},{name:"33011003",value:[120.18915669224,30.237287162543,0]},{name:"33015057",value:[120.19922034051,30.235133348706,0]}],滨江区:[{name:"33011065",value:[120.2151700964,30.199560551644,0]},{name:"33019249",value:[120.13585717584,30.16852739334,0]}],萧山区:[{name:"33017388",value:[120.24728418493,30.180294169914,0]},{name:"33015378",value:[119.033746561182,29.6055595157275,0]}],余杭区:[{name:"33015501",value:[120.29494435694,30.412715702058,0]},{name:"33014521",value:[120.29659123326,30.501453905111,0]}],富阳区:[{name:"33011406",value:[119.94520844126,30.053833453656,0]},{name:"33015403",value:[119.66472313905,29.985457240343,0]}],淳安县:[{name:"33011922",value:[119.043620031871,29.6058306092139,0]},{name:"33019919",value:[119.046607704754,29.6038488141601,0]}],临安区:[{name:"33011601",value:[119.70560939215,30.229842691419,0]},{name:"33019608",value:[119.7051829209,30.231791316266,0]}],主城区:[{name:"33010216",value:[120.14096678401,30.273505030871,0]},{name:"33014161",value:[120.10112323964,30.29794196665,0]},{name:"33011003",value:[120.18915669224,30.237287162543,0]},{name:"33015057",value:[120.19922034051,30.235133348706,0]},{name:"33010127",value:[120.1671967765,30.266743852496,0]},{name:"33019028",value:[120.19384385251,30.342224566937,0]},{name:"33010487",value:[120.151508870388,30.2850301964867,0]},{name:"33014148",value:[120.173834955998,30.3708542283502,0]},{name:"33010164",value:[120.197120989581,30.2722505771474,0]},{name:"33015265",value:[120.26602565373,30.3175431482886,0]}]};$('<div id="hoverBox" style="width: 200px;height: 80px;background-color: pink;position:absolute;z-index: 999;border-radius: 5px;display:none;justify-content: center;align-items: center;">自定义内容</div>').appendTo($("#chart-panel"));let arrZj=mapArr.浙江省;arrZj.forEach(function(c,l,n){n[0].value[2]=2,n[1].value[2]=3,n[2].value[2]=3});let arrHz=mapArr.杭州市;arrHz.forEach(function(c,l,n){n[0].value[2]=2,n[1].value[2]=3,n[2].value[2]=2}),echarts.extendsMap=function(c,l){var n=this.init(document.getElementById(c)),g={},p={杭州市:hangzhou,舟山市:zhoushan,嘉兴市:jiaxin,宁波市:ningbo,台州市:taizhou,温州市:wenzhou,丽水市:lishui,湖州市:huzhou,衢州市:quzhou,金华市:jinhua,绍兴市:shaoxing},y={余杭区:yuhang,西湖区:zhuchengqu,上城区:zhuchengqu,下城区:zhuchengqu,滨江区:binjiang,桐庐县:tonglu,富阳区:fuyang,建德市:jiande,萧山区:xiaoshan,拱墅区:zhuchengqu,临安区:linan,江干区:zhuchengqu,淳安县:chunan},b={余杭:[120.3060892965,30.4244838332],西湖:[120.1371565592,30.2651970958],拱墅:[120.1484873743,30.324906244],上城:[120.2040848844,30.2328603996],下城:[120.1876141702,30.28673585],江干:[120.2114310483,30.2628716672],滨江:[120.2184566077,30.2143928485],萧山:[120.2708053894,30.1895246409],临安:[119.7313212674,30.239743139],富阳:[119.9671985789,30.0539026103],桐庐:[119.6981058619,29.7988325149],建德:[119.287548962,29.4813766767],淳安:[119.0484695874,29.6152091789]},d={0:"#fff",1:"#26cff3",2:"#f0fb30",3:"#d11864"},j={mapName:"zhejiang",goDown:!1,activeArea:[],data:[],callback:function(e,a,t){}};l&&(l=this.util.extend(j,l));var i=[l.mapName],h=0,m={leftPlus:115,leftCur:150,left:198,top:50},x=[[0,0],[8,8],[0,16]],v={font:'14px "Microsoft YaHei", sans-serif',textColor:"#0ab7ff",lineColor:"rgba(147, 235, 248, 0.5)"},u={resetOption:function(e,a,t){console.log("看我一下呗");var s=this.createBreadcrumb(t),o=i.indexOf(t);console.log(e),console.log(a),console.log("这是n"+t),console.log(o);var f=a.graphic.length;o<0?(a.graphic.push(s),a.graphic[0].children[0].shape.x2=140,a.graphic[0].children[1].shape.x2=140,t==="杭州市"&&(a.series[0].data=arrHz),i.push(t),h++):(a.graphic.splice(o+2,f),a.graphic.length<=2&&(a.graphic[0].children[0].shape.x2=50,a.graphic[0].children[1].shape.x2=50,a.series[0].data=arrZj),i.splice(o+1,f),h=o,m.leftCur-=m.leftPlus*(f-o-1)),a.geo.map=t,a.geo.zoom=.4,e.clear(),e.setOption(a),this.zoomAnimation(),l.callback(t,a,e)},createBreadcrumb:function(e){var a={杭州市:"hangzhou",舟山市:"zhoushan",嘉兴市:"jiaxing",温州市:"wenzhou",衢州市:"quzhou",丽水市:"lishui",金华市:"jinhua",台州市:"taizhou",宁波市:"ningbo",绍兴市:"shaoxing",湖州市:"huzhou"},t="";e=="临安区"||e=="余杭区"||e=="上城区"||e=="下城区"||e=="江干区"||e=="滨江区"||e=="西湖区"||e=="拱墅区"||e=="萧山区"||e=="桐庐县"||e=="建德市"||e=="富阳区"||e=="淳安县"?t="杭州市":t=e;var s={type:"group",id:e,left:80,top:30,children:[{type:"polyline",left:-90,top:0,shape:{points:x},style:{stroke:"#0ab7ff",key:e},onclick:function(){var o=this.style.key;u.resetOption(n,r,o)}},{type:"text",left:-68,top:0,style:{text:t,textAlign:"center",fill:v.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){var o=this.style.text;u.resetOption(n,r,o)}},{type:"text",left:-68,top:15,style:{name:e,text:a[e]?a[e].toUpperCase():"",textAlign:"center",fill:v.textColor,font:'10px "Microsoft YaHei", sans-serif'},onclick:function(){var o=this.style.name;u.resetOption(n,r,o)}}]};return m.leftCur+=m.leftPlus,s},initSeriesData:function(e){for(var a=[],t=0;t<e.length;t++){var s=b[e[t].name];s&&a.push({name:e[t].name,value:s.concat(e[t].value,e[t].level)})}return a},zoomAnimation:function(){var e=null,a=function(t){e||(e=t),e=e+t,n.setOption({geo:{zoom:e}}),e<1&&window.requestAnimationFrame(function(){a(.7)})};window.requestAnimationFrame(function(){a(.2)})}},r={backgroundColor:"#336699",graphic:[{type:"group",left:15,top:20,children:[{type:"line",left:0,top:-20,shape:{x1:0,y1:0,x2:50,y2:0},style:{stroke:v.lineColor}},{type:"line",left:0,top:20,shape:{x1:0,y1:0,x2:50,y2:0},style:{stroke:v.lineColor}}]},{id:i[h],type:"group",left:20,top:30,children:[{type:"polyline",left:90,top:0,shape:{points:x},style:{stroke:"transparent",key:i[0]},onclick:function(){var e=this.style.key;u.resetOption(n,r,e)}},{type:"text",left:0,top:0,style:{text:i[0]==="浙江"?"浙江省":i[0],textAlign:"center",fill:v.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){u.resetOption(n,r,"浙江")}},{type:"text",left:0,top:15,style:{text:"ZHEJIANG",textAlign:"center",fill:v.textColor,font:'10px "Microsoft YaHei", sans-serif'},onclick:function(){u.resetOption(n,r,"浙江")}}]}],geo:{map:l.mapName,zoom:1,label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:10}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}},regions:l.activeArea.map(function(e){return typeof e!="string"?{name:e.name,itemStyle:{normal:{areaColor:e.areaColor||"#389BB7"}},label:{normal:{show:e.showLabel,textStyle:{color:"#fff"}}}}:{name:e,itemStyle:{normal:{borderColor:"#91e6ff",areaColor:"#389BB7"}}}})},series:[{type:"effectScatter",coordinateSystem:"geo",symbolSize:5,showEffectOn:"render",rippleEffect:{period:5,scale:10,brushType:"stroke"},hoverAnimation:!0,itemStyle:{normal:{color:function(e){return d[e.value[2]]},shadowBlur:5,shadowColor:"#333"}},data:arrZj}]};return n.setOption(r),n.on("click",function(e){var a=this;if(l.goDown&&e.name!==i[h]){if(p[e.name]){var t=p[e.name];$.get(t,function(s){g=s,echarts.registerMap(e.name,s),u.resetOption(a,r,e.name),e.name=="杭州市"?n.setOption({series:[{type:"effectScatter",coordinateSystem:"geo",symbolSize:5,showEffectOn:"render",rippleEffect:{period:5,scale:5,brushType:"stroke"},hoverAnimation:!0,itemStyle:{normal:{color:function(o){return d[o.value[2]]},shadowBlur:5,shadowColor:"#333"}},data:arrHz}]}):n.setOption({series:{data:[]}})})}if(y[e.name]){var t=y[e.name];$.get(t,function(o){g=o;var f=e.name.substring(0,e.name.length-1);console.log("区域后的"+f),echarts.registerMap(e.name,o),u.resetOption(a,r,e.name),(e.name=="西湖区"||e.name=="拱墅区"||e.name=="上城区"||e.name=="下城区"||e.name=="江干区")&&(e.name="主城区"),e.name&&n.setOption({series:[{type:"effectScatter",coordinateSystem:"geo",symbolSize:5,showEffectOn:"render",rippleEffect:{period:5,scale:2.5,brushType:"stroke"},hoverAnimation:!0,itemStyle:{normal:{color:function(C){return d[C.value[2]]},shadowBlur:5,shadowColor:"#333"}},data:mapArr[e.name]}]})})}}}),n.on("mouseover",function(e){var a=e.name;$("#hoverBox").css("display","flex"),$("#hoverBox").html(a),$("#hoverBox").show();var t=e.event.offsetX,s=e.event.offsetY;$("#hoverBox").css({top:s+10,left:t+10})}),n.on("mouseout",function(e){$("#hoverBox").hide()}),n},$.getJSON(zhejiang,function(c){echarts.registerMap("浙江",c);var l=echarts.extendsMap("chart-panel",{mapName:"浙江",goDown:!0,callback:function(n,g,p){},data:arrZj})});
