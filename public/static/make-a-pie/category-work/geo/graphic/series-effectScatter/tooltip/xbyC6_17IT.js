var zhongguo="/asset/get/s/data-1528971808162-BkOXf61WX.json",hainan="/asset/get/s/data-1528971693521-r18nZaybm.json",xizang="/asset/get/s/data-1528970391616-BJeoh2JW7.json",zhejiang="/asset/get/s/data-1528970380661-SkH93h1-m.json",yunnan="/asset/get/s/data-1528970362114-r1MK321WQ.json",xinjiang="/asset/get/s/data-1528970349852-H18u22kWX.json",tianjin="/asset/get/s/data-1528970339987-Hk2wnh1ZX.json",sichuan="/asset/get/s/data-1528970319531-Hy_8n3y-m.json",shanxi="/asset/get/s/data-1528970298351-HyzB32JZ7.json",shangxi="/asset/get/s/data-1528970273819-B1cmnnk-Q.json",shanghai="/asset/get/s/data-1528970254015-HJLfhnyWX.json",shangdong="/asset/get/s/data-1528970240242-Byu-hhybX.json",qinghai="/asset/get/s/data-1528970209434-Bytyh3kZ7.json",ningxia="/asset/get/s/data-1528970150882-SJJ2j2yWQ.json",neimenggu="/asset/get/s/data-1528970102554-HyJKo31bQ.json",liaoning="/asset/get/s/data-1528970052404-BJhHihkbQ.json",jilin="/asset/get/s/data-1528970024458-rkeEjhy-Q.json",jiangxi="/asset/get/s/data-1528969991368-BkkMi31Zm.json",jiangsu="/asset/get/s/data-1528969864934-BJ-qchkWQ.json",hunan="/asset/get/s/data-1528969831328-Sykuqh1bX.json",hubei="/asset/get/s/data-1528969822119-Bk8v93kZ7.json",henan="/asset/get/s/data-1528969802719-HyXIqhk-m.json",heilongjiang="/asset/get/s/data-1528969789631-ryLHcnJbm.json",hebei="/asset/get/s/data-1528969737020-HJWMqhy-Q.json",guizhou="/asset/get/s/data-1528969712502-Hy_g92yZQ.json",guangxi="/asset/get/s/data-1528969706270-HJMg5hkWQ.json",guangdong="/asset/get/s/data-1528969700634-BkT1qn1WQ.json",gansu="/asset/get/s/data-1528969694316-BJLkc2yZX.json",chongqing="/asset/get/s/data-1528969687660-r1ey9nkbX.json",aomen="/asset/get/s/data-1528969612486-rJ4qtnyZm.json",anhui="/asset/get/s/data-1528969607452-Hkk5tnJ-Q.json",beijing="/asset/get/s/data-1528969604941-Hk6Ytn1WQ.json",fujian="/asset/get/s/data-1528969599839-S1OFFn1ZQ.json",xianggang="/asset/get/s/data-1528969589857-S1ROthJWm.json";echarts.extendsMap=function(h,n){var o=this.init(document.getElementById(h)),u={},v={广西:guangxi},k={贺州:[111.57,24.4],南宁:[108.36,22.81],柳州:[109.24,24.19],防城港:[108.35,21.69],崇左:[107.35,22.41],来宾:[109.22,23.76],桂林:[110.17,25.17],梧州:[111.2,23.29],玉林:[110.09,22.38],贵港:[109.6,23.06],百色:[106.36,23.54],钦州:[108.65,21.98],河池:[108.03,24.42],北海:[109.12,21.48]},C={1:"rgba(241, 109, 115, .8)",2:"rgba(255, 235, 59, .7)",3:"rgba(0, 255, 127, 1)"},w={mapName:"guangxi",goDown:!1,bgColor:"#404a59",activeArea:[],data:[],callback:function(e,t,a){}};n&&(n=this.util.extend(w,n));var f=[n.mapName],m=0,r={leftPlus:115,leftCur:150,left:198,top:50},b=[[0,0],[8,11],[0,22]],l={font:'18px "Microsoft YaHei", sans-serif',textColor:"#eee",lineColor:"rgba(147, 235, 248, .8)"},i={resetOption:function(e,t,a){var s=this.createBreadcrumb(a),g=f.indexOf(a),d=t.graphic.length;if(g<0){if(t.graphic.push(s),t.graphic[0].children[0].shape.x2=145,t.graphic[0].children[1].shape.x2=145,t.graphic.length>2){for(var x=[],j,y=0;y<n.data.length;y++)a===n.data[y].city&&$([n.data[y]]).each(function(B,p){j={city:p.city,name:p.name,value:p.value,crew:p.crew,company:p.company,position:p.position,region:p.region},x.push(j)});x!=null?t.series[0].data=i.initSeriesData(x):t.series[0].data=[]}f.push(a),m++}else t.graphic.splice(g+2,d),t.graphic.length<=2&&(t.graphic[0].children[0].shape.x2=60,t.graphic[0].children[1].shape.x2=60,t.series[0].data=i.initSeriesData(n.data)),f.splice(g+1,d),m=g,r.leftCur-=r.leftPlus*(d-g-1);t.geo.map=a,t.geo.zoom=.4,e.clear(),e.setOption(t),this.zoomAnimation(),n.callback(a,t,e)},createBreadcrumb:function(e){var t={广西:"guangxi"},a={type:"group",id:e,left:r.leftCur+r.leftPlus,top:r.top+3,children:[{type:"polyline",left:-90,top:-5,shape:{points:b},style:{stroke:"#fff",key:e},onclick:function(){var s=this.style.key;i.resetOption(o,c,s)}},{type:"text",left:-68,top:"middle",style:{text:e,textAlign:"center",fill:l.textColor,font:l.font},onclick:function(){var s=this.style.text;i.resetOption(o,c,s)}},{type:"text",left:-68,top:10,style:{name:e,text:t[e]?t[e].toUpperCase():"",textAlign:"center",fill:l.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){var s=this.style.name;i.resetOption(o,c,s)}}]};return r.leftCur+=r.leftPlus,a},initSeriesData:function(e){for(var t=[],a=0;a<e.length;a++){var s=k[e[a].name];s&&t.push({name:e[a].name,value:s.concat(e[a].value,e[a].level),crew:e[a].crew,company:e[a].company,position:e[a].position,region:e[a].region})}return t},zoomAnimation:function(){var e=null,t=function(a){e||(e=a),e=e+a,o.setOption({geo:{zoom:e}}),e<1&&window.requestAnimationFrame(function(){t(.2)})};window.requestAnimationFrame(function(){t(.2)})}},c={backgroundColor:n.bgColor,tooltip:{show:!0,trigger:"item",alwaysShowContent:!1,backgroundColor:"rgba(50,50,50,0.7)",hideDelay:100,triggerOn:"mousemove",enterable:!0,position:["60%","70%"],formatter:function(e,t,a){return"简称："+e.data.name+"<br/>公司名称："+e.data.company+"<br/>所属大区："+e.data.region+"<br/>所在位置："+e.data.position}},graphic:[{type:"group",left:r.left,top:r.top-4,children:[{type:"line",left:0,top:-20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:l.lineColor}},{type:"line",left:0,top:20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:l.lineColor}}]},{id:f[m],type:"group",left:r.left+2,top:r.top,children:[{type:"polyline",left:90,top:-12,shape:{points:b},style:{stroke:"transparent",key:f[0]},onclick:function(){var e=this.style.key;i.resetOption(o,c,e)}},{type:"text",left:0,top:"middle",style:{text:"广西",textAlign:"center",fill:l.textColor,font:l.font},onclick:function(){i.resetOption(o,c,"广西")}},{type:"text",left:0,top:10,style:{text:"guangxi",textAlign:"center",fill:l.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){i.resetOption(o,c,"广西")}}]}],geo:{map:n.mapName,roam:!0,zoom:1,label:{normal:{show:!0,textStyle:{color:"#fff"}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}},regions:n.activeArea.map(function(e){return typeof e!="string"?{name:e.name,itemStyle:{normal:{areaColor:e.areaColor||"#389BB7"}},label:{normal:{show:e.showLabel,textStyle:{color:"#fff"}}}}:{name:e,itemStyle:{normal:{borderColor:"#91e6ff",areaColor:"#389BB7"}}}})},series:[{type:"effectScatter",coordinateSystem:"geo",showEffectOn:"render",rippleEffect:{period:15,scale:4,brushType:"fill"},hoverAnimation:!0,itemStyle:{normal:{color:function(e){return C[e.value[3]]},shadowBlur:10,shadowColor:"#333"}},data:i.initSeriesData(n.data)}]};return o.setOption(c),o.on("click",function(e){alert(e.name)}),o.setMap=function(e){var t=this;e.indexOf("市")<0&&(e=e+"市");var a=v[e];if(a){var s="./map/"+a+".json";$.get(s,function(g){u=g,echarts.registerMap(e,g),i.resetOption(t,c,e)})}},o},$.getJSON(guangxi,function(h){echarts.registerMap("广西",h);var n=echarts.extendsMap("chart-panel",{bgColor:"#154e90",mapName:"广西",text:"火电业务",goDown:!0,callback:function(o,u,v){console.log(o,u,v)},data:[{city:"广西",name:"贺州",company:"贺州有限公司",position:"广西贺州",region:"华南大区",level:"1"},{city:"广西",name:"南宁",company:"南宁有限公司",position:"广西南宁",region:"华南大区",level:"1"},{city:"广西",name:"柳州",company:"柳州有限公司",position:"广西柳州",region:"华南大区",level:"3"},{city:"广西",name:"防城港",company:"防城港有限公司",position:"广西防城港",region:"华南大区",level:"3"},{city:"广西",name:"崇左",company:"崇左有限公司",position:"广西崇左",region:"华南大区",level:"3"},{city:"广西",name:"来宾",company:"来宾有限公司",position:"广西来宾",region:"华南大区",level:"3"},{city:"广西",name:"桂林",company:"桂林有限公司",position:"广西桂林",region:"华南大区",level:"3"},{city:"广西",name:"梧州",company:"梧州有限公司",position:"广西梧州",region:"华南大区",level:"3"},{city:"广西",name:"贺州",company:"贺州有限公司",position:"广西贺州",region:"华南大区",level:"3"},{city:"广西",name:"玉林",company:"玉林有限公司",position:"广西玉林",region:"华南大区",level:"3"},{city:"广西",name:"贵港",company:"贵港有限公司",position:"广西贵港",region:"华南大区",level:"3"},{city:"广西",name:"百色",company:"百色有限公司",position:"广西百色",region:"华南大区",level:"3"},{city:"广西",name:"钦州",company:"钦州有限公司",position:"广西钦州",region:"华南大区",level:"3"},{city:"广西",name:"河池",company:"河池有限公司",position:"广西河池",region:"华南大区",level:"3"},{city:"广西",name:"北海",company:"北海有限公司",position:"广西北海",region:"华南大区",level:"3"}]})});
