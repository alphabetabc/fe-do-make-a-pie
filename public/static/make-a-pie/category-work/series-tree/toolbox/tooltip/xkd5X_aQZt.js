var uploadedDataURL="/asset/get/s/data-1604284283597-1ECMDl8MN.json";$.get(uploadedDataURL).done(o=>{var t={type:"tree",backgroundColor:"#002770",toolbox:{show:!0,iconStyle:{borderColor:"#03ceda"},feature:{restore:{}}},tooltip:{trigger:"item",triggerOn:"mousemove",backgroundColor:"rgba(1,70,86,1)",borderColor:"rgba(0,246,255,1)",borderWidth:.5,textStyle:{fontSize:10},formatter:"{b}"},series:[{type:"tree",hoverAnimation:!0,data:getdata(JSON.parse(o)),top:0,bottom:0,left:0,right:0,layout:"radial",symbol:"circle",symbolSize:10,nodePadding:20,animationDurationUpdate:750,expandAndCollapse:!0,initialTreeDepth:1,roam:!0,focusNodeAdjacency:!0,itemStyle:{borderWidth:1},label:{color:"#fff",fontSize:10,fontFamily:"SourceHanSansCN"},lineStyle:{width:1,curveness:.5}}]};myChart.setOption(t)});var colors=["#00ADD0","#FFA12F","#B62AFF","#604BFF","#6E35FF","#002AFF","#20C0F4","#95F300","#04FDB8","#AF5AFF"];const map=new Map;map.set("盟住房管理中心","公积金"),map.set("盟文体旅游广电旅游局","文旅"),map.set("盟林业和草原局","林草");const getdata=o=>{let t={name:"锡大数据中心",value:0,children:[]};const a=o.reduce((r,n,l)=>{const i=r.findIndex(s=>s.name===n.org);if(i>-1){const s={name:n.res,value:l,children:[]};r[i].children.push(s)}else{const s={name:n.org,value:l,children:[{name:n.res,value:l,children:[]}]};r.push(s)}return r},[]).map(r=>map.has(r.name)?{...r,name:map.has(r.name)?map.get(r.name):r.name}:r);t.children.push(...a);let e=[];return e.push(t),e=handle(e,0),e},handle=(o,t,a="#00f6ff")=>o.map((e,r)=>{switch(t==1&&(a=colors.find((n,l)=>l==r%10)),(t===0||t===1)&&(e.label={position:"inside"}),t){case 0:e.symbolSize=100;break;case 1:e.symbolSize=50;break;default:e.symbolSize=10;break}return e.lineStyle={color:a},e.children?(e.itemStyle={borderColor:a,color:a},e.children=handle(e.children,t+1,a)):e.itemStyle={color:"transparent",borderColor:a},e});
