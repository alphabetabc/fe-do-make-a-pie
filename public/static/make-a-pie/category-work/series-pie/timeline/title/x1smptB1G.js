const data=[{date:"2019-01",list:[{material_name:"透明离型膜",cd_amount:"12871.4",cd_proportion:"428.20",total_amount:"627.2"},{material_name:"泡棉",cd_amount:"1087.4",cd_proportion:"235.17",total_amount:"50527.2"}]},{date:"2019-03",list:[{material_name:"透明离型膜",cd_amount:"1871.4",cd_proportion:"728.20",total_amount:"727.2"},{material_name:"泡棉",cd_amount:"1287.4",cd_proportion:"358.51",total_amount:"21527.2"}]},{date:"2019-04",list:[{material_name:"透明离型膜",cd_amount:"1871.4",cd_proportion:"9728.20",total_amount:"1727.2"},{material_name:"泡棉",cd_amount:"187.4",cd_proportion:"978.20",total_amount:"17527.2"}]}];for(var timeLineDatas=[],databeasts=[],i=0;i<data.length;i++){let t=data[i].list;timeLineDatas.push(data[i].date);let o=[];for(var j=0;j<t.length;j++)o.push({name:t[j].material_name,value:t[j].cd_amount,cd_amount:t[j].cd_amount,cd_proportion:t[j].cd_proportion,total_amount:t[j].total_amount});databeasts.push(o)}function optiontitle(t){return t>9?{text:"物料类型"+t+"情况统计",x:"center",top:"15%"}:{text:"物料类型"+t+"情况统计",x:"center",top:"15%"}}option={baseOption:{timeline:{show:!0,axisType:"category",autoPlay:!0,currentIndex:6,playInterval:1e3,tooltip:{show:!0,formatter:function(t){return console.log(t),t.name}},orient:"vertical",right:"0",y:"center",controlStyle:{showPrevBtn:!1,showPlayBtn:!1,showNextBtn:!1},checkpointStyle:{color:"rgba(35,169,244, 0.9)",borderColor:"rgba(35,169,244, 0.9)",symbolSize:8},emphasis:{itemStyle:{color:"rgba(35,169,244, 0.9)",borderColor:"rgba(35,169,244, 0.9)"}},label:{normal:{show:!1,interval:"auto",formatter:function(t){return t+"年"}}},data:[]},title:{textStyle:{fontSize:16}},grid:[{show:!1,left:"10%",top:"15%",bottom:90,containLabel:!0}],series:[]},options:[]};for(var i=0;i<timeLineDatas.length;i++)option.baseOption.timeline.data.push(timeLineDatas[i]),option.options.push({title:optiontitle(timeLineDatas[i]),series:[{name:"总课时",type:"pie",color:["#c487ee","#deb140","#49dff0","#034079","#6f81da","#00ffb4","#659F83","#08C7AE"],radius:["30%","45%"],label:{normal:{show:!0,formatter:"{b}: {c} ({d}%)"},emphasis:{show:!0,position:"left",offset:[0,0]}},data:databeasts[i]}]});
