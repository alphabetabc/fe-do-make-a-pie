let data=[{name:"移动线上",value:10,truevalue:10},{name:"移动线下",value:10,truevalue:10},{name:"联通线上",value:10,truevalue:-8}],name=data.map(e=>e.name),value=data.map(e=>e.truevalue),sum=value.reduce((e,a)=>e+a),color=[[["#f24e50","#f0de23"],["#19cddd","#19ecb6"],["#29a0f9","#5041f6"],["#d819a7","#8719e5"]],["rgba(24, 183, 142,0.1)","rgba(1, 179, 238,0.1)","rgba(22, 75, 205,0.1)","rgba(52, 52, 176,0.1)"]],series=[],yAxis=[];for(let e=0;e<data.length;e++){let a=data[e].truevalue<0;series.push({name:"",type:"pie",clockWise:a,hoverAnimation:!1,radius:[82.5-e*20+"%",82-e*20+"%"],center:["50%","50%"],label:{show:!1},itemStyle:{label:{show:!1},labelLine:{show:!1}},data:[{value:Math.abs(data[e].value),name:data[e].name,itemStyle:{borderWidth:3,borderRadius:30,borderColor:{type:"linear",x:1,y:0,x2:0,y2:0,colorStops:[{offset:0,color:color[0][e][0]},{offset:1,color:color[0][e][1]}],global:!1}}},{value:Math.abs(sum-data[e].value),name:"",itemStyle:{color:"transparent"},tooltip:{show:!1},hoverAnimation:!1}]}),series.push({name:"",type:"pie",silent:!0,z:1,clockWise:!1,hoverAnimation:!1,radius:[82.5-e*20+"%",82-e*20+"%"],center:["50%","50%"],label:{show:!1},itemStyle:{label:{show:!1},labelLine:{show:!1},borderWidth:5},data:[{value:10,itemStyle:{color:"#21446a"},tooltip:{show:!1},hoverAnimation:!1},{value:0,itemStyle:{color:"rgba(0,0,0,0)",borderWidth:100},tooltip:{show:!1},hoverAnimation:!1}]}),yAxis.push({name:data[e].name,ratio:(data[e].value/sum*100).toFixed(2)+"%",qoq:"50%"})}option={backgroundColor:"#012248",color:color[0],tooltip:{show:!0,trigger:"item",formatter:"{a}<br>{b}:{c}({d}%)"},grid:{top:"4%",left:"51%",width:"40%",height:"40%",containLabel:!1},xAxis:[{show:!1}],series};
