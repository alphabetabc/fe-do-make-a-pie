app.title="嵌套环形图";for(var STEP=5,TOTAL=100,errorIndex=[],deviceData=[],c=0;c<5;c++){for(var deviceItemData=[],i=0;i<TOTAL;i++){var color="#0c96e2",borderColor=i==0?"white":"#333",borderWidth=i==0?2:.5;Math.random()<.1&&(c==4?color="black":(c==2||c==3)&&(errorIndex.push(i),color="#fa240d")),deviceItemData.push({value:1,name:"name"+i,itemStyle:{normal:{color,borderColor:"#333",borderWidth:.5}}})}deviceData.push(deviceItemData)}option={backgroundColor:"linear-gradient(#000135, #0252a3)",tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"Device",type:"pie",selectedMode:"single",radius:["50%","55%"],label:{normal:{show:!1,position:"inner"}},labelLine:{normal:{show:!1}},data:deviceData[0]},{name:"Device",type:"pie",radius:["55%","60%"],label:{normal:{show:!1}},data:deviceData[1]},{name:"Device",type:"pie",radius:["60%","65%"],label:{normal:{show:!1}},data:deviceData[2]},{name:"Device",type:"pie",radius:["65%","70%"],label:{normal:{show:!1}},data:deviceData[3]},{name:"Device",type:"pie",radius:["70%","75%"],label:{normal:{show:!1}},data:deviceData[4]}]};var currentStep=0,newStep=0;function rotate(){newStep=currentStep-STEP,newStep<0&&(newStep=TOTAL+newStep);for(var e=0;e<5;e++)option.series[e].startAngle!==void 0?option.series[e].startAngle>0?option.series[e].startAngle-=360/TOTAL*STEP:option.series[e].startAngle=360-360/TOTAL*STEP:option.series[e].startAngle=90-360/TOTAL*STEP;currentStep=newStep}setInterval(function(){var e=errorIndex.indexOf(e);e<0&&(e=errorIndex[errorIndex.length-1]),rotate(),myChart.setOption(option)},2e3);
