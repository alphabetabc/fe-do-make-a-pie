function getParametricEquation(h,n,M,l){let m=(h+n)/2,i=h*Math.PI*2,o=n*Math.PI*2,t=m*Math.PI*2;M=!1;let a=M?Math.sin(t)*.1:0,s=M?Math.cos(t)*.1:0,r=l?1.05:1;return{u:{min:0,max:Math.PI*2,step:Math.PI/200},v:{min:0,max:Math.PI,step:Math.PI/200},x:function(e,f){if(m-.5<0){if(e<i||e>t+Math.PI)return tmp=e-Math.PI-t<0?e+Math.PI-t:e-Math.PI-t,a+Math.sin(i)*tmp/(Math.PI-t+i)*r;if(e>o&&e<t+Math.PI)return tmp=t+Math.PI-e,a+Math.sin(o)*tmp/(Math.PI-t+i)*r}else{if(e<i&&e>t-Math.PI)return tmp=e+Math.PI-t,a+Math.sin(i)*tmp/(Math.PI-t+i)*r;if(e>o||e<t-Math.PI)return tmp=t-Math.PI-e<0?t+Math.PI-e:t-Math.PI-e,a+Math.sin(o)*tmp/(Math.PI-t+i)*r}return a+Math.sin(f)*Math.sin(e)*r},y:function(e,f){if(m-.5<0){if(e<i||e>t+Math.PI)return tmp=e-Math.PI-t<0?e+Math.PI-t:e-Math.PI-t,s+Math.cos(i)*tmp/(Math.PI-t+i)*r;if(e>o&&e<t+Math.PI)return tmp=t+Math.PI-e,s+Math.cos(o)*tmp/(Math.PI-t+i)*r}else{if(e<i&&e>t-Math.PI)return tmp=e+Math.PI-t,s+Math.cos(i)*tmp/(Math.PI-t+i)*r;if(e>o||e<t-Math.PI)return tmp=t-Math.PI-e<0?t+Math.PI-e:t-Math.PI-e,s+Math.cos(o)*tmp/(Math.PI-t+i)*r}return s+Math.sin(f)*Math.cos(e)*r},z:function(e,f){return Math.cos(f)>0?3:-0}}}function getPie3D(h){let n=[],M=0,l=0,m=0,i=[];for(let t=0;t<h.length;t++){M+=h[t].value;let a={name:typeof h[t].name>"u"?`series${t}`:h[t].name,type:"surface",parametric:!0,wireframe:{show:!1},pieData:h[t],pieStatus:{selected:!1,hovered:!1}};if(typeof h[t].itemStyle<"u"){let s={};typeof h[t].itemStyle.color<"u"&&(s.color=h[t].itemStyle.color),typeof h[t].itemStyle.opacity<"u"&&(s.opacity=h[t].itemStyle.opacity),a.itemStyle=s}n.push(a)}for(let t=0;t<n.length;t++)m=l+n[t].pieData.value,n[t].pieData.startRatio=l/M,n[t].pieData.endRatio=m/M,n[t].parametricEquation=getParametricEquation(n[t].pieData.startRatio,n[t].pieData.endRatio,!1,!1),l=m,i.push(n[t].name);return n.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},itemStyle:{opacity:.1,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:Math.PI*2,step:Math.PI/200},v:{min:0,max:Math.PI,step:Math.PI/200},x:function(t,a){return(Math.sin(a)*Math.sin(t)+Math.sin(t))/Math.PI*1.7},y:function(t,a){return(Math.sin(a)*Math.cos(t)+Math.cos(t))/Math.PI*1.7},z:function(t,a){return Math.cos(a)>0?-.5:-1}}}),n.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},itemStyle:{opacity:.1,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:Math.PI*2,step:Math.PI/200},v:{min:0,max:Math.PI,step:Math.PI/200},x:function(t,a){return(Math.sin(a)*Math.sin(t)+Math.sin(t))/Math.PI*1.7},y:function(t,a){return(Math.sin(a)*Math.cos(t)+Math.cos(t))/Math.PI*1.7},z:function(t,a){return Math.cos(a)>0?-1.5:-2}}}),n.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},itemStyle:{opacity:.1,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:Math.PI*2,step:Math.PI/200},v:{min:0,max:Math.PI,step:Math.PI/200},x:function(t,a){return(Math.sin(a)*Math.sin(t)+Math.sin(t))/Math.PI*1.9},y:function(t,a){return(Math.sin(a)*Math.cos(t)+Math.cos(t))/Math.PI*1.9},z:function(t,a){return Math.cos(a)>0,-2.5}}}),{legend:{left:"50%",top:"center",textStyle:{fontSize:8},data:i,formatter:t=>t},xAxis3D:{},yAxis3D:{},zAxis3D:{},grid3D:{left:"left",width:"50%",show:!1,boxHeight:5,boxWidth:50,boxDepth:50},series:n}}option=getPie3D([{name:"性能测试",value:134,itemStyle:{color:"#99D3F3"}},{name:"安全功能",value:156,itemStyle:{color:"#007AFF"}},{name:"功能测试",value:57,itemStyle:{color:"#2563AE"}},{name:"易用性测试",value:51,itemStyle:{color:"#1F9AA7"}},{name:"代码安全",value:11,itemStyle:{color:"#F5B64C"}}]);
