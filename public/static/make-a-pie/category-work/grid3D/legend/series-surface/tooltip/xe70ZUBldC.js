var data=[{name:"危运",value:40,number:120,itemStyle:{opacity:.7,color:"rgba(32,159,237,1)"}},{name:"包车",value:30,number:80,itemStyle:{opacity:.7,color:"rgba(255,159,32,1)"}},{name:"班车",value:20,number:60,itemStyle:{opacity:.7,color:"rgba(159,255,237,1)"}},{name:"重货",value:10,number:10,itemStyle:{opacity:.7,color:"rgba(159,255,32,1)"}}];function getParametricEquation(a,s,r,m,i,h){let d=(a+s)/2,f=a*Math.PI*2,u=s*Math.PI*2,e=d*Math.PI*2;a===0&&s===1&&(r=!1),i=typeof i<"u"?i:1/3;let t=r?Math.cos(e)*.1:0,n=r?Math.sin(e)*.1:0,c=m?1.05:1;return{u:{min:-Math.PI,max:Math.PI*3,step:Math.PI/32},v:{min:0,max:Math.PI*2,step:Math.PI/20},x:function(o,l){return o<f?t+Math.cos(f)*(1+Math.cos(l)*i)*c:o>u?t+Math.cos(u)*(1+Math.cos(l)*i)*c:t+Math.cos(o)*(1+Math.cos(l)*i)*c},y:function(o,l){return o<f?n+Math.sin(f)*(1+Math.cos(l)*i)*c:o>u?n+Math.sin(u)*(1+Math.cos(l)*i)*c:n+Math.sin(o)*(1+Math.cos(l)*i)*c},z:function(o,l){return o<-Math.PI*.5?Math.sin(o):o>Math.PI*2.5?Math.sin(o)*h*.1:Math.sin(l)>0?1*h*.1:-1}}}function getPie3D(a,s){let r=[],m=0,i=0,h=0,d=[],f=typeof s<"u"?(1-s)/(1+s):1/3;for(let e=0;e<a.length;e++){m+=a[e].value;let t={name:typeof a[e].name>"u"?`series${e}`:a[e].name,value:typeof a[e].value>"u"?`series${e}`:a[e].value,type:"surface",parametric:!0,wireframe:{show:!1},pieData:a[e],pieStatus:{selected:!1,hovered:!1,k:f}};if(typeof a[e].itemStyle<"u"){let n={};typeof a[e].itemStyle.color<"u"&&(n.color=a[e].itemStyle.color),typeof a[e].itemStyle.opacity<"u"&&(n.opacity=a[e].itemStyle.opacity),t.itemStyle=n}t.label={formatter:`{a|{a}}{abg|}
{hr|}
  {b|{b}：}{c}  {per|{d}%}  `,backgroundColor:"#eee",borderColor:"#aaa",borderWidth:1,borderRadius:4,rich:{a:{color:"#999",lineHeight:22,align:"center"},hr:{borderColor:"#aaa",width:"100%",borderWidth:.5,height:0},b:{fontSize:16,lineHeight:33},per:{color:"#eee",backgroundColor:"#334455",padding:[2,4],borderRadius:2}}},r.push(t)}for(let e=0;e<r.length;e++)h=i+r[e].pieData.value,r[e].pieData.startRatio=i/m,r[e].pieData.endRatio=h/m,r[e].parametricEquation=getParametricEquation(r[e].pieData.startRatio,r[e].pieData.endRatio,!1,!1,f,r[e].pieData.value),i=h,d.push(r[e].name);r.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},itemStyle:{opacity:0},parametricEquation:{u:{min:0,max:Math.PI*2,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/20},x:function(e,t){return Math.sin(t)*Math.sin(e)+Math.sin(e)},y:function(e,t){return Math.sin(t)*Math.cos(e)+Math.cos(e)},z:function(e,t){return Math.cos(t)>0?.1:-.1}}});let u={legend:{icon:"circle",data:d,top:50,width:50,itemGap:20,right:40,formatter:function(e){for(var t="",n=0;n<data.length;n++)data[n].name==e&&(t=a[n].name+data[n].number);return t||(t=e),t},textStyle:{color:"#fff",fontSize:16},rich:{align:"center",text:{fontSize:14,color:"#fff",fontWeight:"500",padding:[15,0,5,0]}},color:"#fff"},tooltip:{formatter:e=>{if(e.seriesName!=="mouseoutSeries")return`${e.seriesName}<br/><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${e.color};"></span>${u.series[e.seriesIndex].pieData.number}`}},xAxis3D:{min:-1,max:1},yAxis3D:{min:-1,max:1},zAxis3D:{min:-1,max:1},grid3D:{left:"-10%",top:20,show:!1,boxHeight:5,viewControl:{alpha:40,rotateSensitivity:0,zoomSensitivity:0,panSensitivity:0,autoRotate:!1},postEffect:{enable:!0,bloom:{enable:!0,bloomIntensity:0},SSAO:{enable:!1,quality:"medium",radius:2}}},series:r};return u}option=getPie3D(data,.71);
