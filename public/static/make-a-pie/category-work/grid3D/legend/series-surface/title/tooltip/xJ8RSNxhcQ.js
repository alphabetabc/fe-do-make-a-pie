var{data,optionConfig}={data:[{name:"第一种形态",value:15,itemStyle:{color:"#7740F7"},startRatio:0,endRatio:.15},{name:"第二种形态",value:25,itemStyle:{color:"#2E4FF7"},startRatio:.15,endRatio:.4},{name:"第三种形态",value:10,itemStyle:{color:"#69CDE7"},startRatio:.4,endRatio:.5},{name:"第四种形态",value:20,itemStyle:{color:"#CC32F5"},startRatio:.5,endRatio:.7}],optionConfig:{}};const getPie3D=(a,s)=>{let t=[],m=0,i=0,c=0,d=[],f=typeof s<"u"?(1-s)/(1+s):1/3;for(let e=0;e<a.length;e++){m+=a[e].value;let n={name:typeof a[e].name>"u"?`series${e}`:a[e].name,type:"surface",parametric:!0,wireframe:{show:!1},pieData:a[e],pieStatus:{selected:!1,hovered:!1,k:f},labelLine:{show:!1},label:{show:!1},itemStyle:{opacity:1}};if(typeof a[e].itemStyle<"u"){let l={};typeof a[e].itemStyle.color<"u"&&(l.color=a[e].itemStyle.color),typeof a[e].itemStyle.opacity<"u"&&(l.opacity=a[e].itemStyle.opacity),n.itemStyle=l}t.push(n)}for(let e=0;e<t.length;e++)c=i+t[e].pieData.value,t[e].pieData.startRatio=i/m,t[e].pieData.endRatio=c/m,t[e].parametricEquation=getParametricEquation(t[e].pieData.startRatio,t[e].pieData.endRatio,!1,!1,f,t[e].pieData.value),i=c,d.push(t[e].name);let h={tooltip:{backgroundColor:"#053A8D",formatter:e=>{if(e.seriesName!=="mouseoutSeries")return`${e.seriesName}<br/><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${e.color};"></span>${h.series[e.seriesIndex].pieData.value}`}},labelLine:{show:!0},label:{show:!0},legend:{orient:"vertical",data:d,textStyle:{color:"rgba(150,202,223)",fontSize:12},itemWidth:10,itemHeight:10,icon:"roundRect",formatter:function(e){let n=data.filter(l=>l.name==e)[0];return`${n.name}  ${n.value}%`},left:"right",top:"30%"},xAxis3D:{min:-1.3,max:1.3},yAxis3D:{min:-1.3,max:1.3},zAxis3D:{min:-1.3,max:1.3},grid3D:{show:!1,boxHeight:4,top:"-12%",left:"-2%",viewControl:{distance:6e3,alpha:60,beta:10}},series:t};return h},getParametricEquation=(a,s,t,m,i,c)=>{let d=(a+s)/2,f=a*Math.PI*2,h=s*Math.PI*2,e=d*Math.PI*2;a===0&&s===1&&(t=!1),i=typeof i<"u"?i:1/3;let n=t?Math.cos(e)*.1:0,l=t?Math.sin(e)*.1:0,u=m?1.05:1;return{u:{min:-Math.PI,max:Math.PI*3,step:Math.PI/32},v:{min:0,max:Math.PI*2,step:Math.PI/20},x:function(o,r){return o<f?n+Math.cos(f)*(1+Math.cos(r)*i)*u:o>h?n+Math.cos(h)*(1+Math.cos(r)*i)*u:n+Math.cos(o)*(1+Math.cos(r)*i)*u},y:function(o,r){return o<f?l+Math.sin(f)*(1+Math.cos(r)*i)*u:o>h?l+Math.sin(h)*(1+Math.cos(r)*i)*u:l+Math.sin(o)*(1+Math.cos(r)*i)*u},z:function(o,r){return o<-Math.PI*.5||o>Math.PI*2.5?Math.sin(o):Math.sin(r)>0?1*c:-1}}};option=getPie3D(data,0);
