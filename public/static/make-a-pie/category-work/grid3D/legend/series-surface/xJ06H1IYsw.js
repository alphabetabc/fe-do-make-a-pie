function getParametricEquation(a,r,t,c,i){let f=(a+r)/2,s=a*Math.PI*2,u=r*Math.PI*2,e=f*Math.PI*2;a===0&&r===1&&(t=!1),i=typeof i<"u"?i:1/3;let n=t?Math.cos(e)*.1:0,m=t?Math.sin(e)*.1:0,h=c?1.05:1;return{u:{min:-Math.PI,max:Math.PI*3,step:Math.PI/32},v:{min:0,max:Math.PI*2,step:Math.PI/20},x:function(o,l){return o<s?n+Math.cos(s)*(1+Math.cos(l)*i)*h:o>u?n+Math.cos(u)*(1+Math.cos(l)*i)*h:n+Math.cos(o)*(1+Math.cos(l)*i)*h},y:function(o,l){return o<s?m+Math.sin(s)*(1+Math.cos(l)*i)*h:o>u?m+Math.sin(u)*(1+Math.cos(l)*i)*h:m+Math.sin(o)*(1+Math.cos(l)*i)*h},z:function(o,l){return o<-Math.PI*.5||o>Math.PI*2.5?Math.sin(o):Math.sin(l)>0?1:-1}}}function getPie3D(a,r){let t=[],c=0,i=0,f=0,s=[],u=typeof r<"u"?(1-r)/(1+r):1/3;for(let e=0;e<a.length;e++){c+=a[e].value;let n={name:typeof a[e].name>"u"?`series${e}`:a[e].name,type:"surface",parametric:!0,wireframe:{show:!1},pieData:a[e],pieStatus:{selected:!1,hovered:!1,k:u}};if(typeof a[e].itemStyle<"u"){let m={};typeof a[e].itemStyle.color<"u"&&(m.color=a[e].itemStyle.color),typeof a[e].itemStyle.opacity<"u"&&(m.opacity=a[e].itemStyle.opacity),n.itemStyle=m}t.push(n)}for(let e=0;e<t.length;e++)f=i+t[e].pieData.value,t[e].pieData.startRatio=i/c,t[e].pieData.endRatio=f/c,t[e].parametricEquation=getParametricEquation(t[e].pieData.startRatio,t[e].pieData.endRatio,!0,!1,.25),i=f,s.push(t[e].name);return t.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},clockwise:!1,itemStyle:{opacity:0,color:"rgba(18,236,252,.2)"},parametricEquation:{u:{min:0,max:Math.PI*2,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/1.4},x:function(e,n){return Math.sin(n)*Math.sin(e)+Math.sin(e)},y:function(e,n){return Math.sin(n)*Math.cos(e)+Math.cos(e)},z:function(e,n){return Math.cos(n)>0?.1:-.1}}}),option={legend:{show:!0,data:s},xAxis3D:{min:-1,max:1},yAxis3D:{min:-1,max:1},zAxis3D:{min:-1,max:1},grid3D:{show:!1,boxHeight:4,left:"0",bottom:"50%",viewControl:{alpha:20,rotateSensitivity:0,zoomSensitivity:0,panSensitivity:0,autoRotate:!0}},series:t},option}option=getPie3D([{name:"a",value:1,itemStyle:{color:"#03E5FF"}},{name:"b",value:1,itemStyle:{color:"#03E5FF"}},{name:"c",value:1,itemStyle:{color:"#03E5FF"}},{name:"d",value:1,itemStyle:{color:"#03E5FF"}},{name:"e",value:1,itemStyle:{color:"#03E5FF"}},{name:"f",value:1,itemStyle:{color:"#03E5FF"}},{name:"g",value:1,itemStyle:{color:"#03E5FF"}},{name:"h",value:1,itemStyle:{color:"rgba(3,55,129,1)"}},{name:"i",value:1,itemStyle:{color:"rgba(3,55,129,1)"}},{name:"j",value:1,itemStyle:{color:"rgba(3,55,129,1)"}}],.56);
