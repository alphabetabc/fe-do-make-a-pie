option={tooltip:{show:!0,formatter:function(t){return t.value[3]}},xAxis:[{type:"time",splitLine:{show:!1},min:new Date("2020-5-19 00:00:00"),max:new Date("2020-5-19 24:00:00")},{type:"time",splitLine:{show:!1},min:new Date("2020-5-19 00:00:00"),max:new Date("2020-5-19 24:00:00")}],yAxis:[{type:"category",data:["手术间一","手术间二"]}],dataZoom:[{show:!0,type:"slider",height:20,bottom:25,xAxisIndex:[0,1],textStyle:{color:"#000"}},{show:!0,orient:"vertical",type:"slider",right:40,width:20,start:0,end:100,textStyle:{color:"#000"}}],series:[{name:"背景板",type:"custom",renderItem,encode:{x:1,y:0,tooltip:2,label:3},z:1,itemStyle:{normal:{color:"white"}},label:{show:!0,position:"insideTopLeft",color:"red",formatter:function(t){return"{a|}{b| "+t.value[3]+"}"},rich:{a:{borderWidth:1,borderColor:"#4D4D4D"},b:{color:"black"}}},data:[{name:"手术1",value:[0,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00"),"阑尾手术","肝胆内科 张医生"]},{name:"手术2",value:[1,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00"),"阑尾手术","肝胆内科 张医生"]},{name:"手术3",value:[1,new Date("2020-5-19 17:00:00"),new Date("2020-5-19 22:00:00"),"阑尾手术","肝胆内科 李医生"]}]},{name:"折线背景",type:"custom",renderItem:renderItem4,encode:{x:1,y:0},z:2,itemStyle:{color:"#F0EFF5"},data:[{name:"手术1",value:[0,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00")]},{name:"手术2",value:[1,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00")]},{name:"手术3",value:[1,new Date("2020-5-19 17:00:00"),new Date("2020-5-19 22:00:00")]}]},{name:"顶部条",type:"custom",renderItem:renderItem2,tooltip:{show:!1},encode:{x:1,y:0},itemStyle:{color:"#007AFF"},data:[{name:"手术1",value:[0,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00")]},{name:"手术2",value:[1,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00")]},{name:"手术3",value:[1,new Date("2020-5-19 17:00:00"),new Date("2020-5-19 22:00:00")]}]},{name:"底部文字",type:"custom",renderItem:renderItem3,encode:{x:1,y:0},z:2,itemStyle:{normal:{color:"transparent"}},label:{show:!0,position:"insideBottomLeft",color:"red",formatter:function(t){return"{a|}{b| "+t.value[4]+"}"},rich:{a:{borderWidth:1,borderColor:"#4D4D4D"},b:{color:"black"}}},data:[{name:"手术1",value:[0,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00"),"阑尾手术","肝胆内科 张医生"]},{name:"手术2",value:[1,new Date("2020-5-19 09:00:00"),new Date("2020-5-19 15:00:00"),"阑尾手术","肝胆内科 张医生"]},{name:"手术3",value:[1,new Date("2020-5-19 17:00:00"),new Date("2020-5-19 22:00:00"),"阑尾手术","肝胆内科 李医生"]}]},{name:"开始时间",type:"line",symbol:"circle",symbolSize:4,z:3,itemStyle:{color:"red"},lineStyle:{color:"rgba(0,0,0,0)"},tooltip:{show:!0,formatter:function(t){return t.value[2]}},data:[[new Date("2020-5-19 10:00:00"),0,30],[new Date("2020-5-19 10:00:00"),1,30]]},{name:"结束时间",type:"line",symbol:"circle",symbolSize:4,z:3,itemStyle:{color:"green"},lineStyle:{color:"rgba(0,0,0,0)"},data:[[new Date("2020-5-19 11:00:00"),0,40],[new Date("2020-5-19 11:00:00"),1,40]]},{name:"间隔时间",type:"custom",renderItem:renderItem5,encode:{x:1,y:0,tooltip:2,label:3},z:5,itemStyle:{color:"orange"},label:{show:!0,position:"inside",color:"white"},data:[{name:"手术1",value:[0,new Date("2020-5-19 15:00:00"),new Date("2020-5-19 17:00:00"),"间隔时间","肝胆内科 张医生"]},{name:"手术2",value:[1,new Date("2020-5-19 15:00:00"),new Date("2020-5-19 17:00:00"),"间隔时间","肝胆内科 张医生"]}]},{name:"上班时间",type:"custom",renderItem:renderItem6,encode:{x:1,y:0},itemStyle:{color:"red"},z:4,data:[{name:"上班时间",value:[0,new Date("2020-5-19 9:00:00"),new Date("2020-5-19 9:02:00")]},{name:"上班时间",value:[1,new Date("2020-5-19 9:00:00"),new Date("2020-5-19 9:02:00")]}]},{name:"下班时间",type:"custom",renderItem:renderItem6,encode:{x:1,y:0},itemStyle:{color:"green"},z:4,data:[{name:"下班时间",value:[0,new Date("2020-5-19 17:00:00"),new Date("2020-5-19 17:02:00")]},{name:"下班时间",value:[1,new Date("2020-5-19 17:00:00"),new Date("2020-5-19 17:02:00")]}]}]};function renderItem6(t,e){var o=e.value(0),r=e.coord([e.value(1),o]),c=e.coord([e.value(2),o]),a=e.size([0,1])[1],n=echarts.graphic.clipRectByRect({x:r[0],y:r[1]-a/2,width:c[0]-r[0],height:a},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return n&&{type:"rect",shape:n,style:e.style()}}function renderItem5(t,e){var o=e.value(0),r=e.coord([e.value(1),o]),c=e.coord([e.value(2),o]),a=e.size([0,1])[1],n=a*.8,l=echarts.graphic.clipRectByRect({x:r[0],y:r[1]-n/2-a*.02,width:c[0]-r[0],height:n+a*.02},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return l&&{type:"rect",shape:l,style:e.style()}}function renderItem4(t,e){var o=e.value(0),r=e.coord([e.value(1),o]),c=e.coord([e.value(2),o]),a=e.size([0,1])[1],n=a*.2,l=echarts.graphic.clipRectByRect({x:r[0],y:r[1]-n/2,width:c[0]-r[0],height:n},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return l&&{type:"rect",shape:l,style:e.style()}}function renderItem3(t,e){var o=e.value(0),r=e.coord([e.value(1),o]),c=e.coord([e.value(2),o]),a=e.size([0,1])[1],n=a*.02,l=echarts.graphic.clipRectByRect({x:r[0],y:r[1]-a*-.38,width:c[0]-r[0],height:n},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return l&&{type:"rect",shape:l,style:e.style()}}function renderItem2(t,e){var o=e.value(0),r=e.coord([e.value(1),o]),c=e.coord([e.value(2),o]),a=e.size([0,1])[1],n=a*.02,l=echarts.graphic.clipRectByRect({x:r[0],y:r[1]-a*.42,width:c[0]-r[0],height:n},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return l&&{type:"rect",shape:l,style:e.style()}}function renderItem(t,e){var o=e.value(0),r=e.coord([e.value(1),o]),c=e.coord([e.value(2),o]),a=e.size([0,1])[1]*.8,n=echarts.graphic.clipRectByRect({x:r[0],y:r[1]-a/2,width:c[0]-r[0],height:a},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return n&&{type:"rect",shape:n,style:e.style()}}
