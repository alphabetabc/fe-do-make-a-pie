let topData=[1,3,1,2,1.2,1,3,1,2,1.2,1,3],timeData=["7:00","7:10","7:20","7:30","7:40","7:50","8:00","8:10","8:20","8:30","8:40","8:50"];var dat4=[[]];let start=0;function aa(r,t,l){option={title:{show:!1,text:"实时网络上传下载速率",textStyle:{align:"center",color:"#333",fontSize:20},top:"5%",left:"5%"},tooltip:{trigger:"axis",formatter:function(e){var a="";a+="<div>"+e[0].name+"</div>";for(var o=0;o<e.length;o++)a+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:linear-gradient(180deg, #44C9EC 0%, #046E86 100%);"></span>'+e[o].seriesName+"</span> : <span>"+e[o].data+"人</br>";return a}},grid:{top:"5%",left:"5%",right:"5%",bottom:"8%",containLabel:!0},backgroundColor:"#080b30",xAxis:[{type:"category",axisLine:{show:!0,lineStyle:{color:"#2B4B99"}},axisLabel:{color:"#8FBEE7"},splitLine:{show:!1,lineStyle:{color:"#2B4B99"}},boundaryGap:!1,data:timeData}],yAxis:[{type:"value",min:0,splitNumber:6,splitLine:{show:!0,lineStyle:{color:"#2B4B99"}},axisLine:{show:!0,lineStyle:{color:"#2B4B99"}},axisLabel:{show:!0,margin:20,formatter:"{value} K",textStyle:{fontSize:14,color:"#8FBEE7"}},axisTick:{show:!0}}],dataZoom:[{show:!0,height:20,bottom:8,start:l,end:100,backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"rgba(9,162,117,0.3)",handleColor:"rgba(0,255,255,0.8)",textStyle:{color:"rgba(0,255,255,1)",paddingLeft:20}},{type:"inside",start:l,end:100}],series:[{name:"客流量",type:"line",smooth:!1,showAllSymbol:!0,symbolSize:0,lineStyle:{normal:{width:3,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#44C9EC"},{offset:1,color:"#046E86"}],!1),shadowColor:"rgba(0, 0, 0, 0)",shadowBlur:0,shadowOffsetY:5,shadowOffsetX:5}},label:{show:!1,position:"top",textStyle:{color:"#FFF",fontSize:14}},itemStyle:{borderColor:"rgb(108,78,0)",borderWidth:0,shadowColor:"rgba(0, 0, 0, 0)",shadowBlur:0,shadowOffsetY:0,shadowOffsetX:0},tooltip:{show:!0},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#56FFE1"},{offset:1,color:"rgba(91, 235, 177, 0.2)"}],!1),opacity:.3,shadowColor:"rgba(108,80,243, 0.9)",shadowBlur:20}},data:t}]}}var pushIdx=0,intervalId=setInterval(function(){var r=pushIdx;dat4[0].push([r,topData[r]]),pushIdx+=1,aa(timeData,dat4[0],start),pushIdx>topData.length&&(clearInterval(intervalId),goTo()),myChart.setOption(option)},500);function goTo(){var r=setInterval(()=>{let t=new Date,l=t.getHours(),e=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),a=l+":"+e;timeData.push(a);let o=Math.random()*2;topData.push(o.toFixed(2)),topData.length>=10?start=topData.length-10:start=0,myChart.setOption(option),aa(timeData,topData,start),console.log(timeData.length)},6e3)}
