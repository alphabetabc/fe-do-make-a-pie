function formatTime(e){var t=new Date(e),a="-",r=":",o=t.getMonth()+1,s=t.getDate(),i=t.getHours(),l=t.getMinutes(),n=t.getSeconds();o>=1&&o<=9&&(o="0"+o),s>=0&&s<=9&&(s="0"+s),i>=0&&i<=9&&(i="0"+i),l>=0&&l<=9&&(l="0"+l),n>=0&&n<=9&&(n="0"+n);var f=i+r+l;return f}function formatY(e){let t;return e=="1"?t="一级":e=="2"?t="二级":e=="3"?t="三级":e=="4"?t="四级":e=="5"?t="五级":t="开始",t}var datax=["10:00","10:05","10:10","10:15","10:20","10:25","10:30","10:35","10:40","10:45","10:50"],startTime="1611715974",statusStr="饱满,无,一般|饱满,无,较好|较好,明显,一般|饱满,无,较好|饱满,无,一般|饱满,无,一般|饱满,无,正常|饱满,无,较好|饱满,无,很好|饱满,无,差|较好,轻微,差|较好,有,差|较好,隐性,一般|饱满,无,很好|饱满,无,差|饱满,无,很好|中等,轻微,一般|饱满,无,一般|饱满,无,一般|中等,轻微,差|饱满,无,较好|饱满,无,差|饱满,无,一般|饱满,无,正常|饱满,无,很好|饱满,无,差|较好,有,一般|较好,隐性,很好|饱满,无,很好|饱满,无,很好|饱满,无,一般|饱满,轻微,一般|饱满,无,正常|中等,轻微,差|较好,轻微,一般|饱满,无,一般|饱满,无,正常|较好,隐性,正常|饱满,轻微,一般|较差,轻微,差|饱满,轻微,正常|饱满,轻微,差|饱满,轻微,一般|中等,轻微,一般|饱满,无,一般|饱满,无,一般|中等,轻微,差|饱满,轻微,一般";statusStr=statusStr.split("|");let flag=0,js=[],pl=[],gz=[],timeList=[];for(let e=0;e<statusStr.length;e++){let t=statusStr[e].split(",");for(let a=0;a<t.length;a++){let r=t[a];a=="0"?r=="较差"?js.push(1):r=="略差"?js.push(2):r=="中等"?js.push(3):r=="较好"?js.push(4):js.push(5):a=="1"?r=="无"?pl.push(1):r=="隐性"?pl.push(2):r=="轻微"?pl.push(3):r=="有"?pl.push(4):pl.push(5):r=="差"?gz.push(1):r=="一般"?gz.push(2):r=="正常"?gz.push(3):r=="较好"?gz.push(4):gz.push(5)}timeList.push(startTime*1),startTime=startTime*1+60}let stackjs=[],stackpl=[],stackgz=[],demodata=[];for(let e=0;e<js.length;e++)stackjs.push(js[e]*1-1),stackpl.push(pl[e]*1-1),stackgz.push(gz[e]*1-1),demodata.push(1);console.log(js,pl);let demodatapl=[];for(let e=0;e<demodata.length;e++){let t;e%2=="0"?t={value:1,itemStyle:{color:"#a90000",borderColor:"#a90000"}}:t={value:1,itemStyle:{color:"#ff6000",borderColor:"#ff6000"}},demodatapl.push(t)}option={title:{text:"指标示例",left:"left",top:0},legend:{show:!0},dataZoom:[{type:"inside",xAxisIndex:[0,1,2],zoomLock:!0}],grid:[{left:"4%",top:"4%",width:"90%",height:"22%",containLabel:"true"},{left:"4%",top:"34%",width:"90%",height:"22%",containLabel:"true"},{left:"4%",top:"64%",width:"90%",height:"22%",containLabel:"true"}],tooltip:{trigger:"axis",axisPointer:{type:"cross"},textStyle:{color:"red"},backgroundColor:"rgba(255, 255, 255, 1)",borderColor:"#b6d88e",borderWidth:1,extraCssText:"width: 140px"},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"red",formatter:function(e){if(console.log("res",e),e.axisDimension=="x")return formatTime(e.value*1e3);if(console.log(e),e.value*1<=1)return"一级";if(e.value<=2)return"二级";if(e.value<=3)return"三级";if(e.value<=4)return"四级";if(e.value<=5)return"五级"}},borderColor:"#b6d88e"},xAxis:[{gridIndex:0,splitLine:{show:!0},data:timeList,axisLabel:{formatter:function(e){return formatTime(e*1e3)}}},{gridIndex:1,data:timeList,axisLabel:{formatter:function(e){return formatTime(e*1e3)}}},{gridIndex:2,data:timeList,axisLabel:{formatter:function(e){return formatTime(e*1e3)}}}],yAxis:[{gridIndex:0,min:0,max:5,axisLabel:{formatter:function(e){return formatY(e)}},splitLine:{}},{gridIndex:1,min:0,max:5,axisLabel:{formatter:function(e){return formatY(e)}}},{gridIndex:2,min:0,max:5,axisLabel:{formatter:function(e){return formatY(e)}}}],series:[{name:"",type:"line",xAxisIndex:0,yAxisIndex:0,stack:"js",data:stackjs,barWidth:"100%",symbol:!1,symbolSize:0,smooth:.5,tooltip:{show:!1},itemStyle:{},areaStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 158, 68)"},{offset:1,color:"rgb(255, 70, 131)"}])}},{name:"",type:"bar",xAxisIndex:1,yAxisIndex:1,data:stackpl,stack:"pl",barWidth:"100%",tooltip:{show:!1},itemStyle:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)"}},{name:"II",type:"bar",xAxisIndex:1,yAxisIndex:1,data:demodatapl,stack:"pl",barWidth:"100%"},{name:"",type:"bar",xAxisIndex:2,yAxisIndex:2,data:stackgz,tooltip:{show:!1},stack:"gz",barWidth:"100%",itemStyle:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)"}},{name:"III",type:"bar",xAxisIndex:2,yAxisIndex:2,data:demodata,stack:"gz",barWidth:"100%",itemStyle:{color:"#366fab",borderColor:"#366fab"}}]};
