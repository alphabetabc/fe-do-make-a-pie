var uploadedDataURL="/asset/get/s/data-1602667300728-ALVbYCu0E.json";$.ajax({type:"get",url:uploadedDataURL,dataType:"json",success:function(e){setData(e.result)},error:function(e){console.log("获取数据失败!")}});let Hours=[],inFlow=[],innerFlow=[],outFlow=[];function setData(e){for(let o=0;o<e.length;o++)e[o].Hours=timeConvert(e[o].recordTime),Hours.push(e[o].Hours),inFlow.push(e[o].inFlow),innerFlow.push(e[o].innerFlow),outFlow.push(e[o].outFlow);setOption(),console.log(inFlow)}function timeConvert(e){e=e+"",e=e.length==10?e*1e3:e;let o=new Date(e),s=o.getFullYear(),t=o.getMonth()+1;t=t<10?"0"+t:t;let r=o.getDate();r=r<10?"0"+r:r;let l=o.getHours();l=l<10?"0"+l:l;let n=o.getMinutes(),a=o.getSeconds();return n=n<10?"0"+n:n,a=a<10?"0"+a:a,r+"日 "+l+":"+n+":"+a}function setOption(){option={backgroundColor:"#021228",title:{text:"流量 （Mbps/Mpps）",textStyle:{fontSize:12,fontWeight:"normal",color:"#99c8e7"},left:"0%"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"5px",top:"25px",right:"20px",bottom:"30px",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#033e59",width:.5}},axisLabel:{show:!0,textStyle:{color:"#99c8e7",fontSize:12},formatter:function(e){let o="",s=e.substring(0,3)+`
`,t=e.substring(3,12);return o=s+t,o}},data:Hours},yAxis:{type:"value",boundaryGap:[0,"100%"],axisLine:{onZero:!1,lineStyle:{color:"#033e59",width:1}},axisLabel:{show:!0,textStyle:{color:"#99c8e7"}},splitLine:{show:!0,lineStyle:{color:"#105b8a",width:1,type:"solid"}}},dataZoom:[{type:"slider",start:0,end:10,height:20,backgroundColor:"rgba(2,96,171,0.5)",dataBackground:{lineStyle:{color:"#fff9c1",width:1}},fillerColor:"rgba(53,204,251,0.2)",borderColor:"rgba(53,204,251,0.9)",handleSize:"80%",handleStyle:{color:"#a0f1fb",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2},textStyle:{color:"#fff"},bottom:5}],series:[{name:"流入流量",type:"line",smooth:!0,symbol:"none",itemStyle:{color:"#1cccff",emphasis:{color:"#1cccff"}},lineStyle:{width:1,type:"solid",color:"#1cccff"},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(28,204,255,0.5)"},{offset:.5,color:"rgba(28,204,255,0.3)"},{offset:1,color:"transparent"}])}},data:inFlow},{name:"流出流量",type:"line",smooth:!0,symbol:"none",itemStyle:{color:"#9c27b0",emphasis:{color:"#9c27b0"}},lineStyle:{width:1,type:"solid",color:"#9c27b0"},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(156,39,176,0.5)"},{offset:.5,color:"rgba(156,39,176,0.3)"},{offset:1,color:"transparent"}])}},data:outFlow},{name:"内部流量",type:"line",smooth:!0,symbol:"none",itemStyle:{color:"#0027ff",emphasis:{color:"#0027ff"}},lineStyle:{width:1,type:"solid",color:"#0027ff"},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0,39,255,0.5)"},{offset:.5,color:"rgba(0,39,255,0.3)"},{offset:1,color:"transparent"}])}},data:innerFlow}]},myChart.setOption(option)}
