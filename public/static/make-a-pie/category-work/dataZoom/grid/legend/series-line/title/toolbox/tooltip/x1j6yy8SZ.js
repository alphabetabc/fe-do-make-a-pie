option={title:{text:"环境状态消息",subtext:"实时更新"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["温度","光照强度","湿度"]},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var a=new Date,t=[],e=10;e--;)t.unshift(a.toLocaleTimeString().replace(/^\D*/,"")),a=new Date(a-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var a=[],t=10;t--;)a.push(10-t-1);return a}()}],yAxis:[{type:"value",scale:!0,name:"温度/湿度",max:80,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"光照强度",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"光照强度",type:"line",smooth:!0,xAxisIndex:1,yAxisIndex:1,data:function(){for(var a=[],t=10;t--;)a.push(Math.round(Math.random()*200+800));return a}()},{name:"温度",type:"line",smooth:!0,areaStyle:{},data:function(){for(var a=[],t=0;t<10;)a.push((Math.random()*5+15).toFixed(1)-0),t++;return a}()},{name:"湿度",type:"line",smooth:!0,data:function(){for(var a=[],t=0;t<10;)a.push((Math.random()*5+30).toFixed(1)-0),t++;return a}()}]},app.count=11,setInterval(function(){axisData=new Date().toLocaleTimeString().replace(/^\D*/,"");var a=option.series[0].data,t=option.series[1].data,e=option.series[2].data;a.shift(),a.push(Math.round(Math.random()*200+800)),t.shift(),t.push((Math.random()*5+15).toFixed(1)-0),e.shift(),e.push((Math.random()*5+30).toFixed(1)-0),option.xAxis[0].data.shift(),option.xAxis[0].data.push(axisData),option.xAxis[1].data.shift(),option.xAxis[1].data.push(app.count++),myChart.setOption(option)},2100);
