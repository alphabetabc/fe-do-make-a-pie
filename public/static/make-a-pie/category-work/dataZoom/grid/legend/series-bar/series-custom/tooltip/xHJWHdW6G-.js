var yearCount=5,categoryCount=12,xAxisData=[],customData=[],legendData=[],dataList=[];legendData.push("港口通过能力");for(var encodeY=[],i=0;i<yearCount;i++)legendData.push(2010+i+""),dataList.push([]),encodeY.push(1+i);for(var i=0;i<categoryCount;i++){var val=Math.random()*1e3;xAxisData.push("category"+i);var customVal=[i];customData.push(customVal);for(var data=dataList[0],j=0;j<dataList.length;j++){var value=j===0?echarts.number.round(val,2):echarts.number.round(Math.max(0,dataList[j-1][i]+(Math.random()-.5)*200),2);dataList[j].push(value),customVal.push(value)}}function renderItem(e,a){for(var u=a.value(0),t=a.currentSeriesIndices(),d=a.barLayout({barGap:"30%",barCategoryGap:"20%",count:t.length-1}),o=[],r=0;r<t.length;r++){var s=t[r];if(s!==e.seriesIndex){var n=a.coord([u,a.value(s)]);n[0]+=d[r-1].offsetCenter,n[1]-=20,o.push(n)}}var l=a.style({stroke:a.visual("color"),fill:null});return{type:"polyline",shape:{points:o},style:l}}option={tooltip:{trigger:"axis"},legend:{data:legendData},dataZoom:[{type:"slider",start:50,end:70},{type:"inside",start:50,end:70}],xAxis:{data:xAxisData},yAxis:{},series:[{type:"custom",name:"trend",renderItem,itemStyle:{normal:{borderWidth:2}},encode:{x:0,y:encodeY},data:customData,z:100}].concat(echarts.util.map(dataList,function(e,a){return{type:"bar",animation:!1,name:legendData[a+1],itemStyle:{normal:{opacity:.5}},data:e}}))};
