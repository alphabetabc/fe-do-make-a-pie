dataXName=["淑阳镇","莒口镇","安平镇","刘宋镇","五百户镇"],dataYbar=[66,50,43,55,37],dataYbar2=[55,42,46,75,38],dataYline=[40,20,65,25,30],dataTNam=["累计热量(GJ)","累计流量(T)","环比(%)"],option={tooltip:{trigger:"axis"},backgroundColor:"#FAFAFA",axisLabel:{interval:0,formatter:function(a){debugger;var t="",e=2,r=a.length,i=Math.ceil(r/e);if(i>1){for(var o=0;o<i;o++){var l="",n=o*e,s=n+e;l=a.substring(n,s)+`
`,t+=l}return t}else return a}},legend:{data:dataTNam,top:"1%"},dataZoom:[{type:"slider",realtime:!0,handleSize:"100%",start:0,end:80}],xAxis:[{data:dataXName,axisPointer:{type:"shadow"},axisLine:{lineStyle:{color:"#D2D2D2"}},axisTick:{show:!0},axisLabel:{show:!0,textStyle:{color:"#35346F"}}}],yAxis:[{type:"value",splitLine:{show:!0},nameTextStyle:{},axisTick:{show:!0},axisLine:{show:!0,lineStyle:{color:"#D2D2D2"}},axisLabel:{show:!0,textStyle:{color:"#D2D2D2"}}},{type:"value",splitLine:{show:!1},name:"(%)",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#898AAE"}}}],series:[{name:dataTNam[0],type:"bar",barWidth:20,itemStyle:{normal:{barBorderRadius:[10,10,0,0],emphasis:{barBorderRadius:[8,8,0,0]},color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00feff"},{offset:.5,color:"#4693EC"},{offset:1,color:"#027eff"}])}},data:dataYbar2,markLine:{silent:!0,data:[{yAxis:10}]}},{name:dataTNam[1],type:"bar",barWidth:20,itemStyle:{normal:{barBorderRadius:[10,10,0,0],emphasis:{barBorderRadius:[8,8,0,0]},color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#f6d365"},{offset:.5,color:"#fee140"},{offset:1,color:"#f9d423"}])}},data:dataYbar},{name:dataTNam[2],type:"line",yAxisIndex:1,data:dataYline,itemStyle:{normal:{color:"#35346F",lineStyle:{color:"#35346F"}}}}]},myChart.on("click",function(a){console.log("echarts图：",a),a.componentType=="xAxis"?(console.log(1111),alert("单击了"+a.value+"x轴标签")):(console.log(2222),alert("单击了"+a.name+"柱状图"))}),autoFn(dataXName.length);function autoFn(a){var t=this,e=-1,r=a;t.timer=setInterval(()=>{t.ai++,t.ai==r&&(t.ai=1),console.log(r),myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:e}),e=(e+1)%r,myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:e})},3e3)}
