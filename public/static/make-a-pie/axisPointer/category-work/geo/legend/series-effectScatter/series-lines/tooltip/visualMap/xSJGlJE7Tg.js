var uploadedDataURL="/asset/get/s/data-1491362911797-SkuvE1zpe.json";$.get(uploadedDataURL,function(f){echarts.registerMap("guangzhou",f);var m={天河区:[113.368672,23.130389],黄埔区:[113.466408,23.111777],海珠区:[113.323254,23.089173],越秀区:[113.272949,23.135441],荔湾区:[113.250815,23.131453],白云区:[113.278986,23.164151],南沙区:[113.530511,22.808027],花都区:[113.225806,23.412711],增城区:[113.817106,23.267509],从化区:[113.593464,23.555101],番禺区:[113.391669,22.943615]},c=[[{name:"增城区"},{name:"番禺区",value:95}],[{name:"增城区"},{name:"从化区",value:90}],[{name:"增城区"},{name:"天河区",value:80}],[{name:"增城区"},{name:"花都区",value:70}],[{name:"增城区"},{name:"南沙区",value:60}],[{name:"增城区"},{name:"白云区",value:50}],[{name:"增城区"},{name:"荔湾区",value:40}],[{name:"增城区"},{name:"越秀区",value:30}],[{name:"增城区"},{name:"海珠区",value:20}],[{name:"增城区"},{name:"增城区",value:10}],[{name:"增城区"},{name:"黄埔区",value:10}]],s=[[{name:"南沙区"},{name:"黄埔区",value:95}],[{name:"南沙区"},{name:"海珠区",value:90}],[{name:"南沙区"},{name:"越秀区",value:80}],[{name:"南沙区"},{name:"荔湾区",value:70}],[{name:"南沙区"},{name:"天河区",value:60}],[{name:"南沙区"},{name:"白云区",value:50}],[{name:"南沙区"},{name:"花都区",value:40}],[{name:"南沙区"},{name:"增城区",value:30}],[{name:"南沙区"},{name:"从化区",value:20}],[{name:"南沙区"},{name:"番禺区",value:10}]],i=[[{name:"海珠区"},{name:"黄埔区",value:95}],[{name:"海珠区"},{name:"白云区",value:90}],[{name:"海珠区"},{name:"越秀区",value:80}],[{name:"海珠区"},{name:"荔湾区",value:70}],[{name:"海珠区"},{name:"天河区",value:60}],[{name:"海珠区"},{name:"南沙区",value:50}],[{name:"海珠区"},{name:"花都区",value:40}],[{name:"海珠区"},{name:"增城区",value:30}],[{name:"海珠区"},{name:"从化区",value:20}],[{name:"海珠区"},{name:"番禺区",value:10}]],h=[[{name:"从化区"},{name:"黄埔区",value:95}],[{name:"从化区"},{name:"白云区",value:90}],[{name:"从化区"},{name:"越秀区",value:80}],[{name:"从化区"},{name:"荔湾区",value:70}],[{name:"从化区"},{name:"天河区",value:60}],[{name:"从化区"},{name:"南沙区",value:50}],[{name:"从化区"},{name:"花都区",value:40}],[{name:"从化区"},{name:"增城区",value:30}],[{name:"从化区"},{name:"海珠区",value:20}],[{name:"从化区"},{name:"番禺区",value:10}]],p=[[{name:"花都区"},{name:"黄埔区",value:95}],[{name:"花都区"},{name:"白云区",value:90}],[{name:"花都区"},{name:"越秀区",value:80}],[{name:"花都区"},{name:"荔湾区",value:70}],[{name:"花都区"},{name:"天河区",value:60}],[{name:"花都区"},{name:"南沙区",value:50}],[{name:"花都区"},{name:"从化区",value:40}],[{name:"花都区"},{name:"增城区",value:30}],[{name:"花都区"},{name:"海珠区",value:20}],[{name:"花都区"},{name:"番禺区",value:10}]],y="path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",u=function(e){for(var n=[],a=0;a<e.length;a++){var l=e[a],t=m[l[0].name],v=m[l[1].name];t&&v&&n.push({fromName:l[0].name,fromValue:l[1].value,toName:l[1].name,coords:[t,v]})}return n},r=["#a6c84c","#ffa022","#46bee9","#ff3399","#D15FEE"],o=[];[["增城区",c],["南沙区",s],["海珠区",i],["从化区",h],["花都区",p]].forEach(function(e,n){o.push({name:e[0],type:"lines",zlevel:1,effect:{show:!0,period:6,trailLength:.7,color:"#fff",symbolSize:3,shadowBlur:4.4},lineStyle:{normal:{color:r[n],width:0,curveness:.2}},data:u(e[1])},{name:e[0],type:"lines",zlevel:2,symbol:["none","arrow"],symbolSize:10,effect:{show:!0,period:6,trailLength:0,symbolSize:6},lineStyle:{normal:{color:r[n],width:1,opacity:.5,curveness:.2}},data:u(e[1])},{name:e[0],type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{brushType:"stroke"},label:{normal:{show:n==0,position:"right",formatter:"{b}"}},symbolSize:function(a){return a[2]/10},itemStyle:{normal:{color:r[n]}},data:e[1].map(function(a){return{name:a[1].name,value:m[a[1].name].concat([a[1].value])}})})});var g={tooltip:{trigger:"item",formatter:function(e){return e.data.fromName?e.data.fromName+" > "+e.data.toName+" <br/>流量数 : "+e.data.fromValue:e.name+"<br/>流向广州人数："+e.value[2]}},legend:{orient:"vertical",top:"5%",left:"right",data:["增城区","南沙区","海珠区","从化区","花都区"],textStyle:{color:"#fff"},selectedMode:"mutipla",bottom:"50%"},visualMap:{min:0,max:100,calculable:!0,inRange:{color:["#50a3ba","#eac736","#d94e5d"]},textStyle:{color:"#fff"},bottom:"10%"},geo:{map:"guangzhou",label:{emphasis:{show:!0,textStyle:{color:"#fff"}}},itemStyle:{normal:{areaColor:"#171717",borderColor:"#48669B"},emphasis:{areaColor:"gray"}}},series:o};myChart.setOption(g)});
