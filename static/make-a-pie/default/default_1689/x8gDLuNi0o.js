for(var nodes=[{x:"0",y:"850",nodeName:"特殊成分管理",img:"data-1547633192258-2EYYUDdcd.png"},{x:"150",y:"850",nodeName:`成分确认总
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"300",y:"850",nodeName:`外送电量调整
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"150",y:"450",nodeName:`横向数据抽取
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"150",y:"250",nodeName:`上报数据总
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"300",y:"450",nodeName:`电厂上网电量计算
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"300",y:"250",nodeName:`电厂上网电量校验
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"400",y:"650",nodeName:`数据准备
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"500",y:"650",nodeName:`电厂成分清分总
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"600",y:"650",nodeName:`超发电量确认
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"700",y:"650",nodeName:`日前实时共享备用
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"800",y:"650",nodeName:`电厂结算
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"900",y:"650",nodeName:`电厂结算结果校核
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"1000",y:"850",nodeName:`电厂报表发布
完成率`,img:"data-1547633192258-2EYYUDdcd.png"},{x:"1000",y:"450",nodeName:`电厂报表确认
完成率`,img:"data-1547633192258-2EYYUDdcd.png"}],charts={nodes:[],linesData:[{remark:"特殊成分管理-->成分确认",coords:[[0,850],[150,850]]},{remark:"成分确认-->外送电量调整",coords:[[150,850],[300,850]]},{remark:"外送电量调整-->数据准备完成率",coords:[[300,850],[350,850],[350,650],[400,650]]},{remark:"横向数据抽取完成率-->-->上网电量",coords:[[150,450],[150,350],[300,350]]},{remark:"上报数据完成率-->-->上网电量",coords:[[150,250],[150,350],[300,350]]},{remark:"上网电量-->数据准备完成率",coords:[[300,450],[300,350]]},{remark:"上网电量-->数据准备完成率",coords:[[300,250],[300,350],[350,350],[350,650],[400,650]]},{remark:"数据准备-->成分清分",coords:[[400,650],[500,650]]},{remark:"成分清分-->超发电量",coords:[[500,650],[600,650]]},{remark:"超发电量-->实时共享",coords:[[600,650],[700,650]]},{remark:"实时共享-->电厂结算",coords:[[700,650],[800,650]],lineStyle:{normal:{color:"#DC143C"}},effect:{color:"#DC143C"}},{remark:"电厂结算-->结果校核",coords:[[800,650],[900,650]]},{remark:"结果校核-->报表发布",coords:[[900,650],[1e3,650],[1e3,850]]},{remark:"报表发布-->报表确认",coords:[[1e3,850],[1e3,450]]}]},j=0;j<nodes.length;j++){var x=parseInt(nodes[j].x),y=parseInt(nodes[j].y),node={nodeName:nodes[j].nodeName,value:[x,y],symbolSize:50,alarm:nodes[j].alarm,symbol:"image:///asset/get/s/"+nodes[j].img,itemStyle:{normal:{color:"#12b5d0"}}};charts.nodes.push(node)}option={backgroundColor:"#fff",xAxis:{min:0,max:1e3,show:!1,type:"value"},yAxis:{min:0,max:1e3,show:!1,type:"value"},series:[{type:"graph",coordinateSystem:"cartesian2d",label:{normal:{show:!0,position:"bottom",color:"#0ca361"}},itemStyle:{normal:{label:{show:!0,formatter:function(e){return e.data.nodeName}}}},data:charts.nodes},{type:"lines",polyline:!0,coordinateSystem:"cartesian2d",lineStyle:{normal:{width:2,color:"#0ca361",curveness:.3}},effect:{show:!0,trailLength:.1,symbol:"arrow",color:"#0ca361",symbolSize:8},data:charts.linesData}]},setInterval(()=>{for(var e=[],o=0;o<nodes.length;o++){var r=nodes[o].alarm;r&&(option.series[0].data[o].symbolSize=60,option.series[0].data[o].label={normal:{color:"#DC143C"}},option.series[0].itemStyle.normal.label.formatter=function(a){return a.data.alarm?a.data.nodeName+`
[ `+a.data.alarm+" ]":a.data.nodeName},e.push(o))}myChart.setOption(option),setTimeout(()=>{for(var a=0;a<e.length;a++)option.series[0].data[e[a]].symbolSize=50,option.series[0].data[e[a]].label={normal:{color:"#0ca361"}},option.series[0].itemStyle.normal.label.formatter=function(d){return d.data.nodeName};myChart.setOption(option)},500)},1e3);
