var uploadedDataURL="/asset/get/s/data-1509618385039-rktRfuu0-.json",couriers=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];$.get(uploadedDataURL,function(l){l=JSON.parse(l);var e=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],t=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];function c(a){a.map(function(r,s){var y=300/(r.length-1);r.map(function(i,p){let d=[];for(var o=0;o<i.length;o++)d.push([i[o].lng,i[o].lat]);e[s].push({coords:d,lineStyle:{normal:{color:"yellow"}}})})}),localStorage.setItem("couriersData",JSON.stringify(e)),localStorage.setItem("convertData",JSON.stringify(t))}if(localStorage.getItem("couriersData")&&localStorage.getItem("convertData"))e=JSON.parse(localStorage.getItem("couriersData")),t=JSON.parse(localStorage.getItem("convertData"));else{var m=new BMap.Map("bmap");for(let a=0;a<l.length;a++){var n=0;for(let r=0;r<l[a].length;r++)l[a][r].bVcdflon===l[a][r].eVcdflon&&l[a][r].bVcdflat===l[a][r].eVcdflat?(t[a].push({name:l[a][r].rn,value:[l[a][r].eVcdflon,l[a][r].eVcdflat]}),n+=1):function(){var s=new BMap.DrivingRoute(m),y=new BMap.Point(l[a][r].bVcdflon,l[a][r].bVcdflat),i=new BMap.Point(l[a][r].eVcdflon,l[a][r].eVcdflat);s.search(y,i),s.setSearchCompleteCallback(function(){couriers[a].push(s.getResults().getPlan(0).getRoute(0).getPath()),a===l.length-1&&couriers[a].length===l[a].length-n&&c(couriers)})}()}}myChart.setOption(option={baseOption:{animationDurationUpdate:2e3,animationEasingUpdate:"quinticInOut",animation:!1,timeline:{autoPlay:!0,axisType:"time",orient:"vertical",currentIndex:18,playInterval:2e3,right:0,top:20,bottom:20,width:55,height:null,itemStyle:{normal:{color:"#04a5f1"},emphasis:{color:"#04a5f1"}},lineStyle:{color:"#ddd"},checkpointStyle:{color:"#04a5f1",borderColor:"rgba(4, 165, 261, .5)"},data:["2017/10/21 01:00","2017/10/21 02:00","2017/10/21 03:00","2017/10/21 04:00","2017/10/21 05:00","2017/10/21 06:00","2017/10/21 07:00","2017/10/21 08:00","2017/10/21 09:00","2017/10/21 10:00","2017/10/21 11:00","2017/10/21 12:00","2017/10/21 13:00","2017/10/21 14:00","2017/10/21 15:00","2017/10/21 16:00","2017/10/21 17:00","2017/10/21 18:00","2017/10/21 19:00","2017/10/21 20:00","2017/10/21 21:00","2017/10/21 22:00","2017/10/21 23:00"]},bmap:{center:[113.527882,22.204539],zoom:12,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#031628"}},{featureType:"land",elementType:"geometry",stylers:{color:"#000102"}},{featureType:"poi",elementType:"labels",stylers:{visibility:"off"}},{featureType:"highway",elementType:"all",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#0b3d51"}},{featureType:"local",elementType:"geometry",stylers:{color:"#000000"}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#08304b"}},{featureType:"subway",elementType:"geometry",stylers:{lightness:-70}},{featureType:"building",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"all",elementType:"labels.text.fill",stylers:{color:"#857f7f"}},{featureType:"all",elementType:"labels.text.stroke",stylers:{color:"#000000"}},{featureType:"building",elementType:"geometry",stylers:{color:"#022338"}},{featureType:"green",elementType:"geometry",stylers:{color:"#062032"}},{featureType:"boundary",elementType:"all",stylers:{color:"#465b6c"}},{featureType:"manmade",elementType:"all",stylers:{color:"#022338"}},{featureType:"label",elementType:"all",stylers:{visibility:"off"}}]}},title:{bottom:"10%",right:"25%",textStyle:{color:"#dbdbdb"}},series:[{type:"lines",coordinateSystem:"bmap",polyline:!0,silent:!0,lineStyle:{normal:{opacity:.2,width:2}},progressiveThreshold:500,progressive:200},{type:"lines",coordinateSystem:"bmap",polyline:!0,lineStyle:{normal:{width:0}},effect:{constantSpeed:50,show:!0,trailLength:.1,symbolSize:2},zlevel:5},{type:"scatter",coordinateSystem:"bmap",label:{normal:{show:!1}},symbolSize:2,itemStyle:{normal:{color:"yellow"}},zlevel:1}]},options:[{title:{text:"珠海市快递员0: 00 - 1：00流动"},series:[{data:e[0]},{data:e[0]},{data:t[0]}]},{title:{text:"珠海市快递员1: 00 - 2：00流动"},series:[{data:e[1]},{data:e[1]},{data:t[1]}]},{title:{text:"珠海市快递员2: 00 - 3：00流动"},series:[{data:e[2]},{data:e[2]},{data:t[2]}]},{title:{text:"珠海市快递员3: 00 - 4：00流动"},series:[{data:e[3]},{data:e[3]},{data:t[3]}]},{title:{text:"珠海市快递员4: 00 - 5：00流动"},series:[{data:e[4]},{data:e[4]},{data:t[4]}]},{title:{text:"珠海市快递员5: 00 - 6：00流动"},series:[{data:e[5]},{data:e[5]},{data:t[5]}]},{title:{text:"珠海市快递员6: 00 - 7：00流动"},series:[{data:e[6]},{data:e[6]},{data:t[6]}]},{title:{text:"珠海市快递员7: 00 - 8：00流动"},series:[{data:e[7]},{data:e[7]},{data:t[7]}]},{title:{text:"珠海市快递员8: 00 - 9：00流动"},series:[{data:e[8]},{data:e[8]},{data:t[8]}]},{title:{text:"珠海市快递员9: 00 - 10：00流动"},series:[{data:e[9]},{data:e[9]},{data:t[9]}]},{title:{text:"珠海市快递员10: 00 - 11：00流动"},series:[{data:e[10]},{data:e[10]},{data:t[10]}]},{title:{text:"珠海市快递员11: 00 - 12：00流动"},series:[{data:e[11]},{data:e[11]},{data:t[11]}]},{title:{text:"珠海市快递员12: 00 - 13：00流动"},series:[{data:e[12]},{data:e[12]},{data:t[12]}]},{title:{text:"珠海市快递员13: 00 - 14：00流动"},series:[{data:e[13]},{data:e[13]},{data:t[13]}]},{title:{text:"珠海市快递员14: 00 - 15：00流动"},series:[{data:e[14]},{data:e[14]},{data:t[14]}]},{title:{text:"珠海市快递员15: 00 - 16：00流动"},series:[{data:e[15]},{data:e[15]},{data:t[15]}]},{title:{text:"珠海市快递员16: 00 - 17：00流动"},series:[{data:e[16]},{data:e[16]},{data:t[16]}]},{title:{text:"珠海市快递员17: 00 - 18：00流动"},series:[{data:e[17]},{data:e[17]},{data:t[17]}]},{title:{text:"珠海市快递员18: 00 - 19：00流动"},series:[{data:e[18]},{data:e[18]},{data:t[18]}]},{title:{text:"珠海市快递员19: 00 - 20：00流动"},series:[{data:e[19]},{data:e[19]},{data:t[19]}]},{title:{text:"珠海市快递员20: 00 - 21：00流动"},series:[{data:e[20]},{data:e[20]},{data:t[20]}]},{title:{text:"珠海市快递员21: 00 - 22：00流动"},series:[{data:e[21]},{data:e[21]},{data:t[21]}]},{title:{text:"珠海市快递员22: 00 - 23：00流动"},series:[{data:e[22]},{data:e[22]},{data:t[22]}]}]})});
