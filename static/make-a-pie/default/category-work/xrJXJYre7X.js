var mlRing=function(b){let e=Object.assign({id:"chart-panel",data:88.6,background:"#0d1e30",level:["极差","一般","优秀"],direction:[0,0,0,1],color:[[{offset:0,color:"#c7465c"},{offset:1,color:"#e68f02"}],[{offset:0,color:"#a4be39"},{offset:1,color:"#79cf60"}],[{offset:0,color:"#03f1d7"},{offset:1,color:"#01c0f7"}]],ringRadiusOut:80,ringRadiusInner:50,splitLineMargin:5,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,fontSize:{data:24,level:14},pointRadius:5},b);const o=zrender.init(document.getElementById(e.id)),w=o.getWidth(),k=o.getHeight(),n=w/2,r=k/2,s=e.data,a=e.startAngle,g=e.endAngle;e.background&&(document.getElementById(e.id).style.background=e.background);let d=0;s>=66.66?d=2:s>=33.33&&s<66.66&&(d=1);const z=new zrender.LinearGradient(e.direction[0],e.direction[1],e.direction[2],e.direction[3],e.color[d]),f=e.color[d][0].color,L=e.fontSize.data,P=new zrender.Text({style:{text:s+"%",fontSize:L,textFill:f,textAlign:"center",textVerticalAlign:"middle"},position:[n,r-L/2]});o.add(P);const M=e.fontSize.level,j=new zrender.Text({style:{text:e.level[d],fontSize:M,textFill:f,textAlign:"center",textVerticalAlign:"middle"},position:[n,r+M]});o.add(j);const m=new zrender.Sector({shape:{cx:n,cy:r,r:e.ringRadiusOut,r0:e.ringRadiusInner,startAngle:a,endAngle:g,clockwise:!0},style:{fill:z}});o.add(m);const c=function(i){var t=Object.assign({center:[0,0],angle:0,r:45},i),l=[],A=Math.cos(t.angle)*t.r,p=Math.sin(t.angle)*t.r;return l[0]=t.center[0]+A,l[1]=t.center[1]+p,l};(function(i){for(var t=Object.assign({splitSize:0,startAngle:0,endAngle:0,r:0,r0:0,data:0},i),l=(g-a)/t.splitSize,A=Math.floor(t.splitSize*t.data/100),p=[],h=0;h<A;h++){var O=[],x=[],v=t.startAngle+l*h;O=c({center:[n,r],angle:v,r:t.r0}),v%(Math.PI/2)===0?x=c({center:[n,r],angle:v,r:t.r+3}):x=c({center:[n,r],angle:v,r:t.r}),p.push([O,x])}return p})({splitSize:56,startAngle:a,endAngle:g,r:e.ringRadiusOut-e.splitLineMargin,r0:e.ringRadiusInner+e.splitLineMargin,data:s}).forEach(function(i){var t=new zrender.Line({shape:{x1:i[0][0],y1:i[0][1],x2:i[1][0],y2:i[1][1]},style:{stroke:"#fff"}});o.add(t)});const R=function(i){var t=Object.assign({cx:0,cy:0,r:5,style:{}},i),l=new zrender.Circle({shape:{cx:t.cx,cy:t.cy,r:t.r},style:t.style});o.add(l)},S=c({center:[n,r],angle:a,r:e.ringRadiusOut+e.splitLineMargin}),y=a+(g-a)*s/100,u=c({center:[n,r],angle:y,r:e.ringRadiusOut+e.splitLineMargin}),I=c({center:[n,r],angle:y,r:e.ringRadiusInner+e.splitLineMargin}),T=new zrender.Line({shape:{x1:I[0],y1:I[1],x2:u[0],y2:u[1]},style:{stroke:"#fff",lineWidth:3}});o.add(T);const C=new zrender.Sector({shape:{cx:n,cy:r,r:e.ringRadiusOut+e.splitLineMargin,r0:e.ringRadiusOut+e.splitLineMargin-1,startAngle:a,endAngle:y,clockwise:!0},style:{fill:z}});o.add(C),R({cx:S[0],cy:S[1],r:e.pointRadius,style:{fill:f}}),R({cx:u[0],cy:u[1],r:e.pointRadius,style:{fill:f,stroke:"#fff",lineWidth:3}})};const option={id:"chart-panel",data:88.6,background:"#0d1e30",level:["极差","一般","优秀"],direction:[0,0,0,1],color:[[{offset:0,color:"#c7465c"},{offset:1,color:"#e68f02"}],[{offset:0,color:"#a4be39"},{offset:1,color:"#79cf60"}],[{offset:0,color:"#03f1d7"},{offset:1,color:"#01c0f7"}]],ringRadiusOut:75,ringRadiusInner:50,splitLineMargin:5,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,fontSize:{data:24,level:14},pointRadius:3};mlRing(option),setInterval(()=>{Object.assign(option,{data:parseInt(Math.random()*100)}),mlRing(option)},3e3);
