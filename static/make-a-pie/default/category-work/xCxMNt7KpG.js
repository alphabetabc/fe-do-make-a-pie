var uploadedDataURL="/asset/get/s/data-1625818645149-0Ojbk4HcD.json",t_pos={left:0,top:0},last_point=[0,0],counter=0;if(myChart.showLoading(),myChart.setOption(option={title:{x:"center",text:"上海社区型养老设施分布",subtext:"",textStyle:{color:"#696969",fontSize:25}},tooltip:{trigger:"item",transitionDuration:0,position:function(e,i,a,n,p){var t=20,o=30,r=30;if(Math.abs(e[0]-last_point[0])<t&&Math.abs(e[1]-last_point[1])<t&&counter>=2)return t_pos;if((Math.abs(e[0]-last_point[0])>=t||Math.abs(e[1]-last_point[1])>=t)&&(counter=0),counter+=1,counter==1&&(t_pos.left=e[0]+o,t_pos.top=e[1]+r,last_point=[e[0],e[1]]),counter==2){var l=$(a).position().left,s=$(a).position().top;t_pos.left+=e[0]-l+o,t_pos.top+=e[1]-s+r}return t_pos},formatter:function(e){return e.name}},animation:!0,bmap:{center:[121.4693,31.2],zoom:11,roam:!0,mapStyle:{styleJson:[{featureType:"all",elementType:"all",stylers:{lightness:15,saturation:-100}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#c6c6c6"}},{featureType:"poi",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"road",elementType:"labels",stylers:{visibility:"off"}}]}},visualMap:{type:"piecewise",show:!0,bottom:"50",left:"10",orient:"vertical",backgroundColor:"rgba(255,255,255,0.8)",min:0,max:2e3,seriesIndex:0,calculable:!0,pieces:[{max:200,label:"助餐点",color:"#689dcd"},{max:300,label:"社区养老服务组织",color:"#ff9900"},{max:400,label:"日间照护中心",color:"#c062ff"},{max:500,label:"综合为老服务中心",color:"#cc0000"}]},series:[{type:"scatter",coordinateSystem:"bmap",symbolSize:8,label:{normal:{show:!1},emphasis:{show:!1}}}]}),!app.inNode){var bmap=myChart.getModel().getComponent("bmap").getBMap();bmap.addControl(new BMap.MapTypeControl)}option&&typeof option=="object"&&myChart.setOption(option,!0),$.getJSON(uploadedDataURL,function(e){myChart.hideLoading(),myChart.setOption({visualMap:{max:e[1]},series:[{data:e[0]}]})});
