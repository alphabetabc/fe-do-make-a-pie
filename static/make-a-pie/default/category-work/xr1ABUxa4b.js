var uploadedDataURL="/asset/get/s/data-1495284690309-Bk9Ro3Te-.json",t_pos={left:0,top:0},last_point=[0,0],counter=0;if(myChart.showLoading(),myChart.setOption(option={title:{x:"right",text:"上海房价可视化",subtext:"随机抽样10000个,数据提取自链家",textStyle:{color:"#fff",fontSize:30}},tooltip:{trigger:"item",transitionDuration:0,position:function(e,y,r,p,n){var t=20,a=30,l=30;if(Math.abs(e[0]-last_point[0])<t&&Math.abs(e[1]-last_point[1])<t&&counter>=2)return t_pos;if((Math.abs(e[0]-last_point[0])>=t||Math.abs(e[1]-last_point[1])>=t)&&(counter=0),counter+=1,counter==1&&(t_pos.left=e[0]+a,t_pos.top=e[1]+l,last_point=[e[0],e[1]]),counter==2){var o=$(r).position().left,s=$(r).position().top;t_pos.left+=e[0]-o+a,t_pos.top+=e[1]-s+l}return t_pos},formatter:function(e){return e.name+" : "+e.value[2]+"元/平方米"}},animation:!1,bmap:{center:[121.4693,31.12307],zoom:11,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#021019"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#147a92"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#0b3d51"}},{featureType:"local",elementType:"geometry",stylers:{color:"#000000"}},{featureType:"land",elementType:"all",stylers:{color:"#08304b"}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#08304b"}},{featureType:"subway",elementType:"geometry",stylers:{lightness:-70}},{featureType:"building",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"all",elementType:"labels.text.fill",stylers:{color:"#857f7f"}},{featureType:"all",elementType:"labels.text.stroke",stylers:{color:"#000000"}},{featureType:"building",elementType:"geometry",stylers:{color:"#022338"}},{featureType:"green",elementType:"geometry",stylers:{color:"#062032"}},{featureType:"boundary",elementType:"all",stylers:{color:"#1e1c1c"}},{featureType:"manmade",elementType:"all",stylers:{color:"#022338"}}]}},visualMap:{type:"piecewise",top:"5%",splitNumber:5,min:0,max:10,seriesIndex:0,calculable:!0,inRange:{color:["green","#eac736","#d94e5d"]},textStyle:{color:"#fff",formatter:"aaaa{value}bbbb{value2}"}},series:[{type:"scatter",coordinateSystem:"bmap",symbolSize:8,label:{normal:{show:!1},emphasis:{show:!1}}}]}),!app.inNode){var bmap=myChart.getModel().getComponent("bmap").getBMap();bmap.addControl(new BMap.MapTypeControl)}option&&typeof option=="object"&&myChart.setOption(option,!0),$.getJSON(uploadedDataURL,function(e){myChart.hideLoading(),myChart.setOption({visualMap:{max:e[1]},series:[{data:e[0]}]})});
