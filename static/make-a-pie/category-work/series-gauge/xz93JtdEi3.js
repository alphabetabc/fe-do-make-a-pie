function setGaugeOption(i,t,o){console.log(o,"val"),t=t.sort((a,e)=>a-e);let s=1e5,n=s/(t.length-1),g=a=>{for(let e=0;e<t.length-1;e++)if(a<=(e+1)*n){let f=t[e],r=t[e+1]-t[e],l=a-e*n;return l=l*r/n,Math.round(f+l)}return t[t.length-1]},c=a=>`${o}
下载速度Mbps`,d=(a=>{if(a<=t[0])return 0;for(let e=1;e<t.length;e++)if(a<=t[e]){let f=n*(e-1),r=t[e]-t[e-1],l=t[e-1],u=f+(a-l)/r*n;return Math.round(u)}return s})(o),h={series:[{name:"test speed",type:"gauge",radius:"95%",splitNumber:t.length-1,max:s,axisLine:{lineStyle:{width:30,color:[[.5,"#67e0e3"],[.875,"#37a2da"],[1,"#fd666d"]]}},pointer:{itemStyle:{color:"auto"}},splitLine:{distance:-30,length:30,lineStyle:{color:"#fff",width:4}},axisTick:{distance:-30,length:8,lineStyle:{color:"#fff",width:2}},axisLabel:{color:"auto",distance:40,fontSize:16,formatter:g},detail:{fontSize:14,formatter:c,offsetCenter:[0,"70%"],valueAnimation:!0,color:"auto"},data:[{value:d}]}]};i.setOption(h)}function run(){let i=[0,10,50,100,500,1e3,1e4,1e5,2e5];setInterval(function(){let t=1865.25;setGaugeOption(myChart,i,t)},1e3)}run();
