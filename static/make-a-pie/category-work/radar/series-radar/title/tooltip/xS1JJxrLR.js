CanvasRenderingContext2D.prototype.sector=function(t,a,e,r,o){return this.save(),this.translate(t,a),this.beginPath(),this.arc(0,0,e,r,o),this.save(),this.rotate(o),this.moveTo(e,0),this.lineTo(0,0),this.restore(),this.rotate(r),this.lineTo(e,0),this.closePath(),this.restore(),this};var data=[{name:"销售（sales）",weight:.58},{name:"管理（Administration）",weight:.3},{name:"信息技术（Information Techology）",weight:.28},{name:"客服（Customer Support）",weight:.33},{name:"研发（Development）",weight:.45},{name:"市场（Marketing）",weight:.46}],len=data.length,_d={};_d.indicator=[],_d.data=[],_d.data[0]={value:[],name:"典型特征"};for(var i=0;i<len;i++)_d.indicator.push(data[i].name),_d.data[0].value.push(data[i].weight);for(var indicator=[],i=0;i<len;i++)indicator[i]={name:_d.indicator[i],max:1};var canvas=document.createElement("canvas");setTimeout(function(){drawShadow($("canvas").width(),$("canvas").height())},100);function drawShadow(t,a){canvas.width=t,canvas.height=a;for(var e=canvas.getContext("2d"),r=Math.PI*2/len,o=Math.min(t,a)*.75*.5,n=0;n<len;n++)e.fillStyle=n%2===0?"rgba(100,100,100,0.1)":"rgba(0,0,0,0)",e.sector(t/2,a/2,o,-Math.PI/2+n*r,-Math.PI/2+(n+1)*r).fill();var l=$("canvas").parent().parent()[0],s=echarts.getInstanceByDom(l);s.clear(),option={title:{text:""},backgroundColor:{image:canvas,repeat:"no-repeat"},tooltip:{},radar:{shape:"circle",center:["50%","50%"],radius:"75%",indicator,name:{formatter:function(h,c){return c.nameTextStyle={color:"rgba(86,111,141,0.5)",fontSize:12},h==indicator[index].name&&(c.nameTextStyle={color:"rgba(255,127,143,1)",fontSize:18}),h}},splitArea:{show:!0,areaStyle:{color:"rgba(0,0,0,0)"}}},series:[{name:"",type:"radar",data:_d.data}]},s.setOption(option,!0)}var index=0;option={title:{text:""},backgroundColor:{image:canvas,repeat:"no-repeat"},tooltip:{},radar:{shape:"circle",center:["50%","50%"],radius:"75%",indicator,name:{formatter:function(t,a){return a.nameTextStyle={color:"rgba(86,111,141,0.5)",fontSize:12},t==indicator[index].name&&(a.nameTextStyle={color:"rgba(255,127,143,1)",fontSize:18}),t}},splitArea:{show:!0,areaStyle:{color:"rgba(0,0,0,0)"}}},series:[{name:"",type:"radar",data:_d.data}]};
