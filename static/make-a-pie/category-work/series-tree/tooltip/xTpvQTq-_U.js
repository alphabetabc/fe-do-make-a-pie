const uploadedDataURL="/asset/get/s/data-1635996507570-wKX0ZDR56.json",formatData=d=>d.map((o,a)=>(o.value=a,o.children&&o.children.map((i,c)=>(i.value=c,i.children&&i.children.map((s,e)=>(s.value=e,s)),i)),o));$.getJSON(uploadedDataURL,d=>{console.log(d);const[o,a]=d.children,i=formatData([o]),c=formatData([a]),s={backgroundColor:"#F8F8F8",tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{data:i,name:"root",type:"tree",symbolSize:0,initialTreeDepth:-1,expandAndCollapse:!1,right:"55%",top:0,bottom:0,orient:"RL",label:{position:"insideLeft",verticalAlign:"middle",fontSize:14,lineHeight:20,align:"left",padding:[5,10],backgroundColor:"#F8F8F8",formatter:e=>{const r=e.treeAncestors.length;if(r===2)return`{root|${e.name}}`;if(r===3)return e.name;const g=e.treeAncestors.splice(2,r).map(n=>n.value),[u,f]=g,{tags:l}=o.children[u].children[f];if(l){const n=l.map(t=>`{${t.color}|${t.name}}`);return`${e.name}
${n}`}return e.name},rich:{root:{padding:15,backgroundColor:"#FFF",borderColor:"#D4A4EB",borderWidth:1,borderRadius:4},success:{padding:[4,5,2,5],color:"#fff",backgroundColor:"#71CB2D",borderRadius:4,verticalAlign:"middle"},warning:{padding:[4,5,2,5],color:"#fff",backgroundColor:"#FFA01E",borderRadius:4,verticalAlign:"middle"},danger:{padding:[4,5,2,5],color:"#fff",backgroundColor:"#BF221F",borderRadius:4,verticalAlign:"middle"}}},leaves:{label:{position:"left",verticalAlign:"middle",align:"right"}},lineStyle:{color:"#D4A4EB",curveness:.8},emphasis:{focus:"series"}},{data:c,type:"tree",symbolSize:0,initialTreeDepth:-1,expandAndCollapse:!1,left:"55%",top:0,bottom:0,orient:"LR",label:{position:"insideLeft",verticalAlign:"middle",fontSize:14,lineHeight:20,align:"right",padding:[5,10],backgroundColor:"#F8F8F8",formatter:e=>{const r=e.treeAncestors.length;if(r===2)return`{root|${e.name}}`;if(r===3)return e.name;const g=e.treeAncestors.splice(2,r).map(n=>n.value),[u,f]=g,{tags:l}=a.children[u].children[f];if(l){const n=l.map(t=>`{${t.color}|${t.name}}`);return`${e.name}
${n}`}return e.name},rich:{root:{padding:15,backgroundColor:"#FFF",borderColor:"#D4A4EB",borderWidth:1,borderRadius:4},success:{padding:[4,5,2,5],color:"#fff",backgroundColor:"#71CB2D",borderRadius:4,verticalAlign:"middle"},warning:{padding:[4,5,2,5],color:"#fff",backgroundColor:"#FFA01E",borderRadius:4,verticalAlign:"middle"},danger:{padding:[4,5,2,5],color:"#fff",backgroundColor:"#BF221F",borderRadius:4,verticalAlign:"middle"}}},leaves:{label:{position:"left",verticalAlign:"middle",align:"left"}},lineStyle:{color:"#FFCCCC",curveness:.8},emphasis:{focus:"series"}}]};myChart.setOption(s),myChart.on("click",function(e){console.log(e)})});
