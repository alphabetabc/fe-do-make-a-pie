var uploadedDataURL="/asset/get/s/data-1555315257733-csgpAyN4z.json",coords={北片:[[116.3864,40.0018],[116.4407,40.0171]],中北片:[[116.5169,39.9819],[116.5821,39.975]],中南片:[[116.51,39.925],[116.5855,39.906]],南片:[[116.5011,39.8333],[116.5402,39.866]],外区:[[116.5965,40.0565],[116.5903,40.0807]]},ponitSymbolColors=["red","yellow"],data=[{name:"北片",info:[{name:"其他类",value:"407"},{name:"交通事故",value:"169"}]},{name:"南片",info:[{name:"交通事故",value:"230"},{name:"其他类",value:"608"}]},{name:"中北片",info:[{name:"其他类",value:"674"},{name:"交通事故",value:"223"}]},{name:"中南片",info:[{name:"交通事故",value:"141"},{name:"其他类",value:"604"}]}];$.get(uploadedDataURL,function(a){echarts.registerMap("chaoyang",a,{});var t={tooltip:{trigger:"item",formatter:"{b}<br/>"},series:[{name:"朝阳120各分区突发事件统计",type:"map",map:"chaoyang",aspectScale:1,label:{normal:{show:!1,textStyle:{color:"#333",fontSize:18}},emphasis:{show:!0,textStyle:{color:"red",fontSize:20}}},emphasis:{itemStyle:{areaColor:"#36c5d8"}},data:[{name:"北部",value:50,itemStyle:{areaColor:"#0c254d"}},{name:"中北",value:100,itemStyle:{areaColor:"#0c254d "}},{name:"中南",value:180,itemStyle:{areaColor:"#0c254d"}},{name:"南部",value:220,itemStyle:{areaColor:"#0c254d"}}],itemStyle:{borderColor:"#fff",borderWidth:1,borderType:"dashed"},markPoint:{symbol:"path://m 0,0 h 48 v 20 h -30 l -6,10 l -6,-10 h -6 z",symbolSize:20,itemStyle:{emphasis:{color:"#f16d02",borderColor:"#fff",borderWidth:1}},label:{normal:{show:!0,position:"top",distance:0,offset:[0,2],formatter:"{styleA|{b}	}{styleB|{c}}",textStyle:{fontFamily:"微软雅黑",align:"center",color:"#fff",padding:4},rich:{styleA:{fontSize:18,color:"#fff"},styleB:{fontSize:20,color:"#fff",lineHeight:30}}}},animation:!0,data:getMarkPointData(data)}}]};myChart.setOption(t),autoDispatchMapAction(myChart,t)});function getMarkPointData(a){for(var t=[],e=0;e<a.length;e++)for(var o=0;o<a[e].info.length;o++){var n={};n.name=a[e].info[o].name,n.value=a[e].info[o].value,n.coord=coords[a[e].name][o],n.itemStyle={},n.itemStyle.color=ponitSymbolColors[o],t.push(n)}return console.log(t),t}function autoDispatchMapAction(a,t){var e={currentIndex:-1};timeId=setInterval(function(){var o=t.series[0].data.length;a.dispatchAction({type:"mapUnSelect",seriesIndex:0,dataIndex:e.currentIndex}),e.currentIndex=(e.currentIndex+1)%o,a.dispatchAction({type:"mapSelect",seriesIndex:0,dataIndex:e.currentIndex}),a.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:e.currentIndex})},5e3)}
