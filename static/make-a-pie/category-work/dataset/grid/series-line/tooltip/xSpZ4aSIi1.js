let _rawData=[["Income","Country","Year"],[1399,"重点机构x",2012],[1651,"物证x",2012],[2269,"重点机构x",2013],[1922,"物证x",2013],[3267,"重点机构x",2014],[2202,"物证x",2014],[44056,"重点机构x",2015],[43294,"物证x",2015]],countries=["重点机构x","物证x"],datasetWithFilters=[],seriesList=[];run(_rawData);function run(e){echarts.util.each(countries,function(a){var r="dataset_"+a;datasetWithFilters.push({id:r,fromDatasetId:"dataset_raw",transform:{type:"filter",config:{and:[{dimension:"Year",gte:1950},{dimension:"Country","=":a}]}}}),seriesList.push({type:"line",datasetId:r,showSymbol:!1,name:a,endLabel:{show:!0,formatter:function(o){return o.value[1]+": "+o.value[0]}},labelLayout:{moveOverlap:"shiftY"},emphasis:{focus:"series"},encode:{x:"Year",y:"Income",label:["Country","Income"],itemName:"Year",tooltip:["Income"]}})})}option={animationDuration:1e4,dataset:[{id:"dataset_raw",source:_rawData},...datasetWithFilters],color:["red","#ff0"],tooltip:{order:"valueDesc",trigger:"axis",backgroundColor:"#1a252d",borderWidth:"1",borderColor:"#6bc7ef",textStyle:{color:"#a8d5ff"},formatter:function(e,a,r){console.log(e);for(var o=""+e[0].name,t=0,n=e.length;t<n;t++)t==2?o+='<br><span style="color:red;">'+e[t].seriesName+" : "+e[t].value+"</span>":o+="<br>"+e[t].seriesName+" : "+e[t].value;r(a,o)}},xAxis:{type:"category",nameLocation:"middle"},yAxis:{},grid:{right:140},series:seriesList};
