var data=[{name:"Mon_1",time:"Mon",tdCount:820,ydCount:810,cost:.2,count:800},{name:"Tue_1",time:"Tue",tdCount:932,ydCount:800,cost:.3,count:850},{name:"Wed_1",time:"Wed",tdCount:901,ydCount:880,cost:.4,count:900},{name:"Thu_1",time:"Thu",tdCount:934,ydCount:900,cost:.1,count:950},{name:"Fri_1",time:"Fri",tdCount:1290,ydCount:1200,cost:.2,count:1e3},{name:"Sat_1",time:"Sat",tdCount:1330,ydCount:1400,cost:.6,count:1050},{name:"Sun_1",time:"Sun",tdCount:1320,ydCount:1410,cost:.7,count:1100}],conf={type:"bar",typeNum:"1",layoutNum:"1",styleNum:"1",xkey:"time",ykey:["tdCount","ydCount"],textObj:{title:"",seriesNm:{tdCount:"",ydCount:""}}},option=getEchartOpt(data,conf);function getEchartOpt(i,r){var e=r.type,a=r.typeNum,t=r.layoutNum,l=r.styleNum,n=r.xkey,f=r.ykey,o=r.xType||"category",d=r.textObj,c=getSeries(e,i,n,f);console.log("series",c);var s=getOptTpl(e,i,o);return setTypeNum(e,a,s,c),setLayoutNum(e,t,s,c),setStyleNum(e,l,s),setTextNm(e,d,s,c),s.series=c,console.log("opt",s),s}function getOptTpl(i,r,e){if(i==="line"||i==="bar")var a={title:{text:"图表标题"},legend:{},dataset:{source:r},series:[],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:e,axisLine:{lineStyle:{color:"#999"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#999"}},splitLine:{}}};else if(i==="ybar")var a={title:{text:"图表标题"},legend:{},dataset:{source:r},series:[],tooltip:{trigger:"item"},yAxis:{type:e,axisLine:{lineStyle:{color:"#999"}}},xAxis:{type:"value",axisLine:{lineStyle:{color:"#999"}},splitLine:{}}};else if(i==="pie")var a={title:{text:"图表标题"},legend:{},dataset:{source:r},series:[],tooltip:{trigger:"item"}};else if(i==="radar")var a={title:{text:"图表标题"},tooltip:{},legend:{},radar:{indicator:[]},series:[]};else if(i==="bar3D")var a={title:{text:"图表标题"},tooltip:{},legend:{},xAxis3D:{type:e,axisLine:{lineStyle:{color:"#999"}}},yAxis3D:{name:"",type:"category",axisLine:{lineStyle:{color:"#999"}}},zAxis3D:{type:"value"},grid3D:{},series:[{type:"bar3D",data:[["a","",1],["b","",2],["c","",3]]},{type:"bar3D",data:[["a","",2],["b","",3],["c","",4]]}]};return a}function getSeries(i,r,e,a){var t=[];if(i==="line"||i==="bar")for(var l=0;l<a.length;l++){var n=a[l];t.push({name:n,extraYkey:n,type:i,label:{},encode:{x:e,y:n}})}else if(i==="ybar")for(var l=0;l<a.length;l++){var n=a[l];t.push({name:n,extraYkey:n,type:"bar",label:{},encode:{x:n,y:e}})}else if(i==="pie"){var n=a[0],f={name:"",type:"pie",radius:"65%",center:["50%","50%"],encode:{value:n,itemName:e}};t.push(f)}else if(i==="radar"){for(var f={type:"radar",data:[]},o={},l=0;l<a.length;l++){for(var n=a[l],d={name:n,extraYkey:n,value:[]},c=0;c<r.length;c++){var s=r[c],v=s[n]||0,u=s[e];d.value.push(v),o[u]==null&&(o[u]=0),o[u]<v&&(o[u]=v)}f.data.push(d)}var g=[];for(var h in o)g.push({name:h,max:Number(o[h]*1.1)});f.indicator=g,t.push(f)}else if(i==="bar3D")for(var l=0;l<a.length;l++){var n=a[l],f={name:n,extraYkey:n,extraXkey:e,type:"bar3D",label:{},data:[]};t.push(f)}return t}function setTypeNum(i,r,e,a){i==="line"?r==="2"?a.forEach(function(t){t.stack="堆叠"}):r==="3"?a.forEach(function(t){t.areaStyle={}}):r==="4"?a.forEach(function(t){t.smooth=!0}):r==="5"?a.forEach(function(t){t.stack="堆叠",t.smooth=!0}):r==="6"&&a.forEach(function(t){t.areaStyle={},t.smooth=!0}):i==="bar"||i==="ybar"?(e.tooltip.trigger="item",r==="2"&&a.forEach(function(t){t.stack="堆叠"})):i==="pie"?r==="2"?a.forEach(function(t){t.radius=["25%","70%"]}):r==="3"?a.forEach(function(t){t.roseType="radius"}):r==="4"&&a.forEach(function(t){t.roseType="area"}):i==="radar"?(e.radar.indicator=a[0].indicator,delete a[0].indicator,r==="2"?a.forEach(function(t){t.areaStyle={}}):r==="3"?a.forEach(function(t){t.symbol="rect",t.symbolSize=10}):r==="4"&&(e.radar.splitLine={show:!1},e.radar.shape="circle")):i==="bar3D"&&(r==="1"?a.forEach(function(t){for(var l=t.extraYkey,n=t.extraXkey,f=0;f<data.length;f++){var o=data[f],d=o[l]||0,c=o[n];t.data.push([c,l,d])}}):r==="2"&&a.forEach(function(t){t.stack="堆叠";for(var l=t.extraYkey,n=t.extraXkey,f=0;f<data.length;f++){var o=data[f],d=o[l]||0,c=o[n];t.data.push([c,"",d])}}))}function setLayoutNum(i,r,e,a){i==="line"||i==="bar"||i==="ybar"?r==="2"?(e.title.left="center",e.legend.right="0",e.legend.top="center",e.legend.orient="vertical"):r==="3"?(e.title.left="center",e.legend.top="6%",e.legend.left="center",e.yAxis.show=!1):r==="4"?(e.title.left="center",e.legend.bottom="0",e.legend.left="center",e.yAxis.axisLine.show=!1):r==="5"?(e.title.left="center",e.legend.bottom="0",e.legend.left="center",e.yAxis.splitLine.show=!1):r==="6"?(e.title.show=!1,e.legend.bottom="0",e.legend.left="center",e.yAxis.show=!1,a.forEach(function(t){t.label={show:!0}})):r==="7"&&(e.title.show=!1,e.legend.show=!1,e.xAxis.show=!1,e.yAxis.show=!1):i==="pie"||i==="radar"?r==="2"?(e.title.left="center",e.legend.right="0",e.legend.top="center",e.legend.orient="vertical"):r==="3"?(e.title.left="center",e.legend.top="6%",e.legend.left="center"):r==="4"&&(e.title.x="center",e.title.y="center"):i==="bar3D"&&(r==="2"?(e.title.left="center",e.legend.right="0",e.legend.top="center",e.legend.orient="vertical"):r==="3"?(e.title.left="center",e.legend.top="6%",e.legend.left="center"):r==="4"&&a.forEach(function(t){t.label={show:!0}}))}function setStyleNum(i,r,e){var a={1:["#f845f1","#ad46f3","#5045f6","#4777f5","#44aff0","#45dbf7","#f6d54a","#f69846","#ff4343"],2:["#afa3f5","#00d488","#3feed4","#3bafff","#f1bb4c","red","blue"],3:["#eb2100","#d0570e","#d0a00e","#34da62","#00e9db","#00c0e9","#0096f3","#33CCFF","#33FFCC","#eb3600"],4:["#8d7fec","#5085f2","#e75fc3","#f87be2","#f2719a","#fca4bb","#f59a8f","#fdb301","#57e7ec","#cf9ef1","#57e7ec","#cf9ef1"]},t=a[r];t!=null&&(e.color=t)}function setTextNm(i,r,e,a){if(isObject(r)==!1)return!1;var t=r.title;if(isNonEmptyStr(t)&&(e.title.text=t),i==="line"||i==="bar"||i==="ybar"||i==="bar3D"){var l=r.seriesNm||{};for(k in l){var n=l[k];isNonEmptyStr(n)&&a.forEach(function(f){f.extraYkey===k&&(f.name=n)})}}}function isNonEmptyStr(i){return typeof i=="string"&&i.length>0}function isObject(i){return Object.prototype.toString.call(i)==="[object Object]"}
