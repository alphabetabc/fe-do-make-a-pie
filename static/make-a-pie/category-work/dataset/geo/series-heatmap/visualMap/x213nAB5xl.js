var mapIcons={sign:"/asset/get/s/data-1593933773676-FDpSjX2lK.png",bg:"/asset/get/s/data-1593933762711-IHRMda0Rg.png"},geoCoordMap={台湾:[121.509062,25.044332],河北:[114.502461,38.045474],山西:[112.549248,37.857014],内蒙古:[111.670801,40.818311],辽宁:[123.429096,41.796767],吉林:[125.3245,43.886841],黑龙江:[126.642464,45.756967],江苏:[118.767413,32.041544],浙江:[120.153576,30.287459],安徽:[117.283042,31.86119],福建:[119.306239,26.075302],江西:[115.892151,28.676493],山东:[117.000923,36.675807],河南:[113.665412,34.757975],湖北:[114.298572,30.584355],湖南:[112.982279,28.19409],广东:[113.280637,23.125178],广西:[108.320004,22.82402],海南:[110.33119,20.031971],四川:[104.065735,30.659462],贵州:[106.713478,26.578343],云南:[102.712251,25.040609],西藏:[91.132212,29.660361],陕西:[108.948024,34.263161],甘肃:[103.823557,36.058039],青海:[101.778916,36.623178],宁夏:[106.278179,38.46637],新疆:[87.617733,43.792818],北京:[116.405285,39.904989],天津:[117.190182,39.125596],上海:[121.472644,31.231706],重庆:[106.504962,29.533155],香港:[114.173355,22.320048],澳门:[113.54909,22.198951]},markPointData=[{name:"新疆",coord:[87.665966,43.869561,90],runConut:"537",num:"234"}];function randomData(){return Math.round(Math.random()*500)}var dataMap=[{name:"北京",value:"100"},{name:"天津",value:randomData()},{name:"上海",value:randomData()},{name:"重庆",value:randomData()},{name:"河北",value:randomData()},{name:"河南",value:randomData()},{name:"云南",value:randomData()},{name:"辽宁",value:randomData()},{name:"黑龙江",value:randomData()},{name:"湖南",value:randomData()},{name:"安徽",value:randomData()},{name:"山东",value:randomData()},{name:"新疆",value:randomData()},{name:"江苏",value:randomData()},{name:"浙江",value:randomData()},{name:"江西",value:randomData()},{name:"湖北",value:randomData()},{name:"广西",value:randomData()},{name:"甘肃",value:randomData()},{name:"山西",value:randomData()},{name:"内蒙古",value:randomData()},{name:"陕西",value:randomData()},{name:"吉林",value:randomData()},{name:"福建",value:randomData()},{name:"贵州",value:randomData()},{name:"广东",value:randomData()},{name:"青海",value:randomData()},{name:"西藏",value:randomData()},{name:"四川",value:randomData()},{name:"宁夏",value:randomData()},{name:"海南",value:randomData()},{name:"台湾",value:randomData()},{name:"香港",value:randomData()},{name:"澳门",value:randomData()}],convertData=function(e){for(var n=[],l=0;l<e.length;l++){var a=geoCoordMap[e[l].name];a&&n.push(a.concat(e[l].value))}return console.log(n),n},option={dataset:{source:[[116.405285,39.904989,100],[117.190182,39.125596,500],[121.472644,31.231706,77],[106.504962,29.533155,103],[114.502461,38.045474,141],[113.665412,34.757975,48],[102.712251,25.040609,90],[123.429096,41.796767,447],[126.642464,45.756967,74],[112.982279,28.19409,400],[117.283042,31.86119,29],[117.000923,36.675807,50],[87.617733,43.792818,274],[118.767413,32.041544,250],[120.153576,30.287459,137],[115.892151,28.676493,416],[114.298572,30.584355,184],[108.320004,22.82402,138],[103.823557,36.058039,223],[112.549248,37.857014,451],[111.670801,40.818311,108],[108.948024,34.263161,122],[125.3245,43.886841,367],[119.306239,26.075302,274],[106.713478,26.578343,283],[113.280637,23.125178,350],[101.778916,36.623178,192],[91.132212,29.660361,172],[104.065735,30.659462,11],[106.278179,38.46637,29],[110.33119,20.031971,396],[121.509062,25.044332,388],[114.173355,22.320048,119],[113.54909,22.198951,35]]},grid:{},geo:{map:"china",aspectScale:.8,roam:!0,scaleLimit:{min:1.2,max:15},zoom:1.2},series:[{name:"热力图",type:"heatmap",minAlpha:.5,coordinateSystem:"geo"}],visualMap:[{show:!0,left:"10%",bottom:"5%",max:500,min:0,z:999,calculable:!1,text:["高","低"],inRange:{color:["#0033FF","#FFFF00","#FF3333"]},textStyle:{color:"#fff"},seriesIndex:0}]},currentPage=1,pageSize=5,len=dataMap.length;setInterval(function(){var e=currentPage==1?0:(currentPage-1)*pageSize,n=currentPage*pageSize+1,l=[],a=[];n>len?(a=dataMap.slice(e),currentPage=1):(a=dataMap.slice(e,n),currentPage=currentPage+1),myChart.setOption({geo:{map:"china",aspectScale:.8,roam:!0,scaleLimit:{min:1.2,max:15},zoom:1.2,label:{normal:{show:!0,formatter:function(o){for(var t=0;t<a.length;t++)if(o.name==a[t].name)return"{div|"+o.name+`}
{fontVal|`+a[t].value+`}
{sign|}`;return o.name},color:"#FFFFFF",verticalAlign:"bottom",rich:{value:{fontsize:20},fontName:{shadowOffsetX:-1,color:"#57F7FE",fontSize:10},fontVal:{height:10,color:"#ffffff",fontSize:14,fontWeight:900,padding:[10,3,0,0]},div:{height:25,fontSize:12,lineHeight:8,padding:[15,3,3,0],color:"#57F7FE",backgroundColor:{image:mapIcons.bg}},sign:{position:"absolute",height:30,color:"#ffffff",backgroundColor:{image:mapIcons.sign}}}},emphasis:{show:!0,color:"#FFFFFF"}}}})},2500);
