$.get("/asset/get/s/data-1497886591658-rJOKkdH7W.txt",function(c){for(var d=decodeFlightPathData(c),e=[],l=0;l<4;l++)e=e.concat(d.map(function(r){return{name:r.name,coords:r.coords.map(function(i){return i.slice()})}}));myChart.setOption({maptalks3D:{center:[0,51.5],zoom:6,pitch:60,altitudeScale:5,urlTemplate:"http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",postEffect:{enable:!0,bloom:{intensity:.4}}},series:[{type:"lines3D",coordinateSystem:"maptalks3D",effect:{show:!0,constantSpeed:40,trailWidth:2,trailLength:.15,trailOpacity:1},blendMode:"lighter",polyline:!0,lineStyle:{width:1,color:"rgb(50, 60, 170)",opacity:.1},data:e}]})});function decodePolyline(c,d){for(var e=0,l=0,r=0,i=[],n=0,t=0,a=null,s,o,u=Math.pow(10,d||5);e<c.length;){a=null,n=0,t=0;do a=c.charCodeAt(e++)-63,t|=(a&31)<<n,n+=5;while(a>=32);s=t&1?~(t>>1):t>>1,n=t=0;do a=c.charCodeAt(e++)-63,t|=(a&31)<<n,n+=5;while(a>=32);o=t&1?~(t>>1):t>>1,l+=s,r+=o,i.push([r/u,l/u])}return i}function decodeFlightPathData(c){var d=c.split(`
`),e=[];return d.forEach(function(l){if(!!l){var r=l.split("	"),i=r[2].split("").map(function(a){return decodePolyline(a,5)}),n=r[3].split("").map(function(a){return decodePolyline(a,1)}),t=[];i.forEach(function(a,s){for(var o=1;o<a.length;o++){var u=i[s][o-1],p=n[s][o-1],h=i[s][o],f=n[s][o];t.push([u[0],u[1],p[0]],[h[0],h[1],f[0]])}}),e.push({name:r[0],country:r[1],coords:t})}}),e}window.addEventListener("resize",function(){myChart.resize()});
