const getCirlPoint=(r,o,t,n)=>{let e=r+t*Math.cos(n*Math.PI/180),i=o+t*Math.sin(n*Math.PI/180);return{x:e,y:i}},getLine=({name:r,endAngle:o,stroke:t})=>({name:r,type:"custom",coordinateSystem:"none",renderItem:function(n,e){return{type:"arc",shape:{cx:e.getWidth()/2,cy:e.getHeight()/2,r:Math.min(e.getWidth(),e.getHeight())/2*.65,startAngle:270*Math.PI/180,endAngle:o*Math.PI/180},style:{stroke:t,fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]}),getDot=({name:r,circleR:o,endAngle:t,circleColor:n,text:e,textColor:i,x:s,y:f})=>({name:r,type:"custom",coordinateSystem:"none",renderItem:function(a,l){let h=l.getWidth()/2,g=l.getHeight()/2,x=Math.min(l.getWidth(),l.getHeight())/2*.65,c=getCirlPoint(h,g,x,t);return{type:"group",children:[{type:"circle",shape:{cx:c.x,cy:c.y,r:o},style:{stroke:n,fill:n},silent:!0},{type:"text",style:{text:e,fill:i,x:c.x+s,y:c.y+f,fontSize:20}}]}},data:[0]});option={backgroundColor:"#061740",series:[]};const progress=100;option.series.push(getLine({name:"背景圈",endAngle:180,stroke:"#cccccc"})),option.series.push(getLine({name:"进度圈",endAngle:progress,stroke:"#ff0000"})),option.series.push(getDot({name:"进度圈点",circleR:4,endAngle:progress,circleColor:"#ff0000",text:"",textColor:"",x:0,y:0})),option.series.push(getDot({name:"点1",circleR:6,endAngle:-90,circleColor:"#ff0000",text:"项目立项",textColor:"#ffffff",x:-10,y:-40})),option.series.push(getDot({name:"点2",circleR:6,endAngle:-22.5,circleColor:"#ff0000",text:"项目实施",textColor:"#ffffff",x:20,y:-12})),option.series.push(getDot({name:"点3",circleR:6,endAngle:45,circleColor:"#ff0000",text:"项目结题",textColor:"#ffffff",x:20,y:-10})),option.series.push(getDot({name:"点4",circleR:6,endAngle:112.5,circleColor:"#ccc",text:"成果培育",textColor:"#ffffff",x:0-4*20,y:20})),option.series.push(getDot({name:"点5",circleR:6,endAngle:180,circleColor:"#cc",text:"成果申报",textColor:"#ffffff",x:0-(4+1)*20,y:-10}));
