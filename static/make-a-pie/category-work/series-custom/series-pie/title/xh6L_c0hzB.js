let angle=0,value=80;for(var timerId,color=["rgba(22, 172, 142, 1)","rgba(0, 251, 183, 1)","rgba(248, 136, 42, 1)","rgba(20, 218, 255, 1)","rgba(6, 232, 219, 1)"].reverse(),scaleData=[{name:"办公类",value:10},{name:"照明类",value:10},{name:"空调类",value:10},{name:"其他",value:10},{name:"电梯类",value:10}].reverse(),data=[],datas=[],i=0;i<scaleData.length;i++)data.push({data:scaleData[i].value,value:1,name:scaleData[i].name,itemStyle:{normal:{color:color[i]}}},{value:45,name:"",itemStyle:{normal:{label:{show:!1},labelLine:{show:!1},color:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0}}}),datas.push({data:scaleData[i].value,value:15,name:scaleData[i].name,itemStyle:{normal:{color:color[i]}}},{value:2,name:"",itemStyle:{normal:{label:{show:!1},labelLine:{show:!1},color:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0}}});option={backgroundColor:"#000E1A",title:{text:"{a|"+value+"}{c|%}",x:"center",y:"center",textStyle:{rich:{a:{fontSize:48,color:"#29EEF3"},c:{fontSize:20,color:"#ffffff"}}}},series:[{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){return{type:"arc",shape:{cx:e.getWidth()/2,cy:e.getHeight()/2,r:Math.min(e.getWidth(),e.getHeight())/2*.6,startAngle:(0+angle)*Math.PI/180,endAngle:(90+angle)*Math.PI/180},style:{stroke:"#8383FA",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){let n=e.getWidth()/2,a=e.getHeight()/2,l=Math.min(e.getWidth(),e.getHeight())/2*.6,t=getCirlPoint(n,a,l,90+angle);return{type:"circle",shape:{cx:t.x,cy:t.y,r:4},style:{stroke:"#8450F9",fill:"#8450F9"},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){return{type:"arc",shape:{cx:e.getWidth()/2,cy:e.getHeight()/2,r:Math.min(e.getWidth(),e.getHeight())/2*.6,startAngle:(180+angle)*Math.PI/180,endAngle:(270+angle)*Math.PI/180},style:{stroke:"#4386FA",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){let n=e.getWidth()/2,a=e.getHeight()/2,l=Math.min(e.getWidth(),e.getHeight())/2*.6,t=getCirlPoint(n,a,l,180+angle);return{type:"circle",shape:{cx:t.x,cy:t.y,r:4},style:{stroke:"#4386FA",fill:"#4386FA"},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){return{type:"arc",shape:{cx:e.getWidth()/2,cy:e.getHeight()/2,r:Math.min(e.getWidth(),e.getHeight())/2*.65,startAngle:(270+-angle)*Math.PI/180,endAngle:(40+-angle)*Math.PI/180},style:{stroke:"#0CD3DB",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){return{type:"arc",shape:{cx:e.getWidth()/2,cy:e.getHeight()/2,r:Math.min(e.getWidth(),e.getHeight())/2*.65,startAngle:(90+-angle)*Math.PI/180,endAngle:(220+-angle)*Math.PI/180},style:{stroke:"#FF8E89",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){let n=e.getWidth()/2,a=e.getHeight()/2,l=Math.min(e.getWidth(),e.getHeight())/2*.65,t=getCirlPoint(n,a,l,90+-angle);return{type:"circle",shape:{cx:t.x,cy:t.y,r:4},style:{stroke:"#FF8E89",fill:"#FF8E89"},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(r,e){let n=e.getWidth()/2,a=e.getHeight()/2,l=Math.min(e.getWidth(),e.getHeight())/2*.65,t=getCirlPoint(n,a,l,270+-angle);return{type:"circle",shape:{cx:t.x,cy:t.y,r:4},style:{stroke:"#0CD3DB",fill:"#0CD3DB"},silent:!0}},data:[0]},{name:"",type:"pie",clockWise:!1,radius:["40%","35%"],hoverAnimation:!1,label:{normal:{formatter:r=>"△",rich:{icon:{}}}},itemStyle:{normal:{borderColor:"#0A1934",borderWidth:5,color:function(r){return color[r.dataIndex]}}},labelLine:{show:!1},data},{type:"pie",zlevel:3,hoverAnimation:!1,radius:["45%","50%"],clockWise:!1,labelLine:{show:!1},label:{show:!1},data:datas}]};function getCirlPoint(r,e,n,a){let l=r+n*Math.cos(a*Math.PI/180),t=e+n*Math.sin(a*Math.PI/180);return{x:l,y:t}}function draw(){angle=angle+3,myChart.setOption(option,!0)}timerId&&clearInterval(timerId),timerId=setInterval(function(){draw()},100);
