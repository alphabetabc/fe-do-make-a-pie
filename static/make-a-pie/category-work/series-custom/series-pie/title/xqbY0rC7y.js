var dataStyle={normal:{label:{show:!1},labelLine:{show:!1},shadowBlur:40,shadowColor:"rgba(0, 0, 0,0.8)"}},data=[{value:2.1,name:"资产负债",selected:!1},{value:1.8,name:"社交网络服务",selected:!1},{value:1.7,name:"支付结算",selected:!1},{value:2.95,name:"其他",selected:!1}];getBackgroundImage();let angle=0;option={title:{text:"9%",textAlign:"center",textBaseline:"middle",textStyle:{color:"white",fontSize:40},left:"50%",top:"50%"},grid:{left:"0%",top:"0%",right:"0%",bottom:"0%"},series:[{name:"访问来源",type:"pie",radius:["58%","35%"],avoidLabelOverlap:!1,color:["#0066ff","#ff9c00","#00fcff","#00bc73","#f33887","#5e66ff","#f0d700"],label:{show:!1},itemStyle:dataStyle,data,silent:!0},{name:"ring4",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.85,startAngle:(0+-angle)*Math.PI/180,endAngle:(90+-angle)*Math.PI/180},style:{stroke:"rgb(255, 255, 255,0.2)",fill:"transparent"},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.85,startAngle:(180+-angle)*Math.PI/180,endAngle:(270+-angle)*Math.PI/180},style:{stroke:"rgb(255, 255, 255,0.2)",fill:"transparent"},silent:!0}},data:[0]},{name:"ring4",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"ring",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.8,r0:Math.min(t.getWidth(),t.getHeight())/2*.58},style:{stroke:"transparent",fill:new echarts.graphic.LinearGradient(0,.58,0,.8,[{offset:0,color:"rgb(255, 255, 255,0.1)"},{offset:1,color:"transparent"}])},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.6,startAngle:(0+angle)*Math.PI/180,endAngle:(90+angle)*Math.PI/180},style:{stroke:"#086d9f",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.6,startAngle:(180+angle)*Math.PI/180,endAngle:(270+angle)*Math.PI/180},style:{stroke:"#086d9f",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.65,startAngle:(270+-angle)*Math.PI/180,endAngle:(40+-angle)*Math.PI/180},style:{stroke:"#883d20",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.65,startAngle:(90+-angle)*Math.PI/180,endAngle:(220+-angle)*Math.PI/180},style:{stroke:"#883d20",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let r=t.getWidth()/2,a=t.getHeight()/2,i=Math.min(t.getWidth(),t.getHeight())/2*.65,n=getCirlPoint(r,a,i,90+-angle);return{type:"circle",shape:{cx:n.x,cy:n.y,r:4},style:{stroke:"#883d20",fill:"#883d20"},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let r=t.getWidth()/2,a=t.getHeight()/2,i=Math.min(t.getWidth(),t.getHeight())/2*.65,n=getCirlPoint(r,a,i,270+-angle);return{type:"circle",shape:{cx:n.x,cy:n.y,r:4},style:{stroke:"#883d20",fill:"#883d20"},silent:!0}},data:[0]},{name:"ring1",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"ring",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.37},style:{stroke:"rgba(255,255,255,0.4)",fill:"transparent"},silent:!0}},data:[0]},{name:"ring2",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"ring",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.3},style:{stroke:"#0885b5",fill:"transparent",lineWidth:2,lineDash:[15,10]},silent:!0}},data:[0]},{name:"ring3",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"ring",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.28},style:{stroke:"rgba(16, 81, 167,.5)",fill:"transparent"},silent:!0}},data:[0]},{name:"ring4",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"ring",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.2},style:{stroke:"#873c20",fill:"transparent"},silent:!0}},data:[0]}]};function getCirlPoint(e,t,r,a){let i=e+r*Math.cos(a*Math.PI/180),n=t+r*Math.sin(a*Math.PI/180);return{x:i,y:n}}function getBackgroundImage(){let e=document.getElementById("chart-panel"),t="http://i2.hdslb.com/bfs/archive/2da1ff7cd9e88497116a78146b39e73e967fb25e.jpg";e.style.backgroundImage="url("+t+")",e.style.backgroundSize="cover"}function draw(){angle=angle+3,myChart.setOption(option,!0)}setInterval(function(){draw(),times++,times>=20&&(times=0,changeSelect())},100);var times=0,count=0;function changeSelect(){var e=count%data.length;option.series[0].data[e].selected=!1,count++;var t=count%data.length;option.series[0].data[t].selected=!0,option.title.text=option.series[0].data[t].value+"%",myChart.setOption(option,!0)}
