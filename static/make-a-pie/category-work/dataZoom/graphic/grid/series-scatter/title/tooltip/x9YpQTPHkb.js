function makeDataZoom(e){return echarts.util.extend({type:"slider",fillerColor:"rgba(255,255,255,0.1)",borderColor:"#777",handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"60%",handleStyle:{color:"#aaa"},textStyle:{color:"#aaa"},filterMode:"empty",realtime:!1},e)}var dataAll=[[[10,8.04],[8,6.95],[13,7.58],[9,8.81],[11,8.33],[14,9.96],[6,7.24],[4,4.26],[12,10.84],[7,4.82],[5,5.68]],[[30,9.14],[8,8.14],[13,8.74],[9,8.77],[11,9.26],[14,8.1],[6,6.13],[4,3.1],[12,9.13],[7,7.26],[5,4.74]],[[10,7.46],[8,6.77],[13,12.74],[9,7.11],[11,7.81],[14,8.84],[6,6.08],[4,5.39],[12,8.15],[7,6.42],[5,5.73]],[[8,6.58],[8,5.76],[8,7.71],[8,8.84],[8,8.47],[8,7.04],[8,5.25],[19,12.5],[8,5.56],[8,7.91],[8,6.89]]],gridWidth="80%",gridHeight="43%",gridHeight1=200,gridHeight2=400,gridLeft=80,gridRight=50,gridTop=50,gridBottom=80,option={title:{text:"Anscombe's quartet",x:"center",y:0},axisPointer:{show:!0,snap:!0,lineStyle:{type:"dashed"},label:{show:!0,margin:6,backgroundColor:"#556",textStyle:{color:"#fff"}},link:{xAxisIndex:"all"}},grid:[{x:50,y:50,width:gridWidth,height:gridHeight1,z:2},{x:50,y:50,width:gridWidth,height:gridHeight1,z:1},{x:50,y2:50,width:gridWidth,height:gridHeight2}],tooltip:{formatter:"Group {a}: ({c})"},xAxis:[{gridIndex:0,min:0,max:20},{gridIndex:1,min:0,max:20},{gridIndex:2,min:0,max:20}],yAxis:[{gridIndex:0,min:0,max:15},{gridIndex:1,min:0,max:15},{gridIndex:2,min:0,max:15}],graphic:[{type:"group",left:50,top:320,children:[{type:"line",id:"line",z:9999,shape:{x1:0,y1:0,x2:1e3,y2:0},style:{fill:"red",stroke:"#8EC9EB",lineWidth:3,shadowBlur:0},draggable:!0,ondrag:echarts.util.curry(lineDrag)}]}],series:[{name:"0",type:"scatter",xAxisIndex:0,yAxisIndex:0,data:dataAll[0],markLine:markLineOpt},{name:"I",type:"scatter",xAxisIndex:1,yAxisIndex:1,data:dataAll[1],markLine:markLineOpt},{name:"III",type:"scatter",xAxisIndex:2,yAxisIndex:2,data:dataAll[2],markLine:markLineOpt}],dataZoom:[makeDataZoom({width:gridWidth,height:20,left:gridLeft,bottom:10,xAxisIndex:[0,1]}),makeDataZoom({orient:"vertical",width:20,height:gridHeight1,right:10,top:gridTop,yAxisIndex:[0,0]}),makeDataZoom({orient:"vertical",width:20,height:gridHeight2,right:10,bottom:gridBottom,yAxisIndex:[1,1]}),makeDataZoom({orient:"vertical",width:20,height:gridHeight2,right:10,bottom:gridBottom,yAxisIndex:[2,2]})]},markLineOpt={animation:!1,label:{normal:{formatter:"y = 0.5 * x + 3",textStyle:{align:"right"}}},lineStyle:{normal:{type:"solid"}},tooltip:{formatter:"y = 0.5 * x + 3"},data:[[{coord:[0,3],symbol:"none"},{coord:[20,13],symbol:"none"}]]};function lineDrag(e){console.log("event.target.position:"+e.target.position);const t=e.target.transformCoordToGlobal(e.target.position[0],e.target.position[1]);console.log("position:"+t),option.graphic[0].left=50,t[1]>100&&t[1]<500&&(option.grid[0].height=t[1]-70,option.grid[1].height=t[1]-70,option.grid[2].height=600-t[1]+70,option.graphic[0].top=t[1],myChart.setOption(option))}
