let dataList=[{name:"苹果",value:"56"},{name:"橘子",value:"75"},{name:"香蕉",value:"85"},{name:"火龙果",value:"78"},{name:"西瓜",value:"76"},{name:"椰子",value:"45"},{name:"葡萄",value:"100"}];myChart.setOption({backgroundColor:"rgb(20,28,52)",grid:{left:"10%",right:"13%",bottom:"10%",top:"8%"},title:{text:"爱吃水果指数",left:26,top:26,textStyle:{color:"#FFFFFF",fontSize:15,fontWeight:5e4,fontFamily:"PingFang SC"}},toolbox:{feature:{dataView:{show:!0,readOnly:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!1},saveAsImage:{show:!0,name:"爱吃水果指数统计图",pixelRatio:2}},iconStyle:{normal:{borderColor:"#41A7DE"}},itemSize:12,top:20,right:22},tooltip:{trigger:"axis",axisPointer:{type:"shadow",crossStyle:{color:"#999"}}},xAxis:[{type:"category",data:["苹果","橘子","香蕉","火龙果","西瓜","椰子","葡萄"],axisLabel:{textStyle:{color:"#ffffff",fontSize:14,fontFamily:"Microsoft YaHei"}},axisLine:{show:!1},axisTick:{show:!1}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}",textStyle:{color:"#fff",fontSize:12,fontFamily:"Microsoft YaHei"}},splitLine:{lineStyle:{color:"#666"}},axisLine:{show:!1},axisTick:{show:!1}},{type:"value",axisLabel:{formatter:"{value}",textStyle:{color:"#fff",fontSize:12,fontFamily:"Microsoft YaHei"}},splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}}],dataZoom:[{type:"inside",start:0,end:dataList.length>15?35:100}],series:[{name:"爱吃指数",type:"bar",data:dataList,barGap:"-100%",barCategoryGap:"60%",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#499ef4"},{offset:1,color:"#3eb5dd"}])},emphasis:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#3eb5dd"},{offset:1,color:"#499ef4"}])}}},{name:"爱吃水果占比",type:"line",yAxisIndex:1,data:dataList,itemStyle:{normal:{color:"#ff7f50"}}}]}),myChart.off("click"),myChart.getZr().on("click",e=>{const t=[e.offsetX,e.offsetY];if(myChart.containPixel("grid",t)){const o=Math.abs(myChart.convertFromPixel("grid",t)[0]);console.log(o),console.log(dataList[o])}else console.log("点击的是背景...")});
