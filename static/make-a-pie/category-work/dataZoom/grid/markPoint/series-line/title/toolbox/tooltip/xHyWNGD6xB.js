const rnd=()=>.2*Math.random()-.1,randomWalk=e=>{const o=[1];for(let l=1;l<e;l++)o[l]=Number((o[l-1]*(1+rnd())).toFixed(2));return o},prices=randomWalk(101),profit=e=>{if(console.log("start======================>"),!e||!e.length)return[0,0];let o=0,l=0,a=0,n=0;console.log("buy=====>",0,e[0]);let s=-e[0];for(let t=1;t<e.length;t++){const r=e[t];s+r>n&&(console.log("sell=====>",t,r),o=t,l=a,n=s+r),-r>s&&(console.log("buy=====>",t,r),a=t,s=-r)}return[l,o]},profit2=e=>{if(!e||!e.length)return[0,0];const o={buyIndex:-1,sellIndex:-1};let l=0,a=0;for(let n=0;n<e.length;n++){const s=e[n],t=e[a];if(s<t){a=n;continue}l<s-t&&(l=s-t,o.buyIndex=a,o.sellIndex=n)}return[o.buyIndex,o.sellIndex]},[bIdx,sIdx]=profit(prices),data=prices.map((e,o)=>[o,e]);option={backgroundColor:"#080b30",title:{text:"quan",textStyle:{color:"#fff"}},tooltip:{trigger:"axis"},grid:{left:64,right:16,bottom:80},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,0.3)"},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}}},dataZoom:[{type:"inside",start:0,end:1e3},{start:0,end:1e3,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{type:"line",lineStyle:{color:"#6c50f3"},markPoint:{symbol:"circle",symbolSize:20,data:[{name:"最大值",coord:[sIdx,data[sIdx][1]],symbolOffset:[0,-25],itemStyle:{color:"yellowgreen"}},{name:"最小值",coord:[bIdx,data[bIdx][1]],symbolOffset:[0,25],itemStyle:{color:"red"}}]},data}]};
