let easingFuncs={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){let e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},elasticOut:function(t){let e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){let e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){let e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){let e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){let e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-easingFuncs.bounceOut(1-t)},bounceOut:function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},bounceInOut:function(t){return t<.5?easingFuncs.bounceIn(t*2)*.5:easingFuncs.bounceOut(t*2-1)*.5+.5}},N_POINT=30,grids=[],xAxes=[],yAxes=[],series=[],titles=[],dataZooms=[],count=0,seriesCount=0,seriseMap=[],selectMap=[],selectIndex=-1,selectGrid={},showOneChart=!1;echarts.util.each(easingFuncs,function(t,e){let n=[],r=[],i=[];for(let a=0;a<=N_POINT;a++){let o=a/N_POINT,u=t(o);n.push([o,u]),r.push([o,u*.5]),i.push([o,u*.25])}selectMap.push(!1),grids.push({show:!0,borderWidth:0,backgroundColor:"#fff",shadowColor:selectMap[count]?"rgba(255, 0, 0, 1)":"rgba(0, 0, 0, 0.3)",shadowBlur:selectMap[count]?10:2,containLabel:!0}),xAxes.push({type:"value",show:!0,min:0,max:1,gridIndex:count}),yAxes.push({type:"value",show:!0,min:-.4,max:1.4,gridIndex:count}),seriseMap.push([]),series.push({name:"origin",type:"line",xAxisIndex:count,yAxisIndex:count,data:n,showSymbol:!1,animationEasing:e,animationDuration:1e3,itemStyle:{color:"rgba(255, 0, 0, 1)"}}),seriseMap[count].push(seriesCount++),series.push({name:"half",type:"line",xAxisIndex:count,yAxisIndex:count,data:r,showSymbol:!1,animationEasing:e,animationDuration:1e3,itemStyle:{color:"rgba(0, 255, 0, 1)"}}),seriseMap[count].push(seriesCount++),series.push({name:"quarter",type:"line",xAxisIndex:count,yAxisIndex:count,data:i,showSymbol:!1,animationEasing:e,animationDuration:1e3,itemStyle:{color:"rgba(0, 0, 255, 1)"}}),seriseMap[count].push(seriesCount++),titles.push({textAlign:"center",text:e,textStyle:{fontSize:12,fontWeight:"normal"},triggerEvent:!0}),dataZooms.push({type:"inside",xAxisIndex:[count],filterMode:"filter",start:0,end:100}),count++}),titles=titles.concat([{text:"点击小图标题高亮=>点击放大按钮单独查看子图",top:"bottom",left:"center"}]),selectGrid=grids[0];let rowNumber=3;echarts.util.each(grids,function(t,e){t.left=e%rowNumber/rowNumber*100+"%",t.top=Math.floor(e/rowNumber)/rowNumber*100+4+"%",t.width=1/rowNumber*100-4+"%",t.height=1/rowNumber*100-4+"%",titles[e].left=parseFloat(t.left)+parseFloat(t.width)/2+"%",titles[e].top=parseFloat(t.top)+"%"}),option={title:titles,grid:grids,xAxis:xAxes,yAxis:yAxes,series,tooltip:{trigger:"axis",axisPointer:{type:"cross"},confine:!0},toolbox:{show:!0,itemSize:20,feature:{myTool1:{title:"放大按钮",icon:"path://M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8zM14 6h-4v4h-4v4h4v4h4v-4h4v-4h-4z",onclick:function(){if(selectIndex!=-1)if(showOneChart=!showOneChart,myChart.setOption({toolbox:{feature:{myTool1:{iconStyle:{color:showOneChart?"#7CFC00":"#cdcdcd"}}}}}),showOneChart){let t=[];for(let n=0;n<seriseMap[selectIndex].length;++n){let r=series[seriseMap[selectIndex][n]],i={name:r.name,type:r.type,xAxisIndex:0,yAxisIndex:0,data:r.data,showSymbol:!1,animationEasing:name,animationDuration:1e3,itemStyle:r.itemStyle};t.push(i)}let e={title:{text:titles[selectIndex].text,top:"bottom",left:"center"},grid:{show:!0,borderWidth:0,backgroundColor:"#fff",shadowColor:"rgba(0, 0, 0, 1)",shadowBlur:10,top:"4%",containLabel:!0},xAxis:{type:"value",show:!0,min:xAxes[selectIndex].min,max:xAxes[selectIndex].max,gridIndex:0},yAxis:{type:"value",show:!0,min:yAxes[selectIndex].min,max:yAxes[selectIndex].max,gridIndex:0},series:t,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},dataZoom:{type:"inside",xAxisIndex:[0],filterMode:"filter",start:0,end:100},toolbox:myChart.getOption().toolbox};myChart.clear(),myChart.setOption(e)}else{echarts.util.each(grids,function(e,n){e.left=n%rowNumber/rowNumber*100+"%",e.top=Math.floor(n/rowNumber)/rowNumber*100+4+"%",e.width=1/rowNumber*100+"%",e.height=1/rowNumber*100+"%",titles[n].left=parseFloat(e.left)+parseFloat(e.width)/2+"%",titles[n].top=parseFloat(e.top)+"%"});let t={title:titles,grid:grids,xAxis:xAxes,yAxis:yAxes,series,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},dataZoom:dataZooms,toolbox:myChart.getOption().toolbox};myChart.clear(),myChart.setOption(t)}}}}},dataZoom:dataZooms},myChart.on("click","title",function(t){let e=t.componentIndex;selectIndex!=-1&&(selectMap[selectIndex]=!1,grids[selectIndex]=selectGrid),e!=selectIndex?(selectMap[e]=!selectMap[e],selectIndex=e,selectGrid=grids[e],grids[e]={show:!0,borderWidth:0,backgroundColor:"#fff",shadowColor:selectMap[e]?"rgba(255, 0, 0, 1)":"rgba(0, 0, 0, 0.3)",shadowBlur:selectMap[e]?12:2}):selectIndex=-1,myChart.setOption({grid:grids})});
