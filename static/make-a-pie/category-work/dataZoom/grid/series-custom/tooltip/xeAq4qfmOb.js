let fontcol="#00000087",this_={};this_.colmap={飞行:"#00daff",定检:"#f9ff00",排故:"#ff6000",停飞:"#a3abad"},this_.startTime=1620576e6,this_.categories=["飞机A","飞机B"],this_.dataE=[{name:"飞行",value:[0,1620576e6,16206012e5,"7小时"]},{name:"排故",value:[0,16206192e5,162063e7,"3小时"]},{name:"飞行",value:[1,16206444e5,16206552e5,"3小时"]},{name:"停飞",value:[1,16206552e5,16206583e5,"显示内容"]}];for(var i=0;i<this_.dataE.length;i++)this_.dataE[i].itemStyle={normal:{color:this_.colmap[this_.dataE[i].name]}};let renderItem=function(e,t){var a=t.value(0),r=t.coord([t.value(1),a]),n=t.coord([t.value(2),a]),o=t.size([0,1])[1]*.6,l=echarts.graphic.clipRectByRect({x:r[0],y:r[1]-o/2,width:n[0]-r[0],height:o},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return l&&{type:"rect",transition:["shape"],shape:l,style:t.style()}};this_.renderItem=renderItem,option={tooltip:{formatter:function(e){return e.value&&e.value.length>=4?e.marker+this_.categories[e.value[0]]+":"+e.name+"-"+e.value[3]:""}},dataZoom:[{type:"slider",filterMode:"weakFilter",xAxisIndex:0,showDetail:!1,showDataShadow:!1}],grid:{},xAxis:{min:this_.startTime,type:"time",scale:!0,axisLabel:{formatter:function(e){var t=new Date(Number(e)),a=t.getMonth()+1+"-"+t.getDate()+" "+t.getHours();return a}},axisLine:{lineStyle:{color:fontcol}},axisPointer:{show:!0,label:{formatter:function(e){let t=parseInt(e.value);return new Date(t).toLocaleString()},color:"black"}}},yAxis:{data:this_.categories,axisLine:{lineStyle:{color:fontcol}}},series:[{type:"custom",renderItem:this_.renderItem,itemStyle:{opacity:.8},encode:{x:[1,2],y:0},data:this_.dataE}]};
