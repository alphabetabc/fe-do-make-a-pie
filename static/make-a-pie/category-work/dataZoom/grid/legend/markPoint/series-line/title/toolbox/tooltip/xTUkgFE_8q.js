dataAll=function(){for(var a=[],e=0;e<30;)a.push((Math.random()*3+5).toFixed(1)-0),e++;return a}(),date=function(){for(var a=new Date,e=[],t=30;t--;)e.unshift(a.toLocaleTimeString().replace(/^\D*/,"")),a=new Date(a-2e3);return e}(),option={title:{text:"重绘面积图",subtext:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:[],toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:date}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]}],series:[{name:"重绘",type:"line",smooth:!1,symbol:"none",data:[],areaStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(200, 200, 200,0.5)"},{offset:1,color:"rgba(200, 200, 200,0.5)"}])}},{name:"完整",type:"line",smooth:!1,symbol:"none",data:dataAll,show:!1,areaStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(200, 200, 200,0.2)"},{offset:1,color:"rgba(200, 200, 200,0.2)"}])},markPoint:{data:[{type:"max",name:"最大值"}]}}]},data3=[],timer=setInterval(function(){data3.push(dataAll.shift()),myChart.setOption({series:[{data:data3,markPoint:{symbol:"circle",symbolSize:10,label:{fontSize:16,color:"#000",formatter:data3[data3.length-1]+"",offset:[0,-20]},itemStyle:{color:"#6c6c6c"},data:[{value:"",xAxis:data3.length-1,yAxis:data3[data3.length-1]}]}}]}),dataAll.length===0&&clearInterval(timer)},500);
