for(var xData=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],colors=["#c43b33","#016299","#008e9c","#a42380","#d09900","#f2c172","#009d6a","#8fc41e","#009dbe","#f9e701","#d4a7a2","#5d2d69","#76A32E","#c33a32","#de82b1","#e40177","#008e9c","#557284","#e66021","#004ea2"],itemList=["氯霉素","四环素类","地塞米松","金刚烷胺","磺胺类","替米考星","克伦特罗","沙丁胺醇","西马特罗","黄曲霉B1","氟苯尼考","莱克多巴胺"],selectedList={},selectedList1={},legendData=[],i=0;i<itemList.length;i++)selectedList[itemList[i]+"合格率"]=!1,selectedList[itemList[i]+"合格数"]=!0,selectedList1[itemList[i]+"合格率"]=!1,selectedList1[itemList[i]+"合格数"]=!1,legendData.push(itemList[i]+"合格率"),legendData.push(itemList[i]+"不合格数");var serieshHegeData=[["99","100","90","80","100","90","80","100","90","80","100","90","80"],["98","100","90","80","100","90","80","100","90","80","100","90","80"],["88","75","67","88","75","67","88","75","67","88","75","67","82"],["76","95","83","76","95","83","76","95","83","76","95","83","97"],["70","96","45","75","75","72","92","100","78","98","72","91","80"],["78","75","91","88","83","67","80","65","89","86","75","77","88"],["86","98","100","86","85","93","86","85","73","86","85","73","87"],["91","75","67","88","75","67","88","75","67","88","75","67","82"],["81","95","83","76","95","83","76","95","83","76","95","83","97"],["75","96","45","75","75","72","92","100","78","98","72","91","80"],["95","75","91","88","83","67","80","65","89","86","75","77","88"],["100","98","100","86","85","93","86","85","73","86","85","73","87"]],serieshHegeNumData=[["8","10","9","8","10","9","8","10","9","8","10","9"],["8","10","9","8","10","9","8","10","9","8","10","9"],["253","452","234","253","452","234","253","452","234","253","452","234"],["398","287","197","398","287","197","398","287","197","398","287","197"],["8","10","9","8","10","9","8","10","9","8","10","9"],["253","452","234","253","452","234","253","452","234","253","452","234"],["398","287","197","398","287","197","398","287","197","398","287","197"],["253","452","234","253","452","234","253","452","234","253","452","234"],["398","287","197","398","287","197","398","287","197","398","287","197"],["8","10","9","8","10","9","8","10","9","8","10","9"],["253","452","234","253","452","234","253","452","234","253","452","234"],["398","287","197","398","287","197","398","287","197","398","287","197"]],serieshNoHegeNumData=[["8","100","90","80","100","90","80","100","90","80","100","90"],["8","100","90","80","100","90","80","100","90","80","100","90"],["28","85","78","28","85","78","28","85","78","28","85","78"],["38","28","18","38","28","18","38","28","18","38","28","18"],["80","100","90","80","100","90","80","100","90","80","100","90"],["28","25","78","28","25","78","28","25","78","28","25","78"],["38","28","18","38","28","18","38","28","18","38","28","18"],["28","15","78","28","15","78","28","15","78","28","15","78"],["38","28","18","38","28","18","38","28","18","38","28","18"],["80","100","90","80","100","90","80","100","90","80","100","90"],["28","85","78","28","85","78","28","85","78","28","85","78"],["38","28","18","38","28","18","38","28","18","38","28","18"]],seriesData=[],seriesFun=function(){for(var e=0;e<=itemList.length;e++)a={name:itemList[e]+"合格率",type:"line",smooth:!0,itemStyle:{normal:{color:colors[e]}},data:serieshHegeData[e]},b={name:itemList[e]+"合格数",type:"bar",stack:itemList[e],yAxisIndex:1,itemStyle:{normal:{color:"#009d6a"}},data:serieshHegeNumData[e]},c={name:itemList[e]+"不合格数",type:"bar",stack:itemList[e],yAxisIndex:2,itemStyle:{normal:{color:colors[e]}},data:serieshNoHegeNumData[e]},seriesData.push(a),seriesData.push(b),seriesData.push(c);return seriesData};seriesFun();var option={title:{text:"某个类型不同项目【部门一】月报表",x:"center",subtext:""},color:colors,tooltip:{trigger:"item",confine:!0,formatter:function(e,n,r){var t=parseInt(e.seriesIndex/3);return xData[e.dataIndex]+"【"+itemList[t]+"】数据<br /><hr />"+itemList[t]+"合格率:"+serieshHegeData[t][e.dataIndex]+"<br />"+itemList[t]+"合格数:"+serieshHegeNumData[t][e.dataIndex]+"<br />"+itemList[t]+"不合格数:"+serieshNoHegeNumData[t][e.dataIndex]+"<br />"}},grid:{top:"10",bottom:"240"},toolbox:{orient:"vertical",itemGap:15,right:"15",y:"center",feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{selected:selectedList,y:"bottom",data:legendData},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},data:xData}],yAxis:[{type:"value",name:"合格率",min:0,max:100,position:"left",axisLabel:{formatter:"{value} %"}},{type:"value",name:"不合格/合格数",min:0,max:500,position:"right",axisLine:{lineStyle:{color:colors[1]}},axisLabel:{formatter:"{value} 个"}},{show:!1,type:"value",name:"不合格/合格数",min:0,max:500,position:"right",axisLine:{lineStyle:{color:colors[2]}},axisLabel:{formatter:"{value} 个"}}],dataZoom:[{show:!0,height:30,xAxisIndex:[0],bottom:0,type:"slider",start:1,end:20,handleSize:"110%",handleStyle:{color:"#9B4E4E"},bottom:"180"}],series:seriesData};myChart.on("legendselectchanged",function(e){var n=e.name.substr(e.name.length-4);if(n=="不合格数"){var r=e.name.split("不合格数"),t=r[0]+"合格率",s=r[0]+"不合格数",l=r[0]+"合格数";e.selected[s]==!0?e.selected[l]=!0:(e.selected[l]=!1,e.selected[t]=!1),option.legend.selected=e.selected,myChart.setOption(option)}else{var r=e.name.split("合格率"),s=r[0]+"不合格数",l=r[0]+"合格数";e.selected[s]=!0,e.selected[l]=!0,option.legend.selected=e.selected,myChart.setOption(option)}}),myChart.on("click",eConsole);function eConsole(e){e.seriesName.substring(e.seriesName.length-4)=="不合格数"}
