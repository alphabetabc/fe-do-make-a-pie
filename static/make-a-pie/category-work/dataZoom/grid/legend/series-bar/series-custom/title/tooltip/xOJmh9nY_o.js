function getNowFormatDate(){var e=new Date,a="/",t=e.getFullYear(),l=e.getMonth()+1,o=e.getDate();l>=1&&l<=9&&(l="0"+l),o>=0&&o<=9&&(o="0"+o);var r=t+a+l+a+o;return r}var data=[],endTime=getNowFormatDate()+" 18:00",startTime=getNowFormatDate()+" 8:00",categories=["王伟","李明","张三","李四","王五"],types=[{name:"在线",color:"#46BCFF"},{name:"离线",color:"#FF5959"},{name:"暂停",color:"#D9D9D9"},{name:"延时服务在线",color:"#00FAFC"}];data=[{name:"在线",value:[0,"2018/12/4 8:00","2018/12/4 9:12"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"离线",value:[0,"2018/12/4 9:12","2018/12/4 9:30"],itemStyle:{normal:{color:"#FF5959"}}},{name:"暂停",value:[0,"2018/12/4 9:30","2018/12/4 10:30"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"延时服务在线",value:[0,"2018/12/4 10:30","2018/12/4 19:00"],itemStyle:{normal:{color:"#00FAFC"}}},{name:"在线",value:[1,"2018/12/4 8:00","2018/12/4 9:12"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"离线",value:[1,"2018/12/4 9:12","2018/12/4 9:30"],itemStyle:{normal:{color:"#FF5959"}}},{name:"暂停",value:[1,"2018/12/4 9:30","2018/12/4 10:30"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"延时服务在线",value:[1,"2018/12/4 10:30","2018/12/4 12:00"],itemStyle:{normal:{color:"#00FAFC"}}},{name:"在线",value:[1,"2018/12/4 14:00","2018/12/4 18:12"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"暂停",value:[1,"2018/12/4 12:00","2018/12/4 14:00"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"在线",value:[2,"2018/12/4 8:00","2018/12/4 9:12"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"离线",value:[2,"2018/12/4 9:12","2018/12/4 9:30"],itemStyle:{normal:{color:"#FF5959"}}},{name:"暂停",value:[2,"2018/12/4 9:30","2018/12/4 10:30"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"延时服务在线",value:[2,"2018/12/4 10:30","2018/12/4 12:00"],itemStyle:{normal:{color:"#00FAFC"}}},{name:"在线",value:[2,"2018/12/4 14:00","2018/12/4 18:12"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"暂停",value:[2,"2018/12/4 12:00","2018/12/4 14:00"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"在线",value:[3,"2018/12/4 8:00","2018/12/4 12:00"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"离线",value:[3,"2018/12/4 12:00","2018/12/4 13:30"],itemStyle:{normal:{color:"#FF5959"}}},{name:"暂停",value:[3,"2018/12/4 13:30","2018/12/4 14:00"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"延时服务在线",value:[3,"2018/12/4 14:00","2018/12/4 14:02"],itemStyle:{normal:{color:"#00FAFC"}}},{name:"在线",value:[3,"2018/12/4 14:02","2018/12/4 17:12"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"离线",value:[3,"2018/12/4 17:12","2018/12/4 18:00"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"在线",value:[4,"2018/12/4 8:00","2018/12/4 9:00"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"离线",value:[4,"2018/12/4 9:00","2018/12/4 10:30"],itemStyle:{normal:{color:"#FF5959"}}},{name:"暂停",value:[4,"2018/12/4 10:30","2018/12/4 11:00"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"延时服务在线",value:[4,"2018/12/4 11:00","2018/12/4 13:00"],itemStyle:{normal:{color:"#00FAFC"}}},{name:"在线",value:[4,"2018/12/4 13:00","2018/12/4 14:00"],itemStyle:{normal:{color:"#46BCFF"}}},{name:"离线",value:[4,"2018/12/4 14:00","2018/12/4 15:00"],itemStyle:{normal:{color:"#D9D9D9"}}},{name:"延时服务在线",value:[4,"2018/12/4 15:00","2018/12/4 16:00"],itemStyle:{normal:{color:"#00FAFC"}}},{name:"在线",value:[4,"2018/12/4 16:00","2018/12/4 18:00"],itemStyle:{normal:{color:"#46BCFF"}}}];function renderItem(e,a){var t=a.value(0),l=a.coord([a.value(1),t]),o=a.coord([a.value(2),t]),r=a.size([0,1])[1]*.6;return{type:"rect",shape:echarts.graphic.clipRectByRect({x:l[0],y:l[1]-r/2,width:o[0]-l[0],height:r},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height}),style:a.style()}}option={tooltip:{formatter:function(e){return e.marker+e.name+" : "+e.value[1]+" - "+e.value[2]}},title:{text:"",left:"center"},legend:{data:types,selectedMode:!1},dataZoom:[{type:"slider",filterMode:"weakFilter",showDataShadow:!1,top:400,height:10,borderColor:"transparent",backgroundColor:"#e2e2e2",handleIcon:"M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",handleSize:20,handleStyle:{shadowBlur:6,shadowOffsetX:1,shadowOffsetY:2,shadowColor:"#aaa"},labelFormatter:""},{type:"inside",filterMode:"weakFilter"}],grid:{height:300},xAxis:{type:"time",min:startTime,max:endTime,scale:!0},yAxis:{data:categories},series:[{name:types[0].name,type:"bar",data:[],color:"#46BCFF"},{name:types[1].name,type:"bar",data:[],color:"#FF5959"},{name:types[2].name,type:"bar",data:[],color:"#D9D9D9"},{name:types[3].name,type:"bar",data:[],color:"#00FAFC"},{type:"custom",renderItem,itemStyle:{normal:{opacity:1}},encode:{x:[1,2],y:0},data}]};
