var data=[],dataCount=100,startTime="2018/05/18 9:10",categories=["大族激光1"],types=[{name:"运行",color:"green"},{name:"待机",color:"yellow"},{name:"停机",color:"red"}];data=[{name:"运行",value:[0,"2018/05/18 9:10","2018/05/18 9:12",2],itemStyle:{normal:{color:"green"}}},{name:"停机",value:[0,"2018/05/18 9:12","2018/05/18 9:14",2],itemStyle:{normal:{color:"red"}}},{name:"运行",value:[0,"2018/05/18 9:14","2018/05/18 9:18",4],itemStyle:{normal:{color:"green"}}},{name:"停机",value:[0,"2018/05/18 9:18","2018/05/18 9:30",12],itemStyle:{normal:{color:"red"}}}];function renderItem(t,e){var r=e.value(0),a=e.coord([e.value(1),r]),l=e.coord([e.value(2),r]),o=e.size([0,1])[1]*.6;return{type:"rect",shape:echarts.graphic.clipRectByRect({x:a[0],y:a[1]-o/2,width:l[0]-a[0],height:o},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height}),style:e.style()}}option={title:{text:"设备状态",left:"center"},legend:{data:types,bottom:30,right:20,selectedMode:!1},dataZoom:[{type:"slider",filterMode:"weakFilter",showDataShadow:!1,top:400,height:10,start:0,end:100,borderColor:"transparent",backgroundColor:"#e2e2e2",handleIcon:"M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",handleSize:20,handleStyle:{shadowBlur:6,shadowOffsetX:1,shadowOffsetY:2,shadowColor:"#aaa"},labelFormatter:""},{type:"inside",filterMode:"weakFilter"}],grid:{height:300},xAxis:{type:"time",min:startTime,scale:!0},yAxis:{data:categories},series:[{name:types[0].name,type:"bar",data:[],color:"red"},{name:types[1].name,type:"bar",data:[],color:"green"},{name:types[2].name,type:"bar",data:[],color:"yellow"},{type:"custom",renderItem,itemStyle:{normal:{opacity:.8}},encode:{x:[1,2,3],y:0},data}]};
