for(var yearCount=5,categoryCount=12,xAxisData=["海南","海口","琼海","三亚","儋州"],customData=[],legendData=[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],dataList=[[2068,400,60,170,160],[2284,600,80,210,210],[2571,800,130,320,350],[2759,1e3,200,450,560],[3150,1227,290,532,799],[3414,1587,477,672,908],[3581,1589,446,763,802],[4091,1875,396,900,1082],[4527,1945,438,936,1817],[4789,1886,504,1021,1006],[5325.7417,1903.365,526.2141,1144.0482,2772.0659]],encodeY=[1,2,3,4,5],i=0;i<categoryCount;i++){var val,customVal=[i];customData.push(customVal);for(var j=0;j<dataList.length;j++){var value=j===0?echarts.number.round(val,2):echarts.number.round(Math.max(0,dataList[j-1][i]+(Math.random()-.5)*200),2);customVal.push(value)}}function renderItem(t,e){for(var d=e.value(0),r=e.currentSeriesIndices(),l=e.barLayout({barGap:"30%",barCategoryGap:"20%",count:r.length-1}),o=[],a=0;a<r.length;a++){var s=r[a];if(s!==t.seriesIndex){var n=e.coord([d,e.value(s)]);n[0]+=l[a-1].offsetCenter,n[1]-=20,o.push(n)}}var u=e.style({stroke:e.visual("color"),fill:null});return{type:"polyline",shape:{points:o},style:u}}option={title:{text:""},tooltip:{trigger:"axis"},legend:{data:legendData},dataZoom:[{type:"slider",start:0,end:100},{type:"inside",start:50,end:70}],xAxis:{data:xAxisData},yAxis:{name:"负荷（MW）"},series:[{type:"custom",name:"trend",renderItem,itemStyle:{borderWidth:2},encode:{x:0,y:encodeY},data:customData,z:200}].concat(echarts.util.map(dataList,function(t,e){return{type:"bar",animation:!1,name:legendData[e+1],itemStyle:{opacity:.5},data:t}}))};
