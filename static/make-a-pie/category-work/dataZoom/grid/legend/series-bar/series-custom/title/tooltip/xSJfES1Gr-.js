for(var categoryData=[],barData=[],dataCount=100,startDate=+new Date(2017,6,1),i=0;i<dataCount;i++){var date=startDate+i*3600*24*1e3;categoryData.push(date);var val=Math.random()*1e3;barData.push([i,echarts.number.round(val,2)])}function renderItem(r,e){var t=e.value(0),o=e.size([1,0])[0],a=echarts.format.formatTime("dd",categoryData[t]),d=echarts.format.formatTime("MM/dd",categoryData[t]);return+a==1&&(a=d),echarts.format.formatTime("MM/dd",new Date)===d&&(a+=`
今天`),{type:"group",children:[{type:"rect",shape:{x:e.coord([t,0])[0]-o/2,y:r.coordSys.y+r.coordSys.height,width:o,height:40},style:e.style({text:a,fill:"#ddd",stroke:"#ccc",lineWidth:1})}]}}option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["bar","error"]},dataZoom:[{type:"slider",showDetail:!1,end:20},{type:"inside",end:20}],grid:{bottom:150},xAxis:{data:categoryData,axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{},series:[{type:"bar",name:"bar",data:barData,itemStyle:{normal:{color:"#77bef7"}}},{type:"custom",name:"xLabel",renderItem,data:barData,z:100}]};
