var bFixedIn=!1,bFixedHouse=!1,fFixedInBase=13768,fFixedHouseBase=12e3,fExemptionPoint=5e3,fRateInEnd=.08,fRateInMed=.02,fRateInUnEmp=.002,fRateInInjuery=0,fRateInMate=0,fRateInHouse=.12,fInEndMin=3387,fInEndMax=25401,fInMedMin=5080,fInMedMax=fInEndMax,fInHouseMin=2120*.24/2,fInHouseMax=6096/2;function funcCalc5In(e){var a=0,r=e<fInEndMin?fInEndMin:e>fInEndMax?fInEndMax:e;a+=r*fRateInEnd;var t=e<fInMedMin?fInMedMin:e>fInMedMax?fInMedMax:e;a+=t*fRateInMed;var s=e<fInEndMin?fInEndMin:e>fInEndMax?fInEndMax:e;a+=s*fRateInUnEmp;var n=e<fInMedMin?fInMedMin:e>fInMedMax?fInMedMax:e;a+=n*fRateInInjuery;var v=e<fInMedMin?fInMedMin:e>fInMedMax?fInMedMax:e;return a+=v*fRateInMate,a}function funcCalcHouse(e){var a=e*fRateInHouse;return a=a<fInHouseMin?fInHouseMin:a>fInHouseMax?fInHouseMax:a,a}function funcCalcTax(e,a,r){var t=0,s="",n=e-a-r;n<=0?(t=0,s="不用交税"):n<=3e3?(t=n*.03,s="(0, 3000]"):n<=12e3?(t=n*.1-210,s="(3000, 12000]"):n<=25e3?(t=n*.2-1410,s="(12000, 25000]"):n<=35e3?(t=n*.25-2660,s="(25000, 35000]"):n<=55e3?(t=n*.3-4410,s="(35000, 55000]"):n<=8e4?(t=n*.35-7160,s="(55000, 80000]"):(t=n*.45-15160,s="土豪");var v={};return v.val=t,v.rank=s,v}for(var aryIncomeX=[],aryIncomeYTax=[],aryIncomeY=[],aryIncomeYRankDesc=[],aryIncomeY5In=[],aryIncomeYHouse=[],fIncomeLeft=5e3,fIncomeRight=1e5,i=fIncomeLeft;i<=fIncomeRight;i+=100){i>5e4&&(i+=900),aryIncomeX.push(i);var f5In=funcCalc5In(bFixedIn?fFixedInBase:i),fHousePerson=funcCalcHouse(bFixedHouse?fFixedHouseBase:i),f5In_House=f5In+fHousePerson,objVal_Rank=funcCalcTax(i,f5In_House,fExemptionPoint),fTax=Math.ceil(objVal_Rank.val);aryIncomeYTax.push(fTax),aryIncomeY.push(i-fTax-f5In_House),aryIncomeY5In.push(f5In),aryIncomeYHouse.push(fHousePerson),aryIncomeYRankDesc.push(objVal_Rank.rank)}option={title:{text:"北京个税(社保2017基): 起征点: "+fExemptionPoint},tooltip:{trigger:"axis",formatter:function(e){var a=e[0].dataIndex,r=[];return r.push("收入："+aryIncomeX[a]+"<br />"),r.push("五险："+aryIncomeY5In[a].toFixed(2)+"<br />"),r.push("公积金："+aryIncomeYHouse[a].toFixed(2)+"<br />"),r.push("五险+公积金："+(aryIncomeY5In[a]+aryIncomeYHouse[a]).toFixed(2)+"<br />"),r.push("个税："+aryIncomeYTax[a].toFixed(2)+"<br />"),r.push("个税等级："+aryIncomeYRankDesc[a]+"<br />"),r.push("五险+公积金+个税："+(aryIncomeY5In[a]+aryIncomeYHouse[a]+aryIncomeYTax[a]).toFixed(2)+"<br />"),r.push("税后收入："+aryIncomeY[a].toFixed(2)+"<br />"),r.push("+公积金税后收入："+(aryIncomeY[a]+aryIncomeYHouse[a]*2).toFixed(2)+"<br />"),r.push("年收入："+(aryIncomeX[a]*12).toFixed(2)+"<br />"),r.push("税后年收入："+(aryIncomeY[a]*12).toFixed(2)+"<br />"),r.push("+公积金税后年收入："+((aryIncomeY[a]+aryIncomeYHouse[a]*2)*12).toFixed(2)+"<br />"),r.push("年缴税："+(aryIncomeYTax[a]*12).toFixed(2)+"<br />"),r.join("")}},xAxis:{data:aryIncomeX},yAxis:[{type:"value",scale:!0,name:"tax",min:0},{type:"value",scale:!0,name:"income",max:fIncomeRight,min:0,splitLine:{show:!1}}],legend:{right:20,data:["tax","income"]},dataZoom:[{start:0,end:100},{type:"inside"}],series:[{name:"tax",type:"line",yAxisIndex:0,data:aryIncomeYTax},{name:"income",type:"line",yAxisIndex:1,data:aryIncomeY}]};
