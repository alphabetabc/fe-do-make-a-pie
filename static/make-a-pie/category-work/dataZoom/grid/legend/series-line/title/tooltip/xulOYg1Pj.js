var new1=0,min1=0,max1=0,avg1=0,new2=0,min2=0,max2=0,avg2=0,new3=0,min3=0,max3=0,avg3=0,new4=0,min4=0,max4=0,avg4=0,new5=0,min5=0,max5=0,avg5=0,date=[],data1=[],data2=[],data3=[],data4=[],data5=[];function getTime(){var e=arguments[0]||0,t,l,i,n;return t=e?new Date(e*1e3):new Date,l=t.getHours(),i=t.getMinutes(),n=t.getSeconds(),(l<10?"0"+l:l)+":"+(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)}data1.push(Math.ceil(Math.random()*10)),data2.push(Math.ceil(Math.random()*10)),data3.push(Math.ceil(Math.random()*10)),data4.push(Math.ceil(Math.random()*10)),data5.push(Math.ceil(Math.random()*10)),date.push(getTime(Math.round(new Date().getTime()/1e3)));var option={backgroundColor:"#193499",title:[{text:"图表名称",x:15,y:"20",textBaseline:"middle",textStyle:{fontSize:20,fontWeight:"500",color:"#fff"}},{text:"设备接口",x:15,y:"45",textBaseline:"middle",textStyle:{color:"#fff",fontSize:16,fontWeight:"100"}},{text:"最新",x2:235,y:"10",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:"最小",x2:165,y:"10",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:"最大",x2:95,y:"10",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:"平均",x2:20,y:"10",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:new1,x2:235,y:"40",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:min1,x2:165,y:"40",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:max1,x2:95,y:"40",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:avg1,x2:20,y:"40",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:new2,x2:235,y:"55",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:min2,x2:165,y:"55",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:max2,x2:95,y:"55",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:avg2,x2:20,y:"55",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:new3,x2:235,y:"70",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:min3,x2:165,y:"70",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:max3,x2:95,y:"70",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:avg3,x2:20,y:"70",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:new4,x2:235,y:"85",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:min4,x2:165,y:"85",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:max4,x2:95,y:"85",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:avg4,x2:20,y:"85",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:new5,x2:235,y:"100",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:min5,x2:165,y:"100",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:max5,x2:95,y:"100",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}},{text:avg5,x2:20,y:"100",textBaseline:"middle",textStyle:{fontSize:12,fontWeight:"100",color:"#fff"}}],legend:[{x2:300,y:33,icon:"rect",itemGap:3,itemWidth:11,itemHeight:11,orient:"vertical",data:["正压","负压","电压","电流","前轴温度"],textStyle:{color:"#fff"}}],grid:[{left:20,right:30,top:150,bottom:20,containLabel:!0}],tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#fff"}}},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#fff"}},data:date}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{formatter:"{value}m",textStyle:{fontSize:12}},splitLine:{lineStyle:{color:"#fff"}}}],dataZoom:[{type:"inside",start:0,end:100}],series:[{name:"正压",type:"line",smooth:!0,showSymbol:!1,lineStyle:{normal:{width:0}},itemStyle:{normal:{color:"rgba(150,150,255)"}},areaStyle:{opacity:1},data:data1},{name:"负压",type:"line",smooth:!0,showSymbol:!1,lineStyle:{normal:{width:0}},itemStyle:{normal:{color:"rgba(150,255,255)"}},areaStyle:{opacity:1},data:data2},{name:"电压",type:"line",smooth:!0,showSymbol:!1,lineStyle:{normal:{width:0}},itemStyle:{normal:{color:"rgba(150,255,150)"}},areaStyle:{opacity:1},data:data3},{name:"电流",type:"line",smooth:!0,showSymbol:!1,lineStyle:{normal:{width:0}},itemStyle:{normal:{color:"rgba(255,150,255)"}},areaStyle:{opacity:1},data:data4},{name:"前轴温度",type:"line",smooth:!0,showSymbol:!1,lineStyle:{normal:{width:0}},itemStyle:{normal:{color:"rgba(255,255,150)"}},areaStyle:{opacity:1},data:data5}]};setInterval(function(){data1.push(Math.ceil(Math.random()*10)),data2.push(Math.ceil(Math.random()*10)),data3.push(Math.ceil(Math.random()*10)),data4.push(Math.ceil(Math.random()*10)),data5.push(Math.ceil(Math.random()*10)),date.push(getTime(Math.round(new Date().getTime()/1e3))),data1.length>=20&&(data1=data1.slice(-20)),data2.length>=20&&(data2=data2.slice(-20)),data2.length>=20&&(data2=data2.slice(-20)),data3.length>=20&&(data3=data3.slice(-20)),data4.length>=20&&(data4=data4.slice(-20)),data5.length>=20&&(data5=data5.slice(-20)),date.length>=20&&(date=date.slice(-20)),new1=data1[data1.length-1],min1=Math.min.apply(null,data1),max1=Math.max.apply(null,data1),avg1=data1.reduce(function(e,t,l){return l!=data1.length-1?e+t:((e+t)/data1.length).toFixed(2)}),new2=data2[data2.length-1],min2=Math.min.apply(null,data2),max2=Math.max.apply(null,data2),avg2=data2.reduce(function(e,t,l){return l!=data2.length-1?e+t:((e+t)/data2.length).toFixed(2)}),new3=data3[data3.length-1],min3=Math.min.apply(null,data3),max3=Math.max.apply(null,data3),avg3=data3.reduce(function(e,t,l){return l!=data3.length-1?e+t:((e+t)/data3.length).toFixed(2)}),new4=data1[data4.length-1],min4=Math.min.apply(null,data4),max4=Math.max.apply(null,data4),avg4=data4.reduce(function(e,t,l){return l!=data4.length-1?e+t:((e+t)/data4.length).toFixed(2)}),new5=data5[data5.length-1],min5=Math.min.apply(null,data5),max5=Math.max.apply(null,data5),avg5=data5.reduce(function(e,t,l){return l!=data5.length-1?e+t:((e+t)/data5.length).toFixed(2)}),myChart.setOption({title:[{text:"实时电机参数监控"},{text:"水泵"},{text:"最新"},{text:"最小"},{text:"最大"},{text:"平均"},{text:new1+"m"},{text:min1+"m"},{text:max1+"m"},{text:avg1+"m"},{text:new2+"m"},{text:min2+"m"},{text:max2+"m"},{text:avg2+"m"},{text:new3+"m"},{text:min3+"m"},{text:max3+"m"},{text:avg3+"m"},{text:new4+"m"},{text:min4+"m"},{text:max4+"m"},{text:avg4+"m"},{text:new5+"m"},{text:min5+"m"},{text:max5+"m"},{text:avg5+"m"}],series:[{data:data1},{data:data2},{data:data3},{data:data4},{data:data5}],xAxis:[{data:date}]})},1e3);
