var selected={最高气温:!1,最低气温:!1},test=[];option={title:{text:"未来一周气温变化",subtext:"纯属虚构"},tooltip:{trigger:"axis"},legend:{data:["最高气温","最低气温"],selected},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value} °C"}},series:[{name:"最高气温",type:"line",data:[10,11,13,11,12,12,9],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"最低气温",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{position:"start",formatter:"最大值"},type:"max",name:"最高点"}]]}}]},myChart.on("highlight",e=>{!test.includes(e.seriesName)&&e.excludeSeriesId&&e.excludeSeriesId.length===0&&myChart.dispatchAction({type:"legendSelect",name:e.seriesName})}),myChart.on("downplay",e=>{!test.includes(e.seriesName)&&e.excludeSeriesId&&e.excludeSeriesId.length===0&&(console.log(test,e.seriesName),test[e.seriesName]||myChart.dispatchAction({type:"legendUnSelect",name:e.seriesName}))}),myChart.on("legendselectchanged",e=>{console.log(13),test[e.name]=!0,test.includes(e.name)&&!e.selected[e.name]&&(test=test.filter(t=>t!=e.name)),!test.includes(e.name)&&e.selected[e.name]&&test.push(e.name)});
