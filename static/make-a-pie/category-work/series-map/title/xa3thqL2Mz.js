var jiangsu={name:"江苏省",link:"/asset/get/s/data-1541483028242-KQ5kvH04Z.json",children:{宿迁市:"/asset/get/s/data-1541483174897-Fwn9USkUp.json",泰州市:"/asset/get/s/data-1541483169968-hYdTeUE5L.json",镇江市:"/asset/get/s/data-1541483163907-2bwxG5xct.json",扬州市:"/asset/get/s/data-1541483157174-fQracl91Q.json",盐城市:"/asset/get/s/data-1541483131486-HbDtUl-tj.json",淮安市:"/asset/get/s/data-1541483123146-gwHVDz7yO.json",连云港市:"/asset/get/s/data-1541483113326-E7Ab3iCV2.json",南通市:"/asset/get/s/data-1541483108475-vP4DzrwV1.json",苏州市:"/asset/get/s/data-1541483103134-CJRehfJKh.json",常州市:"/asset/get/s/data-1541483097335-QbKYjbhll.json",徐州市:"/asset/get/s/data-1541483089618-ZIt52gJLQ.json",无锡市:"/asset/get/s/data-1541483084338-Sw9ScWgbZ.json",南京市:"/asset/get/s/data-1541483074139-_hp0YK9kz.json"}};$.getJSON(jiangsu.link,function(t){echarts.registerMap("jiangsu",t),console.log("geoJson",t);let a=[];t.features.map(e=>{a.push({name:e.properties.name,value:e.properties.cp})}),console.log("data : ",a),option={backgroundColor:"#030303",title:{text:"中国地图",textStyle:{color:"#fff"}},animationDuration:1e3,animationEasing:"cubicOut",animationDurationUpdate:1e3,series:[{name:"江苏省地图",width:"40%",left:20,top:"center",type:"map",mapType:"jiangsu",data:a,itemStyle:{normal:{label:{show:!0,color:"#fff"},areaColor:"rgb(19, 91, 153)",borderColor:"rgb(9, 54, 95)"},emphasis:{label:{color:"#80c4ff"},areaColor:"rgb(10, 105, 187)"}}}]},myChart.setOption(option),loadMap("南京市")}),myChart.on("click",function(t){console.log("params : ",t),t.seriesIndex===0&&loadMap(t.name)});function loadMap(t){$.getJSON(jiangsu.children[t],function(a){echarts.registerMap(t,a);let e=[];a.features.map(s=>{e.push({name:s.properties.name,value:s.properties.cp})}),option.series[1]={name:t,width:"40%",top:"center",left:"55%",type:"map",mapType:t,data:e,itemStyle:{normal:{label:{show:!0,color:"#fff"},areaColor:"rgb(19, 91, 153)",borderColor:"rgb(9, 54, 95)"},emphasis:{label:{color:"#80c4ff"},areaColor:"rgb(10, 105, 187)"}}},myChart.setOption(option)})}
