function mapTooltipClick(a){alert(a)}function tooltipCharts(){console.log(arguments[0]);var a=echarts.init(document.getElementById("tooltipBarId")),t={tooltip:{},dataset:{source:[["xAxis","201701","201702","201703","201704","201705","201706","201707","201708","201709","20170","201710","20170","201801"],["amount",41.1,30.4,65.1,53.3,83.8,98.7,65.1,53.3,41.1,30.4,53.3,41.1,53.3,83.8]]},xAxis:{type:"category",interval:!0,axisLabel:{rotate:45},axisTick:{show:!1}},yAxis:{},color:["#4FA8F9","#F5A623"],grid:{show:!0,backgroundColor:"#FAFAFA",left:30,right:20,top:20},series:[{type:"bar",smooth:!0,seriesLayoutBy:"row",barWidth:10}]};a.setOption(t)}option={visualMap:{min:0,max:1e3,left:"left",top:"bottom",text:["高","低"],calculable:!1,orient:"horizontal",inRange:{color:["#e0ffff","#006edd"],symbolSize:[30,100]}},tooltip:{padding:0,enterable:!0,transitionDuration:1,textStyle:{color:"#000",decoration:"none"},formatter:function(a){var t="";return t='<div style="height:360px;width:400px;border-radius:5px;background:#fff;box-shadow:0 0 10px 5px #aaa">    <div style="height:50px;width:100%;border-radius:5px;background:#F8F9F9;border-bottom:1px solid #F0F0F0">        <span style="line-height:50px;margin-left:18px">'+a.name+'</span>        <span style="float:right;line-height:50px;margin-right:18px;color:#5396E3;cursor:pointer" onclick="mapTooltipClick(this);">点击查看详情</span>    </div>    <div style="height:110px;width:100%;background:#fff">        <div style="padding-left:18px;padding-top:22px">            <span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:rgba(92,169,235,1)"></span>             <span>上传表格数量</span>            <span style="float:right;margin-right:18px">'+a.data.tipData[0]+'万</span>        </div>        <div style="padding-left:18px;padding-top:14px">            <span style="display:inline-block;margin-right:5px;width:10px;height:10px;background-color:rgba(92,169,235,1)"></span>             <span>上传数据条数</span>            <span style="float:right;margin-right:18px">'+a.data.tipData[1]+'条</span>        </div>    </div>    <div id="tooltipBarId" style="height:200px;width:100%;border-radius:0 0 5px 0;background:#fff"></div></div>',setTimeout(function(){tooltipCharts(a.name)},10),t}},series:[{name:"iphone4",type:"map",mapType:"china",itemStyle:{normal:{label:{show:!1}},emphasis:{label:{show:!0}}},data:[{name:"北京",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"天津",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"上海",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"重庆",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"河北",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"河南",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"云南",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"辽宁",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"黑龙江",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"湖南",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"安徽",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"山东",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"新疆",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"江苏",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"浙江",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"江西",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"湖北",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"广西",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"甘肃",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"山西",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"内蒙古",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"陕西",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"吉林",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"福建",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"贵州",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"广东",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"青海",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"西藏",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"四川",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"宁夏",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"海南",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"台湾",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"香港",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]},{name:"澳门",value:Math.round(Math.random()*1e3),tipData:[Math.round(Math.random()*1e3),Math.round(Math.random()*1e3)]}]}]};var count=0,timeTicket=null,dataLength=option.series[0].data.length;timeTicket&&clearInterval(timeTicket),timeTicket=setInterval(function(){myChart.dispatchAction({type:"downplay",seriesIndex:0}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:count%dataLength}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:count%dataLength}),count++},1e3),myChart.on("mouseover",function(a){console.log(a),clearInterval(timeTicket),myChart.dispatchAction({type:"downplay",seriesIndex:0}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:a.dataIndex}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:a.dataIndex})}),myChart.on("mouseout",function(a){timeTicket&&clearInterval(timeTicket),timeTicket=setInterval(function(){myChart.dispatchAction({type:"downplay",seriesIndex:0}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:count%dataLength}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:count%dataLength}),count++},1e3)});
