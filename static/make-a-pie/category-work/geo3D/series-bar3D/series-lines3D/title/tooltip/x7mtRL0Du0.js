let mapData=((echarts.getMap("湖北")||{}).geoJson||{}).features||[],names=[];geoCoordMap={},mapData.map(a=>{let e=(a.properties||{}).name,t=(a.properties||{}).cp;e&&e!==""&&t&&(geoCoordMap[e]=t,names.push(e))});function generateNameData(a,e){let t=[];return names.map(o=>{let r=Math.round((Math.random()*(e-a)+a)*100)/100,l=geoCoordMap[o];t.push({name:o,value:l.slice().concat(r)})}),t}function generateLinesData(a,e){let t=[];return names.map(o=>{names.map(r=>{let l=Math.round((Math.random()*(e-a)+a)*100)/100,i=geoCoordMap[o],n=geoCoordMap[r];t.push([i,n,l])})}),t}let barData=generateNameData(100,300),linesData=generateLinesData(100,500);option={title:{text:"湖北省地图点击切换",x:"left",top:"10",textStyle:{color:"#000",fontSize:14}},tooltip:{show:!0},geo3D:{map:"湖北",roam:!0,itemStyle:{areaColor:"#1d5e98",opacity:1,borderWidth:.4,borderColor:"#000"},label:{show:!0,textStyle:{color:"#000",fontSize:8,opacity:1,backgroundColor:"rgba(0,23,11,0)"}},emphasis:{label:{show:!0,textStyle:{color:"#fff",fontSize:3,backgroundColor:"rgba(0,23,11,0)"}}},light:{main:{color:"#fff",intensity:1.2,shadow:!1,alpha:55,beta:10},ambient:{intensity:.3}},viewControl:{alpha:40,autoRotate:!0,autoRotateAfterStill:10}},series:[{name:"bar3D",type:"bar3D",coordinateSystem:"geo3D",barSize:1,shading:"lambert",opacity:1,bevelSize:.3,label:{show:!1,formatter:"{b}"},data:barData},{type:"lines3D",coordinateSystem:"geo3D",effect:{show:!0,trailWidth:1,trailOpacity:.5,trailLength:.2,constantSpeed:5},blendMode:"lighter",lineStyle:{width:.2,opacity:.05},data:linesData}]};let myChart=echarts.getInstanceByDom(document.getElementById("chart-panel"));myChart.on("click",a=>{let e=a.name,t=!1,o=myChart.getOption();e&&e!==""&&geoCoordMap[e]&&(t=!0,o.geo3D[0].viewControl.alpha=90,o.geo3D[0].viewControl.distance=0,myChart.setOption(o)),t||(o.geo3D[0].viewControl.alpha=40,o.geo3D[0].viewControl.distance=100,myChart.setOption(o))});
