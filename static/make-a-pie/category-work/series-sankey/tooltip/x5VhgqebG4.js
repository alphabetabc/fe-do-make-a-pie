let datalist=[{name:"系统11"},{name:"系统22"},{name:"系统33"},{name:"系统44"},{name:"系统55"},{name:"系统66"},{name:"系统77"},{name:"系统88"},{name:"系统99"},{name:"公共平台"}],linksData=[{source:"系统11",target:"公共平台",value:645246},{source:"系统22",target:"公共平台",value:513275},{source:"系统33",target:"公共平台",value:282986},{source:"系统44",target:"公共平台",value:118655},{source:"系统55",target:"公共平台",value:105989},{source:"系统66",target:"公共平台",value:95100},{source:"系统77",target:"公共平台",value:87796},{source:"系统88",target:"公共平台",value:47658},{source:"系统99",target:"公共平台",value:24366}],Color=["#02E4E7","#06D328","#02E4E7","#27C6F1","#4FA3F1","#33F0F7","#33F0F7","#33F0F7","#33F0F7","#8A7EE0","#2cb8cf","#4e70f0","#1fa3de","#bbc951","#FFC14B","#b785a6"],itemStyleColor=[];for(let e=0;e<datalist.length;e++)datalist[e].itemStyle={normal:{color:Color[e]}},itemStyleColor.push(datalist[e]);option={backgroundColor:"#031d7a",tooltip:{trigger:"item",triggerOn:"mousemove",formatter:function(e){if(e.name=="公共平台")return" 公共平台 ";{let r=e.data.value;if(!r&&r!==0)return 0;let t=r.toString(),a=t.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return e.data.source=="公共平台"?e.data.target+" : "+t.replace(a,"$1,"):e.data.source+" : "+t.replace(a,"$1,")}}},series:[{type:"sankey",layout:"none",top:"4%",bottom:"12%",left:"20",right:"20",nodeGap:15,nodeWidth:15,focusNodeAdjacency:"allEdges",data:itemStyleColor,links:linksData,label:{normal:{color:"#fff",fontSize:14,formatter:function(e){if(e.data.name=="公共平台"){let r=e.data.name.split(""),t="";for(let a=0,o;o=r[a++];)t+=o,a%1||(t+=`
`);return t}else return e.data.name},rich:{white:{fontSize:16,lineHeight:30,padding:[0,0,0,-26]}}}},lineStyle:{normal:{opacity:.7,color:"source",curveness:.5}},itemStyle:{normal:{borderWidth:0,borderColor:"red"}}}]};
