let canvas=document.createElement("canvas"),mapChart=echarts.init(canvas,null,{width:4096,height:2048}),pOp={geo:{map:"china",label:{fontSize:12},itemStyle:{areaColor:"transparent",borderColor:"#00FDFF"},emphasis:{areaColor:"transparent"},regions:[{name:"南海诸岛",value:0,itemStyle:{normal:{opacity:0,label:{show:!1}}}}],top:0,left:0,right:0,bottom:0,boundingCoords:[[-180,90],[180,-90]]},data:[],series:[{type:"effectScatter",coordinateSystem:"geo",data:[{name:"北京",value:[127.9688,45.368]}],symbolSize:20,showEffectOn:"render",rippleEffect:{brushType:"stroke",color:"#44FCF7",period:8,scale:3},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",padding:[0,0,0,8],show:!0,fontSize:14}},itemStyle:{normal:{color:"#44FCF7",shadowBlur:10}},zlevel:1},{type:"lines",zlevel:8,effect:{show:!0,period:3,trailLength:.4,symbol:"arrow",symbolSize:8},lineStyle:{normal:{color:"#44FCF7",width:1,opacity:.8,curveness:.3}},data:[{coords:[[127.9688,45.368],[121.4543,31.007]]}]}]};mapChart.setOption(pOp),option={backgroundColor:"#333",visualMap:[{show:!1,type:"continuous",seriesIndex:0,text:["scatter3D"],textStyle:{color:"#fff"},calculable:!0,max:3e3,inRange:{color:["#87aa66","#eba438","#d94d4c"],symbolSize:[8,30]}}],globe:{baseTexture:"/asset/get/s/data-1565167424629-_VRUzTZn2.jpg",heightTexture:"/asset/get/s/data-1491889019097-rJQYikcpl.jpg",displacementScale:.04,shading:"lambert",environment:"/asset/get/s/data-1491837999815-H1_44Qtal.jpg",light:{main:{color:"#fff",intensity:1.2,shadow:!1,alpha:40,beta:-30},ambient:{intensity:.5}},viewControl:{projection:"perspective",alpha:90,beta:0,center:[0,50,0],targetCoord:[110.46,10.92],autoRotate:!1,autoRotateAfterStill:10,distance:50},postEffectL:{enable:!0,depthOfFieldL:{enable:!0,focalDistance:1e3,fstop:100}},layers:[{type:"blend",texture:mapChart}]},series:[{type:"scatter3D",coordinateSystem:"globe",label:{show:!1},emphasis:{label:{show:!1}},data:[]},{name:"lines3D",type:"lines3D",coordinateSystem:"globe",effect:{show:!0,period:2,trailWidth:1,trailLength:.5,trailOpacity:1,trailColor:"#0087f4"},blendMode:"lighter",lineStyle:{width:1,color:"#0087f4",opacity:0},data:[],silent:!1}]},myChart.setOption(option);for(let e=0;e<50;e++)option.series[1].data=option.series[1].data.concat(getRandomData());function getRandomData(){return{coords:[[Math.random()*135.2,Math.random()*53.33],[121.51585,31.23045]],value:(Math.random()*30).toFixed(2)}}
