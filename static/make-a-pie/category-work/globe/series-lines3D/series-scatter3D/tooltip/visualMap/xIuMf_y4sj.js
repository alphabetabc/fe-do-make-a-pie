let canvas=document.createElement("canvas"),mapChart=echarts.init(canvas,null,{width:4096,height:2048}),pOp={geo:{map:"china",label:{fontSize:12},itemStyle:{areaColor:"transparent",borderColor:"#00FDFF"},emphasis:{areaColor:"transparent"},top:0,left:0,right:0,bottom:0,boundingCoords:[[-180,90],[180,-90]]}},data=[1,2,3,4];mapChart.setOption(pOp),option={backgroundColor:"#333",tooltip:{show:!0,formatter(t){return"经度："+t.data[0]+"</br>纬度："+t.data[1]+"</br>数据量："+t.data[3]}},visualMap:[{type:"continuous",seriesIndex:0,text:["scatter3D"],textStyle:{color:"#fff"},calculable:!0,max:3e3,inRange:{color:["#87aa66","#eba438","#d94d4c"],symbolSize:[8,30]}}],globe:{baseTexture:"/asset/get/s/data-1491837049070-rJZtl7Y6x.jpg",heightTexture:"/asset/get/s/data-1491889019097-rJQYikcpl.jpg",displacementScale:.04,shading:"lambert",environment:"/asset/get/s/data-1491837999815-H1_44Qtal.jpg",realisticMaterial:{roughness:.9},light:{main:{color:"#fff",intensity:1.2,shadow:!1,alpha:40,beta:-30},ambient:{intensity:.5}},viewControl:{alpha:30,beta:160,autoRotate:!0,autoRotateAfterStill:10,distance:150},layers:[{type:"blend",texture:mapChart}]},series:[{type:"scatter3D",coordinateSystem:"globe",label:{show:!1},emphasis:{label:{show:!1}},data},{name:"lines3D",type:"lines3D",coordinateSystem:"globe",effect:{show:!0,period:2,trailWidth:1,trailLength:.5,trailOpacity:1,trailColor:"#0087f4"},blendMode:"lighter",lineStyle:{width:1,color:"#0087f4",opacity:0},data:[],silent:!1}]};for(let t=0;t<50;t++)option.series[1].data=option.series[1].data.concat(rodamData());function rodamData(){let t="随机点"+Math.random().toFixed(5)*1e4,e=10.18,a=Math.random()*135.2,o=20.51,l=Math.random()*53.33;return{coords:[[a,l],[e,o]],value:(Math.random()*30).toFixed(2)}}
