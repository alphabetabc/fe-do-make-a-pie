const geoCoordMap={南宁:[108.479,23.1152],广州:[113.5107,23.2196],重庆:[107.7539,30.1904],芬兰:[24.909912,60.169095],美国:[-100.696295,33.679979],日本:[139.710164,35.706962],韩国:[126.979208,37.53875],瑞士:[7.445147,46.956241],东南亚:[117.53244,5.300343],澳大利亚:[135.193845,-25.304039],德国:[13.402393,52.518569],英国:[-.126608,51.208425],加拿大:[-102.646409,59.994255]};let CQData=[[{name:"重庆"},{name:"英国",value:70}]],GZData=[[{name:"广州"},{name:"日本",value:30}]],NNData=[[{name:"南宁"},{name:"加拿大",value:80}],[{name:"南宁"},{name:"美国",value:100}],[{name:"南宁"},{name:"澳大利亚",value:95}],[{name:"南宁"},{name:"瑞士",value:50}]];function convertData(e){let t=[];for(let o=0;o<e.length;o++){let a=e[o],[r,l]=[geoCoordMap[a[1].name],geoCoordMap[a[0].name]];r&&l&&t.push([r,l])}return t}let[series2d,series3d]=[[],[]];[["重庆",CQData],["广州",GZData],["南宁",NNData]].forEach(function(e){series2d.push({type:"effectScatter",coordinateSystem:"geo",zlevel:3,rippleEffect:{brushType:"stroke"},label:{fontSize:24,show:!0,position:"right",formatter:"{b}"},itemStyle:{normal:{color:"#f5f802"}},data:e[1].map(function(t){return{name:t[1].name,value:geoCoordMap[t[1].name],symbolSize:t[1].value/4}})},{type:"effectScatter",coordinateSystem:"geo",zlevel:3,rippleEffect:{brushType:"stroke"},label:{show:!0,position:"left",fontSize:18,formatter:"{b}"},itemStyle:{normal:{color:"#ff0000"}},data:[{name:e[0],value:geoCoordMap[e[0]],symbolSize:parseInt(Math.random()*20+10),label:{position:"right"}}]}),series3d.push({type:"lines3D",effect:{show:!0,period:3,trailLength:.1},lineStyle:{color:"#9ae5fc",width:1,opacity:.6},tooltip:{show:!0,trigger:"item",formatter(){return console.log(3),"jhfjdsagfjsdgfisdgfiusagfuiasgf"}},data:convertData(e[1])},{type:"scatter3D",name:"location",coordinateSystem:"globe",blendMode:"lighter",symbolSize:10,itemStyle:{color:"#0276f3",opacity:1},label:{show:!0,formatter:t=>t.data.name},data:[{name:"中国",value:[116.4551,40.2539,0]}]})});let chart=echarts.init(document.createElement("canvas"),null,{width:4096,height:2048});chart.setOption({backgroundColor:"rgba(3, 28, 72, 0.3)",tooltip:{backgroundColor:"red",alwaysShowContent:!0,formatter(e){return console.log(e),"jhfjdsagfjsdgfisdgfiusagfuiasgf"}},geo:{type:"map",map:"world",left:0,top:0,right:0,bottom:0,zoom:0,boundingCoords:[[-180,90],[180,-90]],roam:!1,itemStyle:{borderColor:"#000d2d",areaColor:"#2455ad",emphasis:{areaColor:"#357cf8"}},label:{fontSize:24}},series:series2d});let option={backgroundColor:"transparent",tooltip:{show:!0,alwaysShowContent:!0,formatter(e){return console.log(1),e.name}},globe:{baseTexture:chart,top:"middle",left:"center",displacementScale:0,environment:"examples/data-gl/asset/starfield.jpg",shading:"color",viewControl:{distance:240,autoRotate:!1}},roam:!0,series:series3d};myChart.setOption(option,!0);
