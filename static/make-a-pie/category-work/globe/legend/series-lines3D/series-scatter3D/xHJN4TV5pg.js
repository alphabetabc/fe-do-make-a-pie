$.getJSON("/asset/get/s/data-1491909692146-S1NH24cTe.json",function(t){var o=t.airports.map(function(e){return{coord:[e[3],e[4]]}});function l(e){return[t.airports[e][3],t.airports[e][4]]}var a={};t.routes.forEach(function(e){var r=t.airlines[e[0]],i=r[0];a[i]||(a[i]=[]),a[i].push(e)});var n=[];t.routes.forEach(function(e){n.push(l(e[1])),n.push(l(e[2]))});var s=t.airlines.map(function(e){var r=e[0],i=a[r];return i?{type:"lines3D",name:r,effect:{show:!0,trailWidth:2,trailLength:.15,trailOpacity:1,trailColor:"rgb(30, 30, 60)"},lineStyle:{width:1,color:"rgb(50, 50, 150)",opacity:.1},blendMode:"lighter",data:i.map(function(c){return[o[c[1]].coord,o[c[2]].coord]})}:null}).filter(function(e){return!!e});s.push({type:"scatter3D",coordinateSystem:"globe",blendMode:"lighter",symbolSize:2,itemStyle:{color:"rgb(50, 50, 150)",opacity:.2},data:n}),myChart.setOption({legend:{selectedMode:"single",left:"left",data:Object.keys(a),orient:"vertical",textStyle:{color:"#fff"}},globe:{environment:"/asset/get/s/data-1491837999815-H1_44Qtal.jpg",heightTexture:"/asset/get/s/data-1491837512042-rJlLfXYax.jpg",displacementScale:.1,displacementQuality:"high",baseColor:"#000",shading:"realistic",realisticMaterial:{roughness:.2,metalness:0},postEffect:{enable:!0,depthOfField:{enable:!1,focalDistance:150}},temporalSuperSampling:{enable:!0},light:{ambient:{intensity:0},main:{intensity:.1,shadow:!1},ambientCubemap:{texture:"/asset/get/s/data-1491837984109-r1u7NmY6e.hdr",exposure:1,diffuseIntensity:.5,specularIntensity:2}},viewControl:{autoRotate:!1},silent:!0},series:s}),window.addEventListener("keydown",function(){s.forEach(function(e,r){myChart.dispatchAction({type:"lines3DToggleEffect",seriesIndex:r})})})});
