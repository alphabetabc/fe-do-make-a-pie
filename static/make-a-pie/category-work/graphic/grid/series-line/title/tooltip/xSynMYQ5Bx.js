var symbolSize=20,data=[["一月",5],["二月",10],["三月",15],["一月",7],["二月",12],["三月",2]],data1;option={title:{text:"Support only vertical drag"},tooltip:{triggerOn:"none",formatter:function(t){return"X: "+t.name+"<br>Y: "+t.data.toFixed(2)}},grid:{},xAxis:{type:"category",data:["一月","二月","三月"]},yAxis:{type:"value"},series:[{id:"a",type:"line",smooth:!0,symbolSize,data:[5,10,15],label:{normal:{show:!0,position:"right",formatter:function(t){return t.data.toFixed(2)}}}},{id:"b",type:"line",smooth:!0,symbolSize,data:[7,12,2],label:{normal:{show:!0,position:"right",formatter:function(t){return t.data.toFixed(2)}}}}]},app.inNode||(setTimeout(function(){myChart.setOption({graphic:echarts.util.map(data,function(t,e){return{type:"circle",position:myChart.convertToPixel("grid",t),shape:{cx:0,cy:0,r:symbolSize/2},invisible:!0,draggable:!0,ondrag:echarts.util.curry(onPointDragging,e),onmousemove:echarts.util.curry(showTooltip,e),onmouseout:echarts.util.curry(hideTooltip,e),z:100}})})},0),window.addEventListener("resize",updatePosition));function updatePosition(){myChart.setOption({graphic:echarts.util.map(data,function(t,e){return{position:myChart.convertToPixel("grid",t)}})})}function showTooltip(t){myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t})}function hideTooltip(t){myChart.dispatchAction({type:"hideTip"})}function onPointDragging(t,e,o){data[t][1]=myChart.convertFromPixel("grid",this.position)[1];for(var r=[[],[]],i=0;i<3;i++)r[0].push(data[i][1]);for(var i=3;i<6;i++)r[1].push(data[i][1]);myChart.setOption({series:[{id:"a",data:r[0]},{id:"b",data:r[1]}]}),updatePosition()}
