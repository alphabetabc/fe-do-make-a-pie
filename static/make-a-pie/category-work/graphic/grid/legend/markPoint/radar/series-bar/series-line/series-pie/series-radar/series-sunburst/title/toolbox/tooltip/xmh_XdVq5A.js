var uploadedDataURL="/asset/get/s/data-1546054407386-I77NfgU1m.txt",logobig="/asset/get/s/data-1513425570601-HyoscFffz.png",colors=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],bgColor={type:"radial",x:.5,y:.5,r:.7,colorStops:[{offset:0,color:"#b6a2de"},{offset:.4,color:"#9a7fd1"},{offset:1,color:"#59678c"}],globalCoord:!1},categorys=[{name:"教育",max:28},{name:"励志",max:28},{name:"散文",max:28},{name:"小说",max:28},{name:"艺术",max:28},{name:"其他",max:28}],year2016=[6,3,5,7,1,0],year2017=[10,4,10,4,8,4],year2018=[9,7,16,25,4,5],fontSize=18,series=[],parseData=function(){for(var e=0;e<readrecord.length;e++){var t=new Date;t.setTime(Date.parse(readrecord[e].date));var o=t.getMonth(),a=[0,0,0,0,0,0,0,0,0,0,0,0],r=[,,,,,,,,,,,];a[o]=readrecord[e].readDays,r[o]=readrecord[e].words;var n={name:readrecord[e].name,type:"bar",stack:"天统计月",data:a},l={name:readrecord[e].name,type:"bar",stack:"字数统计",data:r,label:{show:!1,position:"inside",formatter:"{c}"},itemStyle:{shadowBlur:5,shadowColor:"rgba(0,0,0,0.3)",shadowOffsetX:1,shadowOffsetY:0,opacity:.9}};series.push(l)}var s=[3,5,3,2,4,4,6,5,3,3,5,6],i={name:"阅读速度",type:"line",data:s,yAxisIndex:1,itemStyle:{shadowBlur:5,shadowColor:"#666",shadowOffsetX:1,shadowOffsetY:1},lineStyle:{width:2,shadowBlur:2,shadowColor:"#666",shadowOffsetX:1,shadowOffsetY:1,opacity:.5},smooth:!1,markPoint:{data:[{type:"max",name:"最大值"}],label:{fontSize:13,formatter:`最快
{r|{c}}
万字/天`,textStyle:{rich:{r:{color:"#",fontWeight:"bold",fontSize:15,textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5}}}},symbolSize:80,symbolOffset:[0,-30],itemStyle:{shadowBlur:5,shadowColor:"#666",shadowOffsetX:0,shadowOffsetY:0,borderWidth:2,borderColor:"#FFF"}}};series.push(i),console.log(series);var d=[118,15,56.6,49.3,142.2,94.3,157.2,130,44,89.9,140,160.4],f={name:"月汇总",type:"line",data:d,symbol:"arrow",symbolSize:10,symbolRotate:180,itemStyle:{shadowBlur:5,shadowColor:"#666",shadowOffsetX:1,shadowOffsetY:1},lineStyle:{width:0,shadowBlur:2,shadowColor:"#666",shadowOffsetX:1,shadowOffsetY:1},label:{show:!0,offset:[0,5],color:"#FFF",fontSize:13,formatter:"{c}",textShadowBlur:5,textShadowColor:"rgba(0,0,0,0.3)",textShadowOffsetX:1,textShadowOffsetY:1},markPoint:{data:[{type:"max",name:"最大值"}],label:{fontSize:13,formatter:`最多
{r|{c}}
万字`,textStyle:{rich:{r:{color:"#",fontWeight:"bold",fontSize:15,textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5}}}},symbolSize:80,itemStyle:{shadowBlur:5,shadowColor:"#666",shadowOffsetX:0,shadowOffsetY:0,borderWidth:2,borderColor:"#FFF"}}};series.push(f)};parseData();var titleFontSize=18,subTitleFontSize=18,textStyle={fontSize:titleFontSize,align:"center",fontStyle:"bold",color:"#DDD",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,rich:{r:{color:colors[2],fontWeight:"bold",fontSize:titleFontSize+5,textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5}}},subtextStyle={fontSize:subTitleFontSize,color:"#DDD",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,fontWeight:"bold",rich:{r:{color:colors[2],fontWeight:"bold",fontSize:subTitleFontSize+3,textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5}}};options=[{backgroundColor:bgColor,toolbox:{show:!0,feature:{mark:{show:!0},saveAsImage:{show:!0}}},graphic:{elements:[{type:"image",style:{image:logobig,width:60,height:60},left:"5",top:"5"}]},grid:{left:"0%",right:"4%",bottom:"3%",containLabel:!0,show:!1},calculable:!0,tooltip:{trigger:"item",formatter:"{a}<br/>{b}<br/>年阅读率：{c}%"},title:{text:"2018年阅读综合分析",subtext:`全年阅读{r|341}天
一年{r|93%}的时间有阅读行为`,left:"65",top:5,subtextStyle,textStyle:{fontSize:titleFontSize+5,fontStyle:"bold",textBorderWidth:5,textBorderColor:"#FFF",textShadowColor:"rgba(0,0,0,0.5)",textShadowBlur:5,textShadowOffsetX:1,textShadowOffsetY:1}},series:[{name:"年阅读天数统计",type:"pie",radius:["30%","100%"],avoidLabelOverlap:!1,startAngle:0,center:["45%","30%"],roseType:"area",selectedMode:"single",label:{normal:{show:!0,formatter:`{b} 
{r|{c}%}`,rich:{r:{color:"rgba(255,255,255,1)",fontWeight:"bold",fontSize:18}},position:"inside",color:"#FFF",textShadowBlur:5,textShadowOffsetX:1,textShadowOffsetY:2,textShadowColor:"rgba(0,0,0,0.3)"}},itemStyle:{shadowBlur:5,shadowOffsetX:-2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.3)"},data:[{value:93,name:`2018年
{r|341}天`,label:{normal:{fontSize:30,fontStyle:"bold",rich:{r:{color:colors[13],fontWeight:"bold",fontSize:25}}}}},{value:76,name:`2017年
276天`,label:{normal:{fontSize:23,color:"#FFF",fontStyle:"bold"}}},{value:67,name:`2016年
246天`,label:{normal:{fontSize:20,fontStyle:"bold"}}},{value:58,name:`2015年
211天`,label:{normal:{fontSize:18,fontStyle:"bold"}}},{value:0,name:"",label:{normal:{show:!1}}},{value:0,name:"",label:{normal:{show:!1}}},{value:0,name:"",label:{normal:{show:!1}}},{value:0,name:"",label:{normal:{show:!1}}}]}]},{backgroundColor:bgColor,title:{text:"总计读{r|66}本；月均：{r|5.5}本；最多月读{r|10}本",subtextStyle,textStyle,top:"2%"},tooltip:{trigger:"axis",formatter:"{a}:{c}本"},grid:{top:"20%",left:"10%",right:"3%",bottom:"10%",show:!1},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{color:"#FFF",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,interval:0},axisLine:{lineStyle:{color:"#FFF"}}}],yAxis:[{type:"value",max:12,axisLabel:{},axisLine:{lineStyle:{color:"#FFF"}}}],series:[{name:"每月",type:"bar",data:[3,1,4,2,7,6,8,10,4,4,8,9],itemStyle:{normal:{color:function(e){return colors[e.dataIndex]},shadowBlur:5,shadowColor:"rgba(0,0,0,0.3)",shadowOffsetX:1,shadowOffsetY:1,barWidth:5,label:{fontSize:fontSize-5,color:"#FFF",show:!0,position:"insideTop",formatter:"{c}本",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,textShadowOffsetY:1,textShadowOffsetX:1}}},markPoint:{data:[{name:"最大值",type:"max"}],label:{formatter:"最多"},itemStyle:{color:colors[7],borderColor:"#FFF",borderWidth:2,borderType:"solid",shadowBlur:5,shadowColor:"rgba(0,0,0,0.3)",shadowOffsetX:1,shadowOffsetY:1}}}]},{title:{text:"偏好：{r|小说25本}，18年{r|小说、散文}类增多",subtextStyle,textStyle,top:"2%"},tooltip:{trigger:"item",textStyle:{color:"#fff",fontSize,textShadowColor:"#333",textShadowBlur:10,textShadowOffsetX:5,textShadowOffsetY:5}},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},grid:{top:"10%",bottom:"0%",show:!1},legend:{top:"40%",left:0,orient:"vertical",itemWidth:12,itemHeight:12,data:["2016年","2017年","2018年"],textStyle:{color:colors,fontSize}},radar:{radius:"68%",center:["55%","55%"],splitNumber:4,axisLine:{lineStyle:{color:"#fff",opacity:.8}},splitLine:{lineStyle:{color:"#fff",opacity:.5}},splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},name:{show:!0,color:"#fff",fontSize,textShadowColor:"#333",textShadowBlur:10,textShadowOffsetX:5,textShadowOffsetY:5},indicator:categorys,label:{show:!0,position:"top"}},series:[{name:"阅读类别统计",type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:.8}},data:[{value:year2018,name:"2018年"},{value:year2017,name:"2017年"},{value:year2016,name:"2016年"}]}],color:colors,backgroundColor:{type:"radial",x:.5,y:.5,r:.7,colorStops:[{offset:0,color:"#b6a2de"},{offset:.4,color:"#9a7fd1"},{offset:1,color:"#59678c"}],globalCoord:!1}},{backgroundColor:bgColor,color:colors,title:{text:`全年购书消费：{r|6453}元；折扣：{r|3239}元：
总计购书：{r|292}本；`,textStyle},tooltip:{trigger:"axis",axisPointer:{type:"line"},position:["50%","10%"]},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},grid:{left:"1%",right:"8%",bottom:"3%",top:"25%",containLabel:!0,show:!1},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{color:"#FFF",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,interval:0},axisLine:{lineStyle:{color:"#FFF"}}}],yAxis:[{name:"金额",axisLabel:{color:"#FFF",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,interval:0,formatter:"{value}元"},axisLine:{lineStyle:{color:"#FFF"}}}],series:[{name:"阅读速度",type:"bar",data:[259,96,730,,1049,684,209,544,377,810,1172,518],itemStyle:{shadowBlur:5,shadowColor:"#666",shadowOffsetX:1,shadowOffsetY:1,color:function(e){return colors[e.dataIndex]}},lineStyle:{width:2,shadowBlur:2,shadowColor:"#666",shadowOffsetX:1,shadowOffsetY:1,opacity:.5},smooth:!1,markPoint:{data:[{type:"max",name:"最大值"}],label:{fontSize:13,formatter:"¥{r|{c}}",textStyle:{rich:{r:{color:"#",fontWeight:"bold",fontSize:15,textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5}}}},itemStyle:{shadowBlur:5,shadowColor:"#666",shadowOffsetX:0,shadowOffsetY:0,borderWidth:2,borderColor:"#FFF",color:colors[10]}}}]},{backgroundColor:bgColor,color:colors,grid:{show:!1},title:{text:"2018年购买的书读完：{r|47%}",textStyle,subtextStyle},tooltip:{},series:{type:"sunburst",highlightPolicy:"descendant",data:[{name:"2018年阅读率",value:292,itemStyle:{color:colors[0]},label:{rotate:"tangential",fontSize:20},children:[{name:"已读",itemStyle:{color:colors[1]},label:{rotate:"tangential",fontSize:20,formatter:"{b}:47%"},children:[{name:"蛋卷",value:82,itemStyle:{color:colors[11]},label:{rotate:"tangential",fontSize:20,formatter:"{b}:{c}本"}},{name:"我",value:56,itemStyle:{color:colors[12]},label:{rotate:"tangential",fontSize:20,formatter:"{b}:{c}本"}}]},{name:"未读",itemStyle:{color:colors[4]},label:{rotate:"tangential",fontSize:20,formatter:"{b}:53%"},children:[{name:"蛋卷",value:16,itemStyle:{color:colors[14]},label:{rotate:"tangential",fontSize:20,formatter:"{b}:{c}本"}},{name:"我",value:138,itemStyle:{color:colors[9]},label:{rotate:"tangential",fontSize:20,formatter:"{b}:{c}本"}}]}]}],radius:[0,500],sort:null,center:["50%","50%"],levels:[{},{r0:"0%",r:"40%",itemStyle:{borderWidth:2,shadowBlur:5,shadowColor:"rgba(0,0,0,0.3)",shadowOffsetX:2,shadowOffsetY:2},highlight:{itemStyle:{color:"orange"}},downplay:{itemStyle:{color:"#ccc"}}},{r0:"40%",r:"60%",itemStyle:{borderWidth:2,opacity:1,shadowBlur:5,shadowColor:"rgba(0,0,0,0.3)",shadowOffsetX:2,shadowOffsetY:2},highlight:{itemStyle:{color:"orange"}},downplay:{itemStyle:{color:"#ccc"}}},{r0:"60%",r:"80%",itemStyle:{shadowBlur:5,shadowColor:"rgba(0,0,0,0.3)",shadowOffsetX:2,shadowOffsetY:2,opacity:1},label:{rotate:"tangential",textShadowBlur:5,textShadowColor:"#333",fontSize:14,formatter:"{a}:{b}"},downplay:{label:{opacity:0}},highlight:{itemStyle:{color:"orange"},label:{color:"#FFF",fontSize:13}}}]}},{backgroundColor:bgColor,title:{text:`{r|12月}读最多：{r|160}万字;{r|7月}读最快：{r|6}万字/天
日均读{r|3.5}万字`,subtext:"",subtextStyle,textStyle},tooltip:{trigger:"item",axisPointer:{type:"line"},position:["50%","10%"]},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},grid:{left:"1%",right:"8%",bottom:"3%",top:"25%",containLabel:!0,show:!1},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{color:"#FFF",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,interval:0}}],yAxis:[{name:"字数",min:0,max:200,axisLabel:{color:"#FFF",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,interval:0},axisLine:{lineStyle:{color:"#FFF"}}},{name:"速度（万字/天）",splitLine:{show:!1},min:0,max:8,type:"value",inverse:!1,axisLine:{lineStyle:{color:"#FFF"}},axisLabel:{color:"#FFF",textShadowColor:"rgba(0,0,0,0.3)",textShadowBlur:5,interval:0}}],series}];
