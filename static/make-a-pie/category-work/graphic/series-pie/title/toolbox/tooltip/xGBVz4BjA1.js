sourceData=[{name:"澳门特别行政区",value:30,extData:[89,"#ccfd66",0,""]},{name:"西藏自治区",value:33,extData:[367,"#cdf967",0,""]},{name:"青海省",value:38,extData:[809,"#cff169",0,""]},{name:"宁夏回族自治区",value:40,extData:[1023,"#cfee69",0,""]},{name:"香港特别行政区",value:40,extData:[1070,"#d0ed6a",0,""]},{name:"海南省",value:41,extData:[1179,"#d0eb6a",0,""]},{name:"天津市",value:51,extData:[2105,"#d3db6d",0,""]},{name:"新疆维吾尔自治区",value:53,extData:[2364,"#d4d76e",0,""]},{name:"上海市",value:59,extData:[2965,"#d6cd70",0,""]},{name:"北京市",value:62,extData:[3237,"#d7c871",0,""]},{name:"甘肃省",value:63,extData:[3375,"#d7c671",0,""]},{name:"贵州省",value:64,extData:[3467,"#d8c472",0,""]},{name:"吉林省",value:67,extData:[3744,"#d9bf73",0,""]},{name:"重庆市",value:70,extData:[4005,"#dabb74",0,""]},{name:"内蒙古自治区",value:70,extData:[4040,"#daba74",0,""]},{name:"云南省",value:75,extData:[4510,"#dbb275",0,""]},{name:"黑龙江省",value:77,extData:[4777,"#dcae76",0,""]},{name:"广西壮族自治区",value:80,extData:[5024,"#ddaa77",0,""]},{name:"陕西省",value:81,extData:[5174,"#dea778",0,""]},{name:"山西省",value:81,extData:[5179,"#dea778",0,""]},{name:"福建省",value:84,extData:[5463,"#dfa279",0,""]},{name:"江西省",value:84,extData:[5469,"#dfa279",0,""]},{name:"辽宁省",value:93,extData:[6317,"#e1947b",0,""]},{name:"安徽省",value:94,extData:[6445,"#e2917c",0,""]},{name:"湖北省",value:95,extData:[6583,"#e28f7c",0,""]},{name:"湖南省",value:101,extData:[7172,"#e4857e",0,""]},{name:"河北省",value:115,extData:[8533,"#e96e83",0,""]},{name:"浙江省",value:123,extData:[9370,"#ec6086",0,""]},{name:"四川省",value:124,extData:[9461,"#ec5e86",0,""]},{name:"河南省",value:126,extData:[9612,"#ed5c87",0,""]},{name:"江苏省",value:131,extData:[10140,"#ee5388",0,""]},{name:"山东省",value:145,extData:[11558,"#f33b8d",0,""]},{name:"广东省",value:152,extData:[12260,"#f62f90",0,""]}],graphicData=[{type:"group",left:"center",top:"60%",bounding:"raw",z:100,children:[]}],graphicScatter={type:"circle",shape:{r:2},style:{fill:"white"},z:100},graphicText=[{type:"text",z:100,style:{fill:"white",text:"韩国",font:"bold 16px Microsoft YaHei",textAlign:"center"}},{type:"text",z:100,style:{fill:"white",text:"5766例",font:"bold 14px Microsoft YaHei",textAlign:"center"}},{type:"text",z:100,style:{fill:"white",text:"死亡36例",font:"bold 12px Microsoft YaHei",textAlign:"center"}}],graphic_total_Text=[{type:"text",right:-220,bottom:500,z:100,style:{fill:"black",text:"数据时间2020年3月",font:"bold 12px Microsoft YaHei",textAlign:"right"}},{type:"text",right:-220,bottom:475,z:100,style:{fill:"black",text:"中国有166886个银行网点",font:"bold 18px Microsoft YaHei",textAlign:"right"}}],graphicChildren={type:"group",position:[],bounding:"raw",z:100,children:[]};function convertData1(){for(var h=1,c=.1,v=2*Math.PI/sourceData.length,x=(h-c)/sourceData.length,e=0;e<sourceData.length;e++){sourceData[e].itemStyle={color:sourceData[e].extData[1],borderWidth:0},sourceData[e].label={show:(e>6,!1),position:e<=5?"outer":"inside",align:"right",borderWidth:1,borderColor:"red",alignTo:"edge",margin:650,formatter:g=>g.data.extData[3]},sourceData[e].labelLine={show:(e>6,!1),lineStyle:{type:"dashed"}};for(var r=(e+.5)*v,s=e>11?c+x*e:.6+x*e,l=e>11?sourceData[e].value*450/sourceData.slice(-1)[0].value*.95:sourceData[e].value*460/sourceData.slice(-1)[0].value+20,o=[l,l*(e>33?.95:e>11?.75:1.12),l*(e>33?.95:e>11?.8:1.17)*(e>33?.95:e>11?.8:1.17)],u=[],p=[],f=[],a=0;a<3;a++){var i=Math.sin(r)*o[a],D=-Math.cos(r)*o[a];u.push([i,D]);var t=JSON.stringify(graphicChildren);t=JSON.parse(t),t.position=[i,D],t.rotation=e>33?-((e+.5)/sourceData.length*2*Math.PI):e<=11?-((e+.5)/sourceData.length*2*Math.PI)+Math.PI/2:0,t.scale=[s,s],curgraphicText=JSON.parse(JSON.stringify(graphicText[a])),curgraphicText.style.text=a==0?sourceData[e].name:a==1?e>11?sourceData[e].extData[0]+"网点":"":a==2&&e>33?sourceData[e].extData[2]+"个":e<=11?sourceData[e].extData[3]:"",e<=11&&(curgraphicText.style.fill="black",curgraphicText.style.textAlign="left"),t.children=[curgraphicText],p.push(t),graphicData[0].children.push(t)}console.log(e,sourceData[e].name,r,o,u)}for(var n=0;n<3*2;n++){var d=graphic_total_Text[n];graphicData[0].children.push(d)}return sourceData}option={title:{text:"全国商业银行网点分布",left:"center",textStyle:{fontSize:40},top:"2%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"]},restore:{show:!0},saveAsImage:{show:!0}}},graphic:graphicData,series:[{name:"银行网点个数",type:"pie",radius:[20,450],center:["50%","60%"],label:{show:!0},roseType:"area",data:convertData1(),rich:{a:{color:"white",lineHeight:10},b:{backgroundColor:{image:"xxx/xxx.jpg"},height:40},x:{fontSize:18,fontFamily:"Microsoft YaHei",borderColor:"#449933",borderRadius:4}}}]};
