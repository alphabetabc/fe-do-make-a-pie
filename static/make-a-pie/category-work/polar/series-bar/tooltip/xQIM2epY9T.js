var list=[10,10,10,25];let sum=0;list.forEach((e,a)=>{sum=sum+e});let series=[],obj={},chartList=[{name:"机械电子制造业",value:10},{name:"轻纺工业",value:10},{name:"资源加工工业",value:10},{name:"其他",value:25}],maxAngleNum=sum*360/270;var namelist=["机械电子制造业","轻纺工业","资源加工工业","其他"];let colorList=["#BFA27C","#328CD9","#1FB4A7","#424CB9"];chartList.forEach((e,a)=>{let t=list.map((r,o)=>0),l=list.map((r,o)=>0);t[a]=e.value,l[a]=sum,series.push({type:"bar",barWidth:"50%",data:t,coordinateSystem:"polar",name:e.name,stack:"a",roundCap:!0,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:colorList[a]},{offset:1,color:"red"}]},barBorderRadius:5}}),series.push({type:"bar",barWidth:"50%",data:l,coordinateSystem:"polar",showSymble:!0,barGap:"-100%",name:e.name+"1",z:0,stack:"b",roundCap:!0,itemStyle:{color:"#16294C",barBorderRadius:5}})}),option={backgroundColor:"black",angleAxis:{type:"value",startAngle:90,clockwise:!1,max:maxAngleNum,min:0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},radiusAxis:{type:"category",data:namelist,z:100,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,align:"left",verticalAlign:"middle",margin:-20,fontSize:5,formatter:function(e,a){return console.log(e),"———"+e+(list[a]*100/sum+"%")},textStyle:{color:"#96F5F6"},interval:0}},polar:{radius:["27%","65%"],center:["50%","50%"]},tooltip:{show:!0},series};
