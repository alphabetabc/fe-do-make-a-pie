var myGraphData=[{parentNode:"不显示",childNodes:["上游","中游","下游"]},{parentNode:"上游",childNodes:["优客工场北京创业投资有限公司","北京云动数字媒体技术有限公司","北京星云极客科技孵化器有限公司","小微律政(北京)管理咨询有限公司"]},{parentNode:"中游",childNodes:["北京数码大方科技股份有限公司","安徽皖通科技股份有限公司"]},{parentNode:"下游",childNodes:["苏州开眼数据技术股份有限公司","北京香橙互动网络科技有限公司"]}];let color=["#FF605C","#2394FD","#2FD5C0"],sourceId="";function showBr(e){for(var a="",r=e.length,o=0,t=1;o<r;o++,t++)t&&t%6==0?a+=`
`:a+=e[o];return a}function setNodeData(e,a,r,o,t=!1){for(var s=73,l=0;l<e.length;l++)e[l]==="不显示"&&(sourceId=a),console.log("n",r),o.push({id:a++,category:r,name:showBr(e[l]),symbolSize:e[l]==="不显示"?0:s,draggable:"true",itemStyle:{normal:{color:r===1?t:`${t}20`}},label:{normal:{textStyle:{color:r===1?"#fff":t||"transparent",fontSize:r===1?18:12}}}})}function setLinkData(e,a,r){for(var o=0;o<e.length;o++)r.push({source:a,target:e[o],lineStyle:{normal:{color:sourceId===a?"transparent":"#eee"}}})}for(var listdata=[],linksdata=[],nodeData=myGraphData,m=0,source=[],i=1;i<nodeData.length;i++){let e=i-1;var node=nodeData[i].parentNode,tx=[node];setNodeData(tx,m,1,listdata,color[e]),source.push(m);var Data=nodeData[i].childNodes;setNodeData(Data,m+1,2,listdata,color[e]);for(var sourceList=[],n=m+1;n<m+Data.length+1;n++)sourceList.push(n);setLinkData(sourceList,m,linksdata),m=m+Data.length+1}var tx7=[];tx7.push(nodeData[0].parentNode),setNodeData(tx7,m,0,listdata),setLinkData(source,m,linksdata),option={tooltip:{formatter:"{b}"},backgroundColor:"#FFFFFF",animationDuration:0,animationEasingUpdate:"quinticInOut",series:[{name:"知识图谱",type:"graph",layout:"force",edgeSymbol:["","arrow"],force:{repulsion:1e3,gravity:.4,edgeLength:110,layoutAnimation:!0},data:listdata,links:linksdata,categories:[{name:"父节点",symbol:"rect",label:{}},{name:"层级二",symbol:"circle"},{name:"层级三",symbol:"circle"}],roam:!0,label:{normal:{show:!0}},lineStyle:{normal:{opacity:.9,width:1.5,curveness:0}}}]};
