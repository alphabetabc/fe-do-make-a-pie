const uploadedDataURL="/asset/get/s/data-1627229866545-v6DvzzMbR.json";myChart.showLoading(),$.getJSON(uploadedDataURL,function(e){myChart.hideLoading();const a=["#CCCCCC","#55AF29","#FFD017","#B72E00"],o=d3.scaleQuantile().domain(d3.range(1,50)).range(a),n=[...new Set(e.map(t=>[t.source,t.target]).flat())],i=e.map(t=>t.target),s=_.countBy(i),r=n.map(t=>({id:t,name:t,symbolSize:s[t]||1}));myChart.setOption(option={title:{text:"Antd4 NPM依赖"},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",tooltip:{},series:[{type:"graph",layout:"force",force:{edgeLength:5,repulsion:20,gravity:.2},data:r.map(function(t){return{value:t.symbolSize,name:t.name,symbolSize:t.symbolSize,itemStyle:{color:o(t.symbolSize)}}}),edges:e.map(function(t){return{source:t.source,target:t.target,symbol:["none","arrow"],symbolSize:3}}),label:{position:"right",show:!0,overflow:"breakAll",width:200},emphasis:{focus:"adjacency"},labelLayout:{hideOverlap:!0},roam:!0,lineStyle:{width:.5,curveness:.3,opacity:.7}}]},!0)}),myChart.on("click",e=>{e.seriesType==="graph"&&e.dataType==="node"&&e.name&&window.open(`https://www.npmjs.com/package/${e.name}`)});
