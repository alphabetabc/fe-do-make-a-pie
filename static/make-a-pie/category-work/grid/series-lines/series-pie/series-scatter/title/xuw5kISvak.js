let color=["#ffffff","#36fff6","#ffe93a","#67f95f"],oneArr=[{name:"图谱圆盘",type:0,symbol:"",symbolSize:190,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#ffe93a"},{offset:1,color:"#36fff6"}],global:!1}}}];const data1=[[19,22,"农业调查","#BF54Fb",65,1600],[19,35,"农村调查","#e456a0",40,90],[10,37,"居民收支调查","#5b6dc4",50,180],[24,38,"住户监测调查","#874ad2",55,80,80],[26,33,"劳动力调查","#874ad2",55,80,80],[19,26,"生产价格调查","#874ad2",55,80,80],[32,28,"消费价格调查","#e85411",45,100],[32,24,"专项调查","#e85411",45,100],[34,15,"社会调查","#e85411",45,100],[24,30,"制度方法","#874ad2",55,80,80],[26,25,"综合","#874ad2",55,80,80],[23,12,"办公室","#874ad2",55,80,80],[16,40,"机关党委","#874ad2",55,80,80],[22,18,"纪检监察","#874ad2",55,80,80],[16,29,"人事教育","#e456a0",40,90],[5,34,"执法监督","#e456a0",40,90],[24,22,"财务","#BF54Fb",60,960],[12,33,"信息技术应用","#BF54Fb",60,960],[28,15,"业务应用","#BF54Fb",60,960],[31,19,"系统运维管理","#BF54Fb",60,960]],data3=[[-19,23,"农业调查","#BF54Fb",65,1600],[-19,35,"农村调查","#e456a0",40,90],[-8,37,"居民收支调查","#5b6dc4",50,180],[-24,39,"住户监测调查","#874ad2",55,80,80],[-23,32,"劳动力调查","#874ad2",55,80,80],[-37,16,"生产价格调查","#874ad2",55,80,80],[-33,28,"消费价格调查","#e85411",45,100],[-33,23,"专项调查","#e85411",45,100],[-31,19,"社会调查","#e85411",45,100],[-21,28,"制度方法","#874ad2",55,80,80],[-26,25,"综合","#874ad2",55,80,80],[-23,15,"办公室","#874ad2",55,80,80],[-16,38,"机关党委","#874ad2",55,80,80],[-24,20,"纪检监察","#874ad2",55,80,80],[-15,28,"人事教育","#e456a0",40,90],[-5,34,"执法监督","#e456a0",40,90],[-39,21,"财务","#BF54Fb",60,960],[-12,32,"信息技术应用","#BF54Fb",60,960],[-29,13,"业务应用","#BF54Fb",60,960],[-29,35,"系统运维管理","#BF54Fb",60,960]],data4=[[-25,0,"农业调查","#BF54Fb",65,1600],[-25,-17,"农村调查","#e456a0",40,90],[-35,5,"居民收支调查","#5b6dc4",50,180],[-27,-20,"住户监测调查","#874ad2",55,80,80],[-32,-15,"劳动力调查","#874ad2",55,80,80],[-33,-7,"生产价格调查","#874ad2",55,80,80],[-30,-3,"消费价格调查","#e85411",45,100],[-30,-23,"专项调查","#e85411",45,100],[-30,1,"社会调查","#e85411",45,100],[-30,-12,"制度方法","#874ad2",55,80,80],[-24,-25,"综合","#874ad2",55,80,80],[-19,-18,"办公室","#874ad2",55,80,80],[-23,-10,"机关党委","#874ad2",55,80,80],[-24,-5,"纪检监察","#874ad2",55,80,80],[-39,-14,"人事教育","#e456a0",40,90],[-38,-4,"执法监督","#e456a0",40,90],[-21,-23,"财务","#BF54Fb",60,960],[-23,-14,"信息技术应用","#BF54Fb",60,960],[-27,5,"业务应用","#BF54Fb",60,960],[-33,-26,"系统运维管理","#BF54Fb",60,960]],data5=[[-13,-31,"农业调查","#BF54Fb",65,1600],[3,-39,"农村调查","#e456a0",40,90],[-10,-41,"居民收支调查","#5b6dc4",50,180],[-5,-45,"住户监测调查","#874ad2",55,80,80],[8,-36,"劳动力调查","#874ad2",55,80,80],[-6,-33,"生产价格调查","#874ad2",55,80,80],[10,-45,"消费价格调查","#e85411",45,100],[15,-28,"专项调查","#e85411",45,100],[14,-39,"社会调查","#e85411",45,100],[9,-32,"制度方法","#874ad2",55,80,80],[-11,-38,"综合","#874ad2",55,80,80],[8,-41,"办公室","#874ad2",55,80,80],[2,-43,"机关党委","#874ad2",55,80,80],[15,-33,"纪检监察","#874ad2",55,80,80],[1,-33,"人事教育","#e456a0",40,90],[-19,-38,"执法监督","#e456a0",40,90],[-16,-28,"财务","#BF54Fb",60,960],[-4,-38,"信息技术应用","#BF54Fb",60,960],[17,-36,"业务应用","#BF54Fb",60,960],[-14,-35,"系统运维管理","#BF54Fb",60,960]],data6=[[35,-1,"农业","#BF54Fb",65,1600],[20,-15,"农村","#e456a0",40,90],[30,-16,"居民收支","#5b6dc4",50,180],[25,-18,"住户监测","#874ad2",55,80,80],[22,-13,"劳动力","#874ad2",55,80,80],[39,-7,"生产价格","#874ad2",55,80,80],[30,-8,"消费价格","#e85411",45,100],[32,-4,"专项调查","#e85411",45,100],[29,1,"社会调查","#e85411",45,100],[23,-10,"制度方法","#874ad2",55,80,80],[24,-5,"综合","#874ad2",55,80,80],[23,4,"办公室","#874ad2",55,80,80],[36,-18,"机关党委","#874ad2",55,80,80],[24,0,"纪检监察","#874ad2",55,80,80],[36,-9,"人事教育","#e456a0",40,90],[35,-24,"执法监督","#e456a0",40,90],[31,-23,"财务","#BF54Fb",60,960],[32,-13,"信息技术应用","#BF54Fb",60,960],[27,6,"业务应用","#BF54Fb",60,960],[33,4,"系统运维管理","#BF54Fb",60,960]];let erArr=[{name:"1",type:1},{name:"2",type:2},{name:"3",type:1},{name:"4",type:1},{name:"5",type:1}],allArr=[...oneArr,...erArr],dataArr=[];allArr.forEach((o,l)=>{o.type>0&&(o.symbolSize=50,o.symbol="path://M544 552.325V800a32 32 0 0 1-32 32 31.375 31.375 0 0 1-32-32V552.325L256 423.037a32 32 0 0 1-11.525-43.512A31.363 31.363 0 0 1 288 368l224 128 222.075-128a31.363 31.363 0 0 1 43.525 11.525 31.988 31.988 0 0 1-11.525 43.513L544 551.038z m0 0,M64 256v512l448 256 448-256V256L512 0z m832 480L512 960 128 736V288L512 64l384 224z m0 0",o.itemStyle={color:color[o.type]}),o.label={normal:{show:!0,position:"bottom",distance:10,color:color[o.type]}}});function group(o,l){const n=[],{length:t}=o;return o.forEach((e,r)=>{const a=90-(360/t).toFixed(2)*(r+1),i=Math.cos(a*Math.PI/180).toFixed(2)*l,s=Math.sin(a*Math.PI/180).toFixed(2)*l,d=Math.cos(a*Math.PI/180).toFixed(2)*(l-5),c=Math.sin(a*Math.PI/180).toFixed(2)*(l-5),f=Math.cos(a*Math.PI/180).toFixed(2)*(l-40),m=Math.sin(a*Math.PI/180).toFixed(2)*(l-40);e.value=[i.toFixed(2),s.toFixed(2)],e.twoPoint=[[d.toFixed(2),c.toFixed(2)],[f.toFixed(2),m.toFixed(2)]],n.push(e)}),n}function linesConfig(o){const[l,n]=[[],[0,0]];return o.forEach(t=>{function e(r,a){return[{coord:t.twoPoint[r]},{coord:t.twoPoint[a],lineStyle:{color:color[t.type],curveness:t.type===3?.1:0},effect:{color:color[t.type]}}]}switch(t.type){case 0:break;case 1:l.push(e(0,1));break;case 2:l.push(e(1,0));break;case 3:l.push(e(0,1)),l.push(e(1,0));break}}),l}oneArr=group(oneArr,0),erArr=group(erArr,50),allArr=[...oneArr,...erArr],dataArr=linesConfig(allArr);function generateData(o,l,n,t){let e=[];for(var r=0;r<o;r++)r%2===0?e.push({name:(r+1).toString(),value:l,itemStyle:{normal:{color:t,borderWidth:0}}}):e.push({name:(r+1).toString(),value:n,itemStyle:{normal:{color:"rgba(0,0,0,0)",borderWidth:0}}});return e}let dolitData=generateData(1,25,20,"rgb(126,190,255)"),threeData=generateData(6,40,10,"#2dc0c9");const data2=[[-15,-5,"专题数据库","#f1b536",80,9e3],[-10,15,"基础数据库","#29bc40",60,7e3],[10,15,"原始数据库","#e456a0",70,1e3],[15,-5,"工作数据库","#e456a0",70,1e3],[0,-20,"应用数据库","#e456a0",70,1e3]];function getOption(o,l){return{backgroundColor:"#081c47",title:{text:"",left:"center",textStyle:{color:"#fff"}},xAxis:{show:!1,type:"value",max:50,min:-51},grid:{top:10,bottom:10,left:10,right:10},yAxis:{show:!1,type:"value",max:50,min:-50},series:[{zlevel:20,name:"数据库",type:"scatter",symbol:"roundRect",symbolSize:[120,20],itemStyle:{color:function(t){return t.data[3]}},tooltip:{formatter:function(t){const{seriesName:e,marker:r,data:a}=t;return""}},label:{show:!0,textStyle:{fontSize:12},formatter:function(t){return t.data[2]}},data:data2},{zlevel:20,type:"scatter",symbol:"circle",symbolSize:155,label:{normal:{show:!0,fontSize:20,formatter:function(t){return t.data[2]}}},tooltip:{formatter:function(t){return t.data[2]+"： 共有"+data1AllNum+"亩"+list1}},itemStyle:{normal:{color:"#5A9FF2"}},data:[[0,0,"","#5A9FF2",10]]},{zlevel:20,type:"scatter",symbol:"circle",symbolSize:130,label:{normal:{show:!0,fontSize:20,formatter:function(t){return t.data[2]}}},tooltip:{formatter:function(t){return t.data[2]+"： 共有"+data1AllNum+"亩"+list1}},itemStyle:{normal:{color:"#2554A3"}},data:[[0,0,`某某信息
资源中心`,"#2554A3",10]]},{name:"线图",type:"lines",hoverAnimation:!1,silent:!1,cursor:"default",coordinateSystem:"cartesian2d",polyline:!0,z:1,lineStyle:{width:2,type:"solid",curveness:0},emphasis:{lineStyle:{type:"dashed"}},data:dataArr},{name:"不动外圆",type:"pie",zlevel:4,silent:!0,radius:["60%","59%"],label:{normal:{show:!1}},itemStyle:{color:"red",borderColor:"red"},labelLine:{normal:{show:!1}},data:dolitData},{zlevel:20,name:"专业原始数据库",type:"scatter",symbol:"circle",symbolSize:1,itemStyle:{color:function(t){return t.data[3]}},tooltip:{formatter:function(t){const{seriesName:e,marker:r,data:a}=t;return e+"</br>"+r+a[2]+"："+a[5]+" 亩("+(a[5]/data1AllNum*100).toFixed(2)+"%)"}},label:{show:!0,textStyle:{fontSize:12},formatter:function(t){return t.data[2]}},emphasis:{scale:!1,label:{show:!0,textStyle:{fontSize:14},formatter:function(t){return t.data[5].value}}},data:data1},{zlevel:20,name:"基础数据库",type:"scatter",symbol:"circle",symbolSize:1,itemStyle:{color:function(t){return t.data[3]}},tooltip:{formatter:function(t){const{seriesName:e,marker:r,data:a}=t;return""}},label:{show:!0,textStyle:{fontSize:12},formatter:function(t){return t.data[2]}},emphasis:{scale:!1,label:{show:!0,textStyle:{fontSize:14},formatter:function(t){return t.data[5].value}}},data:data3},{zlevel:20,name:"主题数据库",type:"scatter",symbol:"circle",symbolSize:1,itemStyle:{color:function(t){return t.data[3]}},tooltip:{formatter:function(t){const{seriesName:e,marker:r,data:a}=t;return e+"</br>"+r+a[2]+"："+a[5]+" 亩("+(a[5]/data1AllNum*100).toFixed(2)+"%)"}},label:{show:!0,textStyle:{fontSize:12},formatter:function(t){return t.data[2]}},emphasis:{scale:!1,label:{show:!0,textStyle:{fontSize:14},formatter:function(t){return t.data[5].value}}},data:data4},{zlevel:20,name:"综合数据库",type:"scatter",symbol:"circle",symbolSize:1,itemStyle:{color:function(t){return t.data[3]}},tooltip:{formatter:function(t){const{seriesName:e,marker:r,data:a}=t;return""}},label:{show:!0,textStyle:{fontSize:12},formatter:function(t){return t.data[2]}},emphasis:{scale:!1,label:{show:!0,textStyle:{fontSize:14},formatter:function(t){return t.data[5].value}}},data:data5},{zlevel:20,name:"专业工作数据库",type:"scatter",symbol:"circle",symbolSize:1,itemStyle:{color:function(t){return t.data[3]}},tooltip:{formatter:function(t){const{seriesName:e,marker:r,data:a}=t;return""}},label:{show:!0,textStyle:{fontSize:12},formatter:function(t){return t.data[2]}},emphasis:{scale:!1,label:{show:!0,textStyle:{fontSize:14},formatter:function(t){return t.data[5].value}}},data:data6}]}}let startAngle=50,[minradius,radius,maxradius]=[24,24,28],isBig=!0;function draw(){startAngle=startAngle-5,isBig?(radius=radius+.5,radius>maxradius&&(isBig=!1)):(radius=radius-.5,radius<minradius&&(isBig=!0));let o=getOption(startAngle,radius);myChart.setOption(o,!0)}myChart.on("mouseover",function(o){console.log(o)}),timer=setInterval(draw,200);
