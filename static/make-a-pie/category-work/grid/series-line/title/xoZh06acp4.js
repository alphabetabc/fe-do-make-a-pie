var data=[{value:335,name:"1"},{value:310,name:"2"},{value:234,name:"3"},{value:135,name:"4"},{value:1548,name:"5"}],barData=data.map(e=>{var a={name:e.name,data:e,type:"bar",center:["25%","50%"]};return a});barData.push({name:"占比",data,type:"pie",label:{normal:{show:!0,position:"inner",textStyle:{fontWeight:300,fontSize:16},formatter:"{d}%"}},center:["80%","50%"],radius:"45%"}),console.log(barData),option={xAxis:{type:"category",data:["1","2","3","4","5"],name:"幸福指数"},yAxis:{type:"value",name:"人数"},legend:{top:"top",data:["1","2","3","4","5"]},tooltip:{trigger:"item",formatter:function(e){return e.seriesType==="pie"?`幸福指数${e.dataIndex+1}<br/>占比 ${e.percent}%`:`幸福指数${e.dataIndex+1} <br/>人数:${e.value}`}},grid:{right:"40%"},series:[{name:"直接访问",type:"bar",barWidth:"60%",data:[{name:"幸福指数1",value:"70",itemStyle:{color:"#1F78B4"}},{name:"幸福指数2",value:"50",itemStyle:{color:"#52452f"}},{name:"幸福指数3",value:"5",itemStyle:{color:"#f24528"}}]},{name:"占比",data:[{value:335,name:"1"},{value:310,name:"2"},{value:234,name:"3"},{value:135,name:"4"},{value:1548,name:"5"}],type:"pie",label:{normal:{show:!0,position:"inner",textStyle:{fontWeight:300,fontSize:16},formatter:"{d}%"}},center:["80%","50%"],radius:"45%"}]};
