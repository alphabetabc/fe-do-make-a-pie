const targetCoord=[90,200],curveness=.25,linesData=[],oplinks=[],item={name:"CMHK",value:targetCoord,active:!0,symbol:"image://http://39.108.86.242:8080/cmhk.png",portin:"40",yoy:"5",mom:"-3",portout:"30",symbolSize:100,itemStyle:{normal:{color:"#8FC319"}},label:{normal:{show:!0,formatter:"+100",fontSize:"14",color:"black",position:["28%","82%"]}}},items=[{name:"其他",category:0,active:!0,symbol:"image://http://39.108.86.242:8080/hkt.png",symbolSize:80,portin:"60",portout:"30",yoy:"5",mom:"-3",itemStyle:{normal:{color:"#BC186E"}},label:{normal:{formatter:"+123",fontSize:"14",color:"#000",position:["28%","82%"]}},value:[135,220]},{name:"数码通",category:0,symbolSize:80,active:!0,portin:"50",portout:"30",yoy:"5",mom:"-3",symbol:"image://http://39.108.86.242:8080/smt.png",itemStyle:{normal:{color:"#0087D2"}},label:{normal:{formatter:"-123",fontSize:"14",color:"#000",position:["28%","82%"]}},value:[120,135]},{name:"PCCW",category:1,active:!0,symbolSize:80,portin:"50",portout:"30",yoy:"5",mom:"-3",symbol:"image://http://39.108.86.242:8080/pccw.png",itemStyle:{normal:{color:"#9DDAA2"}},label:{normal:{formatter:"-123",fontSize:"14",color:"#000",position:["28%","82%"]}},value:[50,170]},{name:"中国联通",category:1,active:!0,symbolSize:80,portin:"50",portout:"30",yoy:"5",mom:"-3",symbol:"image://http://39.108.86.242:8080/union.png",itemStyle:{normal:{color:"#E69F9D"}},label:{normal:{formatter:"-123",fontSize:"14",color:"#000",position:["28%","82%"]}},value:[55,280]},{name:"3HK",active:!0,symbolSize:80,portin:"50",portout:"30",yoy:"5",mom:"-3",symbol:"image://http://39.108.86.242:8080/3hk.png",category:1,itemStyle:{normal:{color:"#D78F1C"}},label:{normal:{formatter:"-123",fontSize:"14",color:"#000",position:["28%","82%"]}},value:[110,280]}],data=items.concat([item]);items.forEach(function(o){o.active&&(linesData.push([{coord:o.value},{coord:targetCoord}]),linesData.push([{coord:targetCoord},{coord:o.value}]),oplinks.push({target:o.name,source:item.name,portin:o.portin,yoy:o.yoy,mom:o.mom,lineStyle:{normal:{curveness}}}),oplinks.push({target:item.name,source:o.name,portin:o.portout,yoy:o.yoy,mom:o.mom,lineStyle:{normal:{curveness}}}))}),console.log(oplinks),option={backgroundColor:"#fff",xAxis:{show:!1,type:"value"},yAxis:{show:!1,type:"value"},series:[{type:"effectScatter",data:[{value:targetCoord,symbolSize:48}],showEffectOn:"render",rippleEffect:{period:9,brushType:"stroke",scale:2.3},label:{normal:{show:!0,formatter:"{b}",fontSize:12,color:"white",offset:[0,0]}},itemStyle:{normal:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(143,195,31,0)"},{offset:.4,color:"rgba(143,195,31,0.1)"},{offset:.9,color:"rgba(143,195,31,0.3)"},{offset:1,color:"rgba(143,195,31,0.8)"}],globalCoord:!0},shadowBlur:0,shadowColor:"#25fffb"}}},{type:"graph",layout:"none",coordinateSystem:"cartesian2d",hoverAnimation:!0,z:3,edgeLabel:{normal:{show:!0,textStyle:{fontSize:9,fontFamily:"宋体",color:"#000"},formatter:function(o){console.log(o);let t="";return o.data.portin!==void 0&&(t=o.data.portin),t}}},label:{normal:{show:!0,position:"bottom",color:"#C7C7C7"}},itemStyle:{normal:{shadowBlur:0,shadowColor:"#333"},emphasis:{}},lineStyle:{normal:{width:1}},edgeSymbol:["none","none"],edgeSymbolSize:1,data,links:oplinks},{name:"A",type:"lines",coordinateSystem:"cartesian2d",polyline:!1,z:1,effect:{show:!0,smooth:!1,constantSpeed:70,trailLength:.005,symbol:"circle",color:"rgba(55,155,255,0.5)",symbolSize:5},lineStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#000"},{offset:1,color:"#000"}],!0),width:1,opacity:.05,curveness:.25}},data:linesData}]};
