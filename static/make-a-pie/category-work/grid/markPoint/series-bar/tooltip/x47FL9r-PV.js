let dataArr=[{streetname:"茶山",num:442,contractnum:465},{streetname:"南城",num:412,contractnum:435},{streetname:"东城",num:992,contractnum:513},{streetname:"常平",num:223,contractnum:132},{streetname:"松山湖",num:42,contractnum:86},{streetname:"横沥",num:72,contractnum:165}],markPointData=[],xdataName=[],dataNum=[],contractnum=[];dataArr.map(e=>{xdataName.push(e.streetname),dataNum.push(e.num||0),contractnum.push(e.contractnum||0),e.num/e.contractnum*100>=100&&markPointData.push({value:e.num,xAxis:e.streetname,yAxis:e.num,symbolSize:[65,35],symbolOffset:[0,-5]})}),option={tooltip:{trigger:"axis",textStyle:{fontSize:18},axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}},formatter:e=>{const[t,a]=e;return`
            <div class='u-p-2'>
                <div>进厂量：${a.value}</div>
                <div class='u-mt-2'>合同量：${t.value}</div>
            </div>
            `}},xAxis:{type:"category",boundaryGap:!0,data:xdataName,axisLine:{lineStyle:{color:"rgba(0,129,251,1)"}},axisLabel:{textStyle:{fontSize:16,color:"#000"},formatter:e=>e.length>4?e.slice(0,4)+`
`+e.slice(4):e,rotate:0}},yAxis:{type:"value",scale:!0,min:0,nameTextStyle:{color:"#f29f02",fontSize:20,padding:[0,0,5,30]},boundaryGap:[.2,.2],splitLine:{show:!1},axisLine:{lineStyle:{color:"rgba(0,129,251,1)"}},axisLabel:{textStyle:{fontSize:16,color:"#000"}}},series:[{name:"垃圾合同量",type:"bar",barWidth:20,data:contractnum,itemStyle:{color:e=>new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0ef565"},{offset:1,color:"#0ef565"}])}},{name:"垃圾产生量",type:"bar",barWidth:20,data:dataNum,markPoint:{data:markPointData,symbol:"pin",itemStyle:{color:"#f00"},label:{color:"#fff",fontSize:12}},itemStyle:{color:e=>{let t=e.value/contractnum[e.dataIndex]*100;return t<=80?"#00deff":t>=80&&t<100?new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#f9d000"},{offset:.3,color:"#00deff"},{offset:1,color:"#00deff"}]):"#ff393e"}}}]};
