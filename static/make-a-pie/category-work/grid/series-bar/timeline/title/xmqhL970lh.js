var colorArray=[{top:"rgba(173,39,49)",bottom:"rgba(173,39,49, 0.3)"},{top:"rgba(195,175,49)",bottom:"rgba(195,175,49, 0.3)"},{top:"rgba(56,215,48)",bottom:"rgba(56,215,48, 0.3)"},{top:"rgba(40,203,195)",bottom:"rgba(40,203,195, 0.3)"},{top:"rgba(42,45,221)",bottom:"rgba(42,45,221, 0.3)"},{top:"rgba(215,47,215)",bottom:"rgba(215,47,215, 0.3)"}],dataSource=[],arrayIndex=[],YIndex=["楼宇一","楼宇二","楼宇三","楼宇四","楼宇五","楼宇六"],resultYIndex=[];function quickSort(o){if(o.length>0){for(var t=0;t<dataSource.length;t++)arrayIndex.push(t);doQuickSort(o,arrayIndex,0,o.length-1)}return o}function doQuickSort(o,t,e,l){if(e<l){var r=getMiddle2(o,t,e,l);doQuickSort(o,t,e,r-1),doQuickSort(o,t,r+1,l)}}function getMiddle(o,t,e,l){for(var r=t[e],b=e,d=o[e],a=e;e<l;){for(;e<l&&o[l]>=d;)l--;for(t[a]=t[e],b=e,t[e]=r,o[a]=o[l],a=l,o[l]=d;e<l&&o[e]<=d;)e++;t[a]=t[l],b=l,t[l]=r,o[a]=o[e],a=e,o[e]=d}return a}function getMiddle2(o,t,e,l){for(var r=t[e],b=e,d=o[e],a=e;e<l;){for(;e<l&&o[l]<=d;)l--;for(t[a]=t[e],b=e,t[e]=r,o[a]=o[e],a=e,o[e]=d;e<l&&o[e]>=d;)e++;t[a]=t[l],b=l,t[l]=r,o[a]=o[l],a=l,o[l]=d}return a}option={baseOption:{timeline:{axisType:"category",orient:"vertical",autoPlay:!0,inverse:!0,playInterval:1e3,left:null,right:0,top:20,bottom:20,width:55,height:null,label:{normal:{textStyle:{color:"#999"}},emphasis:{textStyle:{color:"#fff"}}},symbol:"none",lineStyle:{color:"#555"},checkpointStyle:{color:"#bbb",borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!1,showPrevBtn:!1,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}},data:[]},title:[{text:"1900",textAlign:"center",left:"63%",top:"55%",textStyle:{fontSize:100,color:"rgba(255, 255, 255, 0.7)"}},{text:"条形七彩渐变柱状图",left:"center",top:10,textStyle:{color:"#ffd285",fontWeight:"normal",fontSize:20}}],backgroundColor:"#0E2A43",grid:{top:100,containLabel:!0,left:30,right:"110"},xAxis:{type:"value",position:"top",axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#fff"}},splitLine:{show:!1}},yAxis:[{type:"category",axisTick:{show:!0,alignWithLabel:!0,length:5},inverse:"true",axisLine:{show:!0,lineStyle:{color:"#fff"}},data:["楼宇一","楼宇二","楼宇三","楼宇四","楼宇五","楼宇六"]}],series:[{name:"能耗值",type:"bar",itemStyle:{normal:{show:!0,color:function(o){let t=colorArray.length;return{type:"linear",colorStops:[{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top}]}},barBorderRadius:88,borderWidth:0,borderColor:"#333"}},barGap:"0%",barCategoryGap:"50%",data:[60,132,101,134,230,180]}]},options:[]};for(var n=1900;n<=2018;n++){dataSource=[],resultYIndex=[],arrayIndex=[],dataSource=[60+Math.round(Math.random()*1e3)+n,132+Math.round(Math.random()*1e3)+n,101+Math.round(Math.random()*1e3)+n,134+Math.round(Math.random()*1e3)+n,230+Math.round(Math.random()*1e3)+n,10+Math.round(Math.random()*1e3)+n];var array=[];option.baseOption.timeline.data.push(n),array=quickSort(dataSource);for(var ii=0;ii<arrayIndex.length;ii++)resultYIndex.push(YIndex[arrayIndex[ii]]);option.options.push({title:{show:!0,text:n+""},yAxis:[{type:"category",axisTick:{show:!0,alignWithLabel:!0,length:5},inverse:"true",axisLine:{show:!0,lineStyle:{color:"#fff"}},data:resultYIndex}],series:[{name:"能耗值",type:"bar",itemStyle:{normal:{show:!0,color:function(o){let t=colorArray.length;return{type:"linear",colorStops:[{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top},{offset:0,color:colorArray[o.dataIndex%t].bottom},{offset:1,color:colorArray[o.dataIndex%t].top}]}},barBorderRadius:88,borderWidth:0,borderColor:"#333"}},barGap:"0%",barCategoryGap:"50%",data:array}]})}myChart.setOption(option);
