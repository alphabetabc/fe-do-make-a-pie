let data1=[{name:"谷类",value:175.17},{name:"豆类",value:148.35},{name:"油料作物",value:95.36},{name:"中草药材",value:56},{name:"蔬菜及食用菌",value:45},{name:"瓜果类",value:34},{name:"其他作物",value:95.36}],xAxisData=[],seriesData=[],seriesData1=[],ciolData=[],sum=0,bottomData=[],topData=[],ciolColor1=["rgba(8, 177, 255, 1)","rgba(0, 255, 136,   1)","rgba(8, 177, 255, 1)","rgba(251, 171, 88,   1)","rgba(8, 177, 255, 1)","rgba(251, 171, 88,   1)","rgba(8, 177, 255, 1)","rgba(251, 171, 88,   1)"],ciolColor0=["rgba(107, 255, 243,  1)","rgba(97,253,196,  1)","rgba(107, 255, 243,  1)","rgba(253, 221, 97,  1)","rgba(107, 255, 243,  1)","rgba(253, 221, 97,  1)","rgba(107, 255, 243,  1)","rgba(253, 221, 97,  1)"],bottomColor0=["rgba(8, 177, 255, 0.8)","rgba(0, 255, 136, 0.8)","rgba(8, 177, 255, 0.8)","rgba(251, 171, 88, 0.8)","rgba(8, 177, 255, 0.8)","rgba(251, 171, 88, 0.8)","rgba(8, 177, 255, 0.8)","rgba(251, 171, 88, 0.8)"],bottomColor1=["rgba(107, 255, 243, 0.8)","rgba(100,253,212,0.8)","rgba(107, 255, 243, 0.8)","rgba(253, 227, 100,0.8)","rgba(107, 255, 243, 0.8)","rgba(253, 227, 100,0.8)","rgba(107, 255, 243, 0.8)","rgba(253, 227, 100,0.8)"],header0=["rgba(8, 177, 255, 1)","rgba(0, 255, 136, 1)","rgba(8, 177, 255, 1)","rgba(251, 171, 88, 1)","rgba(8, 177, 255, 1)","rgba(251, 171, 88, 1)","rgba(8, 177, 255, 1)","rgba(251, 171, 88, 1)"],header1=["rgba(107, 255, 243, 1)","rgba(100,253,212,1)","rgba(107, 255, 243, 1)","rgba(253, 227, 100,1)","rgba(107, 255, 243, 1)","rgba(253, 227, 100,1)","rgba(107, 255, 243, 1)","rgba(253, 227, 100,1)"],bottom=["rgba(31, 194, 252, 0.4)","rgba(0, 255, 136, 0.4)","rgba(31, 194, 252, 0.4)","rgba(253, 179, 88, 0.4)","rgba(31, 194, 252, 0.4)","rgba(253, 179, 88, 0.4)","rgba(31, 194, 252, 0.4)","rgba(253, 179, 88, 0.4)","rgba(31, 194, 252, 0.4)","rgba(253, 179, 88, 0.4)"];data1.forEach(a=>{xAxisData.push(a.name),seriesData.push(a.value),seriesData1.push({name:"",value:a.value}),ciolData.push({name:"",value:"0"}),sum+=a.value}),data1.forEach(a=>{bottomData.push({name:"",value:sum-a.value}),topData.push({name:"",value:sum})}),option={backgroundColor:"#000",grid:{top:"5%",left:"10%",right:"9%",bottom:"40%"},tooltip:{show:!0,formatter:function(a){return'<p  style="font-size:16px;font-weight: 400;color:rgba(255, 255, 255, 1);margin-bottom: 20px;"><span style="display:inline-block;width:10px;height: 10px;background: '+v2L2Chart.color[a.dataIndex]+';border-radius: 50%;margin-right: 10px;"></span>'+v2L2Chart.xData[a.dataIndex]+"："+v2L2Chart.data[a.dataIndex]+"万</p>"},backgroundColor:"rgba(38, 68, 110, 0.8)",padding:10,borderColor:"rgba(38, 68, 110, 1)",textStyle:{color:"#fff"}},xAxis:{offset:20,data:xAxisData,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#fff",fontSize:16}}},yAxis:{splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1}},series:[{name:"最低下的圆片",stack:"a",type:"effectScatter",symbolSize:[62,12],symbolOffset:[0,0],z:22,itemStyle:{normal:{color:function(a){return new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:ciolColor0[a.dataIndex]},{offset:0,color:ciolColor1[a.dataIndex]}])}}},data:ciolData},{name:"下半截柱状图",stack:"a",type:"bar",barWidth:66,z:2,barGap:"-100%",itemStyle:{normal:{color:function(a){return new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:bottomColor1[a.dataIndex]},{offset:0,color:bottomColor0[a.dataIndex]}])}}},data:seriesData1},{name:"替代柱状图 默认不显示颜色，是最下方柱图的value值 - 20",type:"bar",barWidth:66,barGap:"-100%",itemStyle:{color:"transparent"},data:seriesData},{name:"头部1",stack:"a",type:"pictorialBar",symbolSize:[66,12],symbolOffset:[0,-6],z:22,itemStyle:{normal:{color:function(a){return new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:header1[a.dataIndex]},{offset:0,color:header0[a.dataIndex]}])}}},symbolPosition:"end",label:{formatter:"{c} 万",color:"#fff",offset:[0,-5],show:!0,position:"top",fontSize:18,fontWeight:400,fontFamily:"zcool-gdh"},data:seriesData1},{name:"头部2",stack:"a",type:"pictorialBar",symbolSize:[66,12],symbolOffset:[0,-6],symbolPosition:"end",z:22,itemStyle:{normal:{color:function(a){return new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:header1[a.dataIndex]},{offset:0,color:header0[a.dataIndex]}])}}},data:topData},{name:"底色",stack:"a",type:"bar",barWidth:66,z:2,barGap:"-100%",symbolPosition:"end",itemStyle:{normal:{color:function(a){return bottom[a.dataIndex]}}},data:bottomData}]};
