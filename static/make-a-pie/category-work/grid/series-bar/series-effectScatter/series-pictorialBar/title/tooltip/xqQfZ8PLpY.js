var data=[1440,1440,1440,1440,1440,1440,1440],data1=[],data2=[],dataOne=[],dataTwo=[],dataThree=[],dataFour=[],dataFive=[],dataSix=[],dataSeven=[];getData(),option={title:{text:"故障统计图",left:"center"},backgroundColor:"#fff",tooltip:{show:!0,type:"axis",formatter:function(e){return console.log(e),e.name+"<br/>告警时间:"+e.value+"</br>消警时间:"}},yAxis:{show:!0,data:["2021-10-01","2021-10-02","2021-10-03","2021-10-04","2021-10-05","2021-10-06","2021-10-07"]},xAxis:{show:!0},series:[{name:"",type:"bar",tooltip:{show:!1},z:0,barWidth:1,symbolOffset:[10,12],itemStyle:{color:"green"},data},{name:"异形柱状图",type:"pictorialBar",tooltip:{show:!1},symbol:"reat",z:1,symbolSize:[5,35],symbolOffset:[5,0],symbolMargin:3,symbolRepeat:"fixed",symbolPosition:"end",itemStyle:{color:"red",borderWidth:12,borderColor:"#fff"},data}]},run();function getData(){for(let e=1;e<10;e++){let t={startTime:"2021-10-01 0"+e+":0"+e+":0"+e,endTime:"",min:e*60+e},m={startTime:"2021-10-02 0"+e+":0"+e+":0"+e,endTime:"2021-10-03 0"+e+":0"+e+":0"+e,min:e*60+e},r={startTime:"2021-10-03 0"+e+":0"+e+":0"+e,endTime:e>6?"2021-10-04 0"+e+":0"+e+":0"+e:"",min:e*60+e};if(e==4){let a={startTime:"2021-10-04 0"+e+":0"+e+":0"+e,endTime:"",min:e*60+e};dataFour.push(a)}if(e==5){let a={startTime:"2021-10-05 0"+e+":0"+e+":0"+e,endTime:"2021-10-06 0"+e+":0"+e+":0"+e,min:e*60+e};dataFive.push(a)}if(e==3||e==7){let a={startTime:"2021-10-05 0"+e+":0"+e+":0"+e,endTime:"2021-10-06 0"+e+":0"+e+":0"+e,min:e*60+e};dataSeven.push(a)}dataOne.push(t),dataTwo.push(m),dataThree.push(r)}}function run(){dataOne.forEach((e,t)=>{let m=[e.endTime?"":e.min,dataTwo[t]&&!dataTwo[t].endTime?dataTwo[t].min:"",dataThree[t]&&!dataThree[t].endTime?dataThree[t].min:"",dataFour[t]&&!dataFour[t].endTime?dataFour[t].min:"",dataFive[t]&&!dataFive[t].endTime?dataFive[t].min:"",dataSix[t]&&!dataSix[t].endTime?dataSix[t].min:"",dataSeven[t]&&!dataSeven[t].endTime?dataSeven[t].min:""],r=[e.endTime?e.min:"",dataTwo[t]&&dataTwo[t].endTime?dataTwo[t].min:"",dataThree[t]&&dataThree[t].endTime?dataThree[t].min:"",dataFour[t]&&dataFour[t].endTime?dataFour[t].min:"",dataFive[t]&&dataFive[t].endTime?dataFive[t].min:"",dataSix[t]&&dataSix[t].endTime?dataSix[t].min:"",dataSeven[t]&&dataSeven[t].endTime?dataSeven[t].min:""],a=[e.endTime?"":e.startTime,dataTwo[t]&&!dataTwo[t].endTime?dataTwo[t].startTime:"",dataThree[t]&&!dataThree[t].endTime?dataThree[t].startTime:"",dataFour[t]&&!dataFour[t].endTime?dataFour[t].startTime:"",dataFive[t]&&!dataFive[t].endTime?dataFive[t].startTime:"",dataSix[t]&&!dataSix[t].endTime?dataSix[t].startTime:"",dataSeven[t]&&!dataSeven[t].endTime?dataSeven[t].startTime:""],T=[e.endTime?e.startTime:"",dataTwo[t]&&dataTwo[t].endTime?dataTwo[t].startTime:"",dataThree[t]&&dataThree[t].endTime?dataThree[t].startTime:"",dataFour[t]&&dataFour[t].endTime?dataFour[t].startTime:"",dataFive[t]&&dataFive[t].endTime?dataFive[t].startTime:"",dataSix[t]&&dataSix[t].endTime?dataSix[t].startTime:"",dataSeven[t]&&dataSeven[t].endTime?dataSeven[t].startTime:""],o=[e.endTime?e.endTime:"",dataTwo[t]&&dataTwo[t].endTime?dataTwo[t].endTime:"",dataThree[t]&&dataThree[t].endTime?dataThree[t].endTime:"",dataFour[t]&&dataFour[t].endTime?dataFour[t].endTime:"",dataFive[t]&&dataFive[t].endTime?dataFive[t].endTime:"",dataSix[t]&&dataSix[t].endTime?dataSix[t].endTime:"",dataSeven[t]&&dataSeven[t].endTime?dataSeven[t].endTime:""];data1.push({warn:m,time:a,unTime:[]}),data2.push({unwarn:r,time:T,unTime:o})}),console.log(data1,data2),echarts.util.each(data1,function(e,t){option.series.push({name:t,type:"effectScatter",z:3,itemStyle:{color:"red",opacity:1,borderWidth:0},data:e.warn})}),echarts.util.each(data2,function(e,t){option.series.push({name:t,type:"effectScatter",z:3,itemStyle:{color:"#333",opacity:1,borderWidth:0},data:e.unwarn})})}
