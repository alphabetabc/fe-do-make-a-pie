var charts={cityList:["石油、煤炭及其他燃料加工业","有色金属冶炼和压延加工业","黑色金属冶炼及延压加工业","纺织业","化学原料和化学制品业","非金属矿物制品业"],cityData:[90.6,22.52,13.96,-10.91,-12.87,-21.61]},top10CityList=charts.cityList,top10CityData=charts.cityData,color=["rgba(100,255,249","rgba(100,255,249","rgba(100,255,249","rgba(135,183,255","rgba(135,183,255","rgba(135,183,255"];let lineY=[];for(var i=0;i<charts.cityList.length;i++){var x=i;x>color.length-1&&(x=color.length-1);var data={name:charts.cityList[i],color:color[x]+")",value:top10CityData[i],itemStyle:{normal:{show:!0,color:new echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:color[x]+", 0.3)"},{offset:1,color:color[x]+", 1)"}],!1),barBorderRadius:10},emphasis:{shadowBlur:15,shadowColor:"rgba(0, 0, 0, 0.1)"}}};lineY.push(data)}console.log(lineY),option={backgroundColor:"",title:{show:!1},tooltip:{trigger:"item"},grid:{borderWidth:0,top:"10%",left:"5%",right:"15%",bottom:"3%"},color,yAxis:[{type:"category",inverse:!0,axisTick:{show:!0},axisLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{show:!1,inside:!1},data:top10CityList},{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,inside:!1,textStyle:{color:"#b3ccf8",fontSize:"14",fontFamily:"PingFangSC-Regular"},formatter:function(t){return""}},splitArea:{show:!1},splitLine:{show:!1},data:top10CityData}],xAxis:{type:"value",position:"top",axisTick:{show:!0},axisLine:{show:!0,lineStyle:{color:"#fff"}},splitLine:{show:!1},axisLabel:{show:!0,formatter:"{value}%"}},series:[{name:"",type:"bar",zlevel:2,barWidth:"10px",barCateGoryGap:100,data:lineY,animationDuration:1500,label:{normal:{color:"#b3ccf8",show:!0,position:[0,"-24px"],textStyle:{fontSize:10},formatter:function(t,e){return t.name}}}}],animationEasing:"cubicOut"};var loopIndex=0;setInterval(function(){loopIndex>5&&(loopIndex=0),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:loopIndex}),option.series[0].data[loopIndex]===""&&myChart.dispatchAction({type:"showTip",seriesIndex:2,dataIndex:loopIndex}),loopIndex++},1e3);
