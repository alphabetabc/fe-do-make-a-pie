var chart,yearDataList=[{name:"湖北省",value:424.98},{name:"湖南省",value:330.66},{name:"河南省",value:261.3},{name:"安徽省",value:264.78},{name:"浙江省",value:388.64},{name:"山东省",value:165.08},{name:"广东省",value:228.85}],data=JSON.parse(JSON.stringify(yearDataList)).sort(function(t,e){return t.value-e.value});chart=echarts.init(document.getElementById("chart-panel")),option={color:["#3398DB"],title:{text:"各省数据合格率统计"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b} <br> 合格率: {c}%"},grid:{left:"4%",right:"4%",bottom:"2%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],interval:20,axisLabel:{formatter:"{value}",textStyle:{fontWeight:"80"}}},yAxis:{type:"category",data:data.map(function(t){return t.name}),axisLabel:{show:!0,interval:0,rotate:0,margin:10,inside:!1,textStyle:{fontWeight:"50"}}},animation:!0,animationDelayUpdate:function(t){return t*200},animationEasingUpdate:!0,animationDuration:function(t){return t*200},animationDelay:function(t){return t*200},series:[{type:"bar",label:{normal:{show:!0,position:"inside",distance:12,formatter:function(t){var e=0;return data.forEach(function(n,o,r){t.name==n.name&&(e=n.value)}),e},textStyle:{color:"#fff",fontSize:12},rich:{white:{color:"#fff",align:"left",fontSize:12,padding:[0,0]}}}},data}]},chart.setOption(option);function refreshData(){console.log(5);var t=chart.getOption();yearDataList=[{name:"湖北省",value:Math.floor(Math.random(1)*90)},{name:"湖南省",value:Math.floor(Math.random(1)*90)},{name:"河南省",value:Math.floor(Math.random(1)*90)},{name:"安徽省",value:Math.floor(Math.random(1)*90)},{name:"浙江省",value:Math.floor(Math.random(1)*90)},{name:"山东省",value:Math.floor(Math.random(1)*90)},{name:"广东省",value:Math.floor(Math.random(1)*90)}];var e=JSON.parse(JSON.stringify(yearDataList)).sort(function(n,o){return n.value-o.value});t.series[0].data=e,t.yAxis[0].data=e.map(function(n){return n.name}),chart.setOption(t)}setTimeout(a,2e3);function a(){console.log(4),refreshData(),setTimeout(a,2e3)}
