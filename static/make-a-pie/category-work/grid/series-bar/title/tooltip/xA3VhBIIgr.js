var lightBlue={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 192, 255, 1)"},{offset:1,color:"rgba(0, 192, 255, 0.1)"}],globalCoord:!1},red={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(249, 42, 42, 1)"},{offset:1,color:"rgba(249, 42, 42, 0.1)"}],globalCoord:!1};function randomData(){return value=(Math.random()*20+210).toFixed(1),value}function checkTime(e){return e<10&&(e="0"+e),e}function timeSet(){var e=new Date,t=e.getMinutes(),o=e.getSeconds();return t=checkTime(t),o=checkTime(o),[t,o].join(":")}for(var data=[],timeData=[],i=0;i<9;i++)timeData.unshift(timeSet()),data.unshift(randomData());var option={title:{left:"12%",top:"5%",text:"单位：ug/m³",textStyle:{color:"rgba(0, 192, 255, 1)"}},tooltip:{show:!1},xAxis:{type:"category",boundaryGap:!1,min:-1,max:9,axisLine:{show:!1,lineStyle:{color:"#4bbbf8",shadowColor:"rgba(75, 211, 255, 0.5)",shadowBlur:5}},axisTick:{show:!1,interval:e=>!(e===-1||e===9)},axisLabel:{inside:!0,color:"#fff",fontSize:12},splitLine:{show:!1},data:timeData},yAxis:[{max:230,min:205,show:!1,axisLine:{show:!1,lineStyle:{color:"#4bbbf8",shadowColor:"rgba(75, 211, 255, 0.5)",shadowBlur:5}},axisLabel:{color:"#fff",fontSize:12},splitLine:{show:!1,lineStyle:{color:"rgba(75, 211, 255, 0.2)",type:"dashed"}}}],series:[{name:"数量",type:"bar",barCategoryGap:"10%",label:{show:!0,position:"top",color:function(e){return e.value>225?red:lightBlue},fontSize:14},itemStyle:{barBorderRadius:[30,30,0,0],color:function(e){return e.value>225?red:lightBlue}},data}]};myChart.setOption(option);var key=0;setInterval(function(){timeData.shift(),timeData.push(timeSet()),data.shift(),data.push(randomData()),key=key===1?0:1,myChart.setOption({xAxis:{data:timeData},series:[{itemStyle:{normal:{color:function(e){return e.value>225?red:lightBlue}}},data}]})},1e3);
