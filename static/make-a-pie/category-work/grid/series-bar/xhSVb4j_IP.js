var charts={cityList:["地面及周围整洁","自行车停放不整齐","建筑物立面不整洁美观","有杂物垃圾，有污水","绿化设施破坏"],cityData:[78,68,62,57,53],total:100},top10CityList=charts.cityList,top10CityData=charts.cityData;let lineY=[],BgY=[],xlineData=[];for(var i=0;i<charts.cityList.length;i++){xlineData.push(`${i+1}.`);var data={name:charts.cityList[i],value:top10CityData[i],itemStyle:{normal:{show:!0,color:new echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#026eff"},{offset:1,color:"#70b9ff"}],!1),barBorderRadius:10}}},bdata={name:charts.cityList[i],value:charts.total,itemStyle:{normal:{show:!0,color:"#ffffff",borderColor:new echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#026eff"},{offset:1,color:"#70b9ff"}],!1),barBorderRadius:10}}};lineY.push(data),BgY.push(bdata)}option={grid:{left:"5%",right:"5%",bottom:"5%",top:"10%",containLabel:!0},backgroundColor:"#ccc",xAxis:{show:!1,type:"value"},yAxis:[{type:"category",inverse:!0,axisLabel:{show:!0,fontSize:24,color:"#fff",fontWeight:"bold"},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},data:xlineData},{type:"category",inverse:!0,axisTick:"none",axisLine:"none",show:!0,axisLabel:{textStyle:{color:"#fff",fontSize:"24"},formatter:function(t){return(t/charts.total*100).toFixed(1)+" %"}},data:top10CityData}],series:[{name:"问题数目",type:"bar",zlevel:1,label:{normal:{color:"#fff",show:!0,position:[0,"-24px"],textStyle:{fontSize:16},formatter:"{b} （ {c} ）"}},barWidth:20,data:lineY},{name:"背景",type:"bar",barWidth:20,barGap:"-100%",data:BgY}]};
