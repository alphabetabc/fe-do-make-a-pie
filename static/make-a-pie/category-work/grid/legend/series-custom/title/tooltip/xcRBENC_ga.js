var data=[["2020-09-20 22:50","2020-09-20 23:55",100,"浅睡"],["2020-09-20 23:55","2020-09-21 01:55",80,"深睡"],["2020-09-21 01:55","2020-09-21 02:00",100,"清醒"],["2020-09-21 02:00","2020-09-21 06:55",100,"浅睡"]],colorList={浅睡:"#976ced",深睡:"#6055d8",清醒:"#ecd4ae"};data=echarts.util.map(data,function(o,e){return{value:o,itemStyle:{color:colorList[o[3]]}}});function renderItem(o,e){var t=e.value(2),s=e.coord([e.value(0),t]),r=e.size([e.value(1)-e.value(0),t]),a=e.style();return{type:"rect",shape:{x:s[0],y:s[1],width:r[0],height:r[1]},style:a}}option={title:{left:"center",bottom:"5%",subtext:"{x|} 深睡 {y|} 浅睡 {z|} 清醒 ",subtextStyle:{fontSize:14,color:"#333",rich:{x:{width:5,height:5,borderRadius:2.5,backgroundColor:"#6055d8"},y:{width:5,height:5,borderRadius:2.5,backgroundColor:"#976ced"},z:{width:5,height:5,borderRadius:2.5,backgroundColor:"#ecd4ae"}}}},tooltip:{},legend:{show:!0,data:["深睡，浅睡，清醒"],formatter:function(o){return console.log(o),"Legend "+o}},xAxis:{type:"time",scale:!0,min:"2020-09-20 22:50",max:"2020-09-21 06:55",axisLabel:{show:!0,interval:1,formatter:function(o,e){var t=new Date(o),s=[t.getHours()<10?"0"+t.getHours():t.getHours(),t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()];return s.join(":")==data[0].value[0].substring(data[0].value[0].length-5)||s.join(":")==data[data.length-1].value[1].substring(data[data.length-1].value[1].length-5)?s.join(":"):""}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},yAxis:{axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},series:[{type:"custom",renderItem,label:{show:!1,position:"top"},dimensions:["from","to","profit"],encode:{x:[0,1],y:2,tooltip:[0,1,2],itemName:3},data}]};
