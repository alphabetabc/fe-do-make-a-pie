var series=[],data=[{name:"版本检验测试",data:[new Date("2018-10-01"),new Date(""),new Date("2018-05-01"),new Date("2018-05-01")],type:1,stack:"t0",prodDate:["2018-08-01","","2018-04-25","2018-04-20"]},{name:"版本检验测试",data:[new Date("2018-03-01T00:00:00.000Z"),new Date(""),new Date("2018-04-01T00:00:00.000Z"),new Date("2018-04-01T00:00:00.000Z")],type:0,stack:"t0"},{name:"版本检验测试",data:[new Date("2018-03-01"),new Date("2018-04-14"),new Date("2018-04-01"),new Date("2018-04-01")],type:1,stack:"t00",prodDate:["2018-02-01","2018-03-01","2018-03-01","2018-03-20"]},{name:"版本检验测试",data:[new Date("2018-01-18"),new Date("2018-02-01"),new Date("2018-01-01"),new Date("2018-01-01")],type:0,stack:"t00"},{name:"应用组装&用户测试",data:[new Date("2018-01-10"),new Date("2018-01-10"),new Date("2018-03-30"),new Date("2018-03-30")],type:1,stack:"t1",prodDate:["2018-01-05","2018-01-06","2018-03-20","2018-03-20"]},{name:"应用组装&用户测试",data:[new Date("2018-01-02"),new Date("2018-01-02"),new Date("2018-03-16"),new Date("2018-03-16")],type:0,stack:"t1"},{name:"版本安装检验",data:[new Date("2018-02-20"),new Date("2018-01-20"),new Date("2018-04-10"),new Date("2018-04-10")],type:1,stack:"t2",prodDate:["2018-02-05","2018-01-16","2018-04-07","2018-04-07"]},{name:"版本安装检验",data:[new Date("2018-02-01"),new Date("2018-01-12"),new Date("2018-04-01"),new Date("2018-04-01")],type:0,stack:"t2"}];for(var i in data)data[i].type==1?series.push({name:data[i].name,type:"bar",stack:data[i].stack,markPoint:{data:[{name:"投产点",value:data[i].prodDate[0],xAxis:data[i].prodDate[0],yAxis:"VT"},{name:"投产点",value:data[i].prodDate[1],xAxis:data[i].prodDate[1],yAxis:"PL2"},{name:"投产点",value:data[i].prodDate[2],xAxis:data[i].prodDate[2],yAxis:"PL3"},{name:"投产点",value:data[i].prodDate[3],xAxis:data[i].prodDate[3],yAxis:"PL4"}],symbolSize:40,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"yellow"},{offset:1,color:"blue"}],global:!1}},label:{formatter:function(e){return e.value}}},label:{normal:{show:!0,color:"#000",position:"right",formatter:function(e){return e.seriesName}}},itemStyle:{normal:{borderColor:"#fff",borderWidth:2}},zlevel:-1,data:data[i].data}):series.push({name:data[i].name,type:"bar",stack:data[i].stack,itemStyle:{normal:{color:"#fff"}},zlevel:-1,z:3,data:data[i].data});var option={backgroundColor:"#fff",title:{text:"环境计划安排",left:"center",padding:20,position:"center",textStyle:{fontSize:17,fontWeight:"bolder",color:"#333"}},legend:{data:["版本检验测试","应用组装&用户测试","版本安装检验"],top:50},grid:{containLabel:!0,show:!1,right:130,left:40,bottom:40,top:90},xAxis:{type:"time",maxInterval:3600*1e3*24*30,axisLabel:{show:!0,interval:0}},yAxis:{splitLine:{show:!0},name:"所属环境",axisLabel:{show:!0,interval:0,formatter:function(e,D){var o="",t=5,l=e.length,a=Math.ceil(l/t);if(a>1){for(var n=0;n<a;n++){var r=n*t,s=r+t,d=e.substring(r,s)+`
`;o+=d}return o}else return e}},data:["VT","PL2","PL3","PL4"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var D="",o="",t="",l="",a="",n="";for(var r in e){var s=r%2;s||(t=e[r].data,l=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()),s&&(o=e[r].seriesName,a=e[r].data,n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),D+=o+" : "+n+"~"+l+"</br>")}return D}},series};
