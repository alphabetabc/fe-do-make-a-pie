let color=["#FF9A2A","#FF4304"],chartData=[{name:"WEB 攻击次数",value:2230},{name:"CC 攻击次数",value:3230}],arrName=[],arrValue=[],sum=0,pieSeries=[],lineYAxis=[];chartData.forEach((e,t)=>{arrName.push(e.name),arrValue.push(e.value),sum=sum+e.value}),chartData.forEach((e,t)=>{let l=[50-t*15+"%",45-t*15+"%"];pieSeries.push({name:"",type:"pie",clockWise:!1,hoverAnimation:!1,radius:l,center:["30%","50%"],label:{show:!1},data:[{value:e.value,name:e.name},{value:sum?e.value/3+sum-e.value:1,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),pieSeries.push({name:"",type:"pie",silent:!0,z:1,clockWise:!1,hoverAnimation:!1,radius:l,center:["30%","50%"],label:{show:!1},data:[{value:7.5,itemStyle:{color:"#E3F0FF"}},{value:2.5,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),e.percent=(e.value/sum*100).toFixed(1)+"%",lineYAxis.push({value:t,textStyle:{rich:{circle:{color:color[t],padding:[0,5]}}}})}),option={backgroundColor:"#fff",color,grid:{top:"22%",bottom:"62%",left:"30%",containLabel:!1},legend:{show:!0,icon:"circle",top:"center",left:"60%",data:arrName,width:50,padding:[0,5],itemGap:60,formatter:function(e){return"{title|"+e+"}"},textStyle:{rich:{title:{fontSize:14,lineHeight:15,color:"#6A829A"},value:{fontSize:18,lineHeight:20,color:"#fff"}}}},yAxis:[{type:"category",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(e){let t=chartData[e];return console.log(t),"{circle|●}"},interval:0,inside:!0,verticalAlign:"middle",textStyle:{color:"#333",fontSize:14,rich:{circle:{fontSize:40}}},show:!0},data:lineYAxis}],xAxis:[{show:!1}],series:pieSeries};
