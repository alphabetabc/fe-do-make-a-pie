let dashedPic="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAOBAMAAAB6G1V9AAAAD1BMVEX////Kysrk5OTj4+TJycoJ0iFPAAAAG0lEQVQ4y2MYBaNgGAMTQQVFOiABhlEwCugOAMqzCykGOeENAAAAAElFTkSuQmCC",color=["#FF8700","#ffc300","#00e473","#009DFF","#0034ff"],chartData=[{name:"test1",value:40083,unit:"列"},{name:"test2",value:33974,unit:"列"},{name:"test3",value:15400,unit:"列"},{name:"test4",value:11021,unit:"列"},{name:"test5",value:30696,unit:"列"}],failertData=[{name:"test1",value:3002,unit:"列"},{name:"test2",value:2050,unit:"列"},{name:"test3",value:201,unit:"列"},{name:"test4",value:2055,unit:"列"},{name:"test5",value:522,unit:"列"}],arrName=[],arrValue=[],sum=0,pieSeries=[],lineYAxis=[];chartData.forEach((t,e)=>{arrName.push(t.name),arrValue.push(t.value),sum=sum+t.value}),chartData.forEach((t,e)=>{pieSeries.push({name:"成功",type:"pie",clockWise:!0,hoverAnimation:!1,radius:[75-e*15+"%",67-e*15+"%"],center:["40%","50%"],label:{show:!1},data:[{value:t.value,name:t.name},{value:sum-t.value,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),pieSeries.push({name:"失败",type:"pie",silent:!0,z:1,clockWise:!0,hoverAnimation:!1,radius:[75-e*15+"%",67-e*15+"%"],center:["40%","50%"],label:{show:!1},data:[{value:7.5,itemStyle:{color:"#E3F0FF"}},{value:2.5,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),t.percent=(t.value/sum*100).toFixed(1)+"%",lineYAxis.push({value:e,textStyle:{rich:{circle:{color:color[e],padding:[0,5]}}}})}),option={backgroundColor:"#fff",color,grid:{top:"12%",bottom:"54%",left:"40%",containLabel:!1},legend:{data:["成功","失败"]},yAxis:[{type:"category",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(t){let e=chartData[t];return console.log(e),"{circle|●}{name|"+e.name+"}{bd||}{percent|"+e.percent+"}{value|"+e.value+"}"},interval:0,inside:!1,textStyle:{color:"#333",fontSize:14,rich:{line:{width:170,height:10,backgroundColor:{image:dashedPic}},name:{color:"#666",fontSize:14},bd:{color:"#ccc",padding:[0,5],fontSize:14},percent:{color:"#333",fontSize:14},value:{color:"#333",fontSize:16,fontWeight:500,padding:[0,0,0,20]},unit:{fontSize:14}}},show:!0},data:lineYAxis}],xAxis:[{show:!1}],series:pieSeries};
