let color=["#00B050","#92D050","#f5d03a","#f5853a","#ff0000"],chartData=[{name:"已完成",value:300},{name:"已审核",value:100},{name:"待点检",value:200},{name:"点检中",value:300},{name:"超时",value:100}],arrName=[],arrValue=[],sum=0,pieSeries=[],lineYAxis=[];chartData.forEach((e,a)=>{arrName.push(e.name),arrValue.push(e.value),sum=sum+e.value}),chartData.forEach((e,a)=>{let t=chartData.slice(0,a).reduce((l,r)=>l+r.value,0);e.startAngle=t/sum*360,pieSeries.push({name:"学历",type:"pie",clockWise:!1,hoverAnimation:!1,radius:[75-a*15+"%",68-a*15+"%"],center:["40%","50%"],label:{show:!1},startAngle:e.startAngle+90,data:[{value:e.value,name:e.name},{value:sum-e.value,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),pieSeries.push({name:"",type:"pie",silent:!0,z:1,clockWise:!1,hoverAnimation:!1,radius:[75-a*15+"%",68-a*15+"%"],center:["40%","50%"],label:{show:!1},data:[{value:sum,itemStyle:{color:"#013561"}},{value:0,name:"",itemStyle:{color:"red"}}]}),e.percent=(e.value/sum*100).toFixed(0)+"%",lineYAxis.push({value:a,textStyle:{rich:{circle:{color:color[a],padding:[0,5]}}}})}),option={backgroundColor:"#000",color,legend:{itemWidth:14,itemHeight:8,show:!0,left:"80%",top:"40%",formatter:e=>"{name|"+e+"} {percent|"+chartData.find(a=>a.name==e).percent+"}",textStyle:{color:"#beceff",fontSize:14,rich:{name:{color:"#a6acba",fontSize:30},percent:{color:"#FFFFFF",fontSize:30}}}},grid:{top:"15%",bottom:"15%",left:"15%",containLabel:!1},yAxis:[{type:"category",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},data:lineYAxis}],xAxis:[{show:!1}],series:pieSeries};
