let color=["#f9fd12","#5ac918","#6089fd","#0d28f4"],chartData=[{name:"一级区",value:13211,unit:"次"},{name:"二级区",value:42111,unit:"次"},{name:"三级区",value:81711,unit:"次"},{name:"四级区",value:121711,unit:"次"}],arrName=[],arrValue=[],sum=0,pieSeries=[],lineYAxis=[];chartData.forEach(e=>{arrName.push(e.name),arrValue.push(e.value),sum=sum+e.value}),chartData.forEach((e,t)=>{pieSeries.push({name:"学历",type:"pie",clockWise:!1,hoverAnimation:!1,radius:[65-t*15+"%",57-t*15+"%"],center:["50%","55%"],label:{show:!1},data:[{value:e.value,name:e.name},{value:sum-e.value,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),pieSeries.push({name:"",type:"pie",silent:!0,z:1,clockWise:!1,hoverAnimation:!1,radius:[65-t*15+"%",57-t*15+"%"],center:["50%","55%"],label:{show:!1},data:[{value:7.5,itemStyle:{color:"#3a4955"}},{value:2.5,name:"",itemStyle:{color:"rgba(0,0,0,0)"}}]}),e.percent=(e.value/sum*100).toFixed(1)+"%",lineYAxis.push({value:t,textStyle:{rich:{circle:{color:color[t],padding:[0,5]}}}})}),option={backgroundColor:"#000",color,grid:{top:"20%",bottom:"50%",left:"55%",containLabel:!1},legend:{show:!0,top:"15%",data:arrName,itemWidth:12,itemHeight:12,padding:[0,5],itemGap:25,formatter:function(e){return"{title|"+e+"}"},textStyle:{rich:{title:{fontSize:10,lineHeight:10,color:"#fff"},value:{fontSize:14,lineHeight:18,color:"#fff"}}}},yAxis:[{type:"category",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(e){let t=chartData[e];return console.log(t),"{circle|●}{bd|}{value|"+t.value+"}{unit|次}{percent|"+t.percent+"}"},interval:0,inside:!0,textStyle:{color:"#fff",fontSize:14,rich:{bd:{fontSize:14},percent:{padding:[0,10],fontSize:14},value:{fontSize:16,fontWeight:500,padding:[0,0,0,10]},unit:{fontSize:14}}},show:!0},data:lineYAxis}],xAxis:[{show:!1}],series:pieSeries};
