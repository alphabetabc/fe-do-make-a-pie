var allData={days:["03/09","03/10"],company:["智能系统","检测","船电","网控","自控","电器","电机","园区","机器人平台","装备公司"],data:[{onDuty:[1e3,1100,1200,1e3,1500,1500,1200,1100,1e3,1590],home:[200,100,300,100,40,140,110,320,190,204],rate:[80,91,75,90,98,91,89,78,69,86]},{onDuty:[1300,1200,1100,1300,1800,1990,1300,1200,1330,1120],home:[200,100,300,100,40,140,110,320,190,204],rate:[80,91,75,90,98,91,89,78,69,86]}]};function getSum(a){for(var t=[],e=0;e<allData.data[a].onDuty.length;e++)t.push(allData.data[a].onDuty[e]+allData.data[a].home[e]);return t}for(var option={timeline:{axisType:"category",show:!0,symbol:"rect",symbolSize:15,currentIndex:allData.days.length-1,controlStyle:{show:!1},autoPlay:!1,playInterval:1e3,data:[]},options:[]},n=0;n<allData.days.length;n++)option.timeline.data.push(allData.days[n]),option.options.push({backgroundColor:"#fff",title:{show:!0,text:allData.days[n]},tooltip:{trigger:"axis"},legend:{show:!0,x:"right",data:["现场办公","居家办公","百分比"]},calculable:!0,grid:{y:80,y2:100},xAxis:[{type:"category",axisLabel:{interval:0,rotate:0},data:allData.company}],yAxis:[{type:"value",name:"员工数量",max:3e3,axisTick:{show:!1},splitLine:{show:!1}},{type:"value",name:"百分比(%)",axisTick:{show:!1},splitLine:{show:!1}}],series:[{name:"现场办公",stack:"员工数量",yAxisIndex:0,type:"bar",itemStyle:{normal:{color:"rgba(0,191,183,1)",barBorderRadius:0,label:{show:!1,textStyle:{color:"#fff"},formatter:function(a){return a.value>0?a.value:""}}}},barWidth:30,label:{normal:{show:!0,position:"inside",formatter:"{c}"}},data:allData.data[n].onDuty},{name:"居家办公",stack:"员工数量",yAxisIndex:0,type:"bar",itemStyle:{normal:{color:"rgba(255,144,128,1)",label:{show:!0,textStyle:{color:"#fff"},formatter:function(a){return a.value>0?a.value:""}}}},barWidth:30,label:{normal:{show:!0,position:"inside",formatter:"{c}"}},data:allData.data[n].home},{name:"百分比",yAxisIndex:1,type:"line",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"#4E66B2",barBorderRadius:0,label:{show:!1}}},data:allData.data[n].rate},{name:"总数",type:"line",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"rgba(252,230,48,1)",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(a){return a.value>0?a.value:""}}}},data:getSum(n)}]});
