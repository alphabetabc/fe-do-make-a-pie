function numAdd(e,r){var a,o,t;try{a=e.toString().split(".")[1].length}catch{a=0}try{o=r.toString().split(".")[1].length}catch{o=0}return t=Math.pow(10,Math.max(a,o)),(e*t+r*t)/t}for(var mvvChartData=[{brEndTime:664,brStartTime:0,volume:378},{brEndTime:1976,brStartTime:1264,volume:392},{brEndTime:3480,brStartTime:2704,volume:396},{brEndTime:4836,brStartTime:4144,volume:321},{brEndTime:6528,brStartTime:5656,volume:414},{brEndTime:7992,brStartTime:7240,volume:382},{brEndTime:9496,brStartTime:8696,volume:374}],max=Math.ceil(mvvChartData[mvvChartData.length-1].brEndTime/1e3),allxPoint=[],i="0.0";i<=max;)allxPoint.push(i),i=numAdd(i,.1).toFixed(2);var allArr=[],time=Number(mvvChartData[mvvChartData.length-1].brStartTime)-Number(mvvChartData[0].brStartTime),volsum=0,lineArr=[],allArr=[];mvvChartData.forEach(e=>{volsum=volsum+Number(e.volume),e.volsum=volsum,lineArr.push([Number((Number(e.brStartTime)/1e3).toFixed(2)),Number((volsum/time*60).toFixed(2))]),e.brStartTime=Number((Number(e.brStartTime)/1e3+.06).toFixed(2)),e.brEndTime=Number((Number(e.brEndTime)/1e3-.06).toFixed(2)),e.volume=Number((Number(e.volume)/1e3).toFixed(2));for(var r=e.brStartTime;r<=e.brEndTime;)allArr.push([r,e.volume]),r=numAdd(r,.1)}),lineArr.push([max,Number((volsum/time*60).toFixed(2))]),option={title:{text:"时间容积图",textStyle:{fontSize:12,fontWeight:"normal"}},legend:{show:!0,orient:"vertical",right:0,top:30,itemGap:4,selected:!0,data:[]},grid:{top:"45px",right:"70px",bottom:"50px"},xAxis:{min:0,max:10,interval:1,boundaryGap:!1,onZero:!0,name:"时间[S]",position:"bottom",nameGap:5,splitLine:{show:!1},axisLabel:{showMinLabel:!0,showMaxLabel:!0},axisTick:{show:!0,inside:!1},show:!0},yAxis:[{min:0,max:6,type:"value",axisLabel:{show:!0,showMinLabel:!0,showMaxLabel:!0},interval:1,axisTick:{show:!0,inside:!1},name:"容积[L]",splitLine:{show:!1},show:!0},{min:0,max:function(e){return e.max<=120?120:Math.ceil(e.max/10)*10},type:"value",axisLabel:{show:!0,showMinLabel:!1,showMaxLabel:!0},interval:20,axisTick:{show:!0,inside:!1},name:"MVV[L/min]",splitLine:{show:!1},show:!0}],series:[{type:"bar",barWidth:(allArr.length/(max*10)*100+10).toFixed(1)+"%",barGap:"0%",barCategoryGap:"0%",data:allArr,itemStyle:{normal:{color:"#4e66a6"}},silent:!0,yAxisIndex:0},{type:"line",step:"end",symbol:"none",itemStyle:{normal:{color:"#4e66a6",lineStyle:{width:1}}},data:lineArr,yAxisIndex:1}]};
