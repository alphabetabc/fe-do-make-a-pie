var option={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis"},legend:{data:["最新成交价","预购队列"]},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var a=new Date,t=[],e=60;e--;)t.unshift(a.toLocaleTimeString().replace(/^\D*/,"")),a=new Date(a-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var a=[],t=60;t--;)a.push(t+1);return a}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:20,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,max:100,min:0,boundaryGap:0}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,barGap:"-100%",barCategoryGap:"0%",itemStyle:{normal:{color:"rgba(0,0,0,0)",borderRightWidth:"1",borderColor:"#ddd"}},lineStyle:{shadowColor:"#0f0",shadowBlur:8,shadowOffsetX:"3",shadowOffsetY:"4"},data:function(){for(var a=[],t=60;t--;)a.push(100);return a}()},{name:"最新成交价",type:"line",data:function(){for(var a=[],t=0;t<60;)a.push(0),t++;return a}()}],animationEasing:"sinusoidalInOut",animationEasingUpdate:"sinusoidalInOut"};myChart.setOption(option);var count=11;setInterval(function(){axisData=new Date().toLocaleTimeString().replace(/^\D*/,"");var a=option.series[0].data,t=option.series[1].data;console.log(a),a.shift(),a.push(100),t.shift(),t.push(Math.round(Math.random()*10)),option.xAxis[0].data.shift(),option.xAxis[0].data.push(axisData),option.xAxis[1].data.shift(),option.xAxis[1].data.push(count++),myChart.setOption({xAxis:[{data:option.xAxis[0].data},{data:option.xAxis[1].data}],series:[{data:a},{data:t}]})},1e3);
