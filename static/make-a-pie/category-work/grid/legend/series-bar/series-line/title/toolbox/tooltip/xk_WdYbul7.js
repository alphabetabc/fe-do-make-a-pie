let opt={xAxisData:["一月","二月","三月","四月"],aUnit:["万m²","%"],series:[{name:"2018年",type:"bar",data:["75.89","560.96","186.41","656.73"],symbol:"none",normalColor:["#FF0007","#FFAAAC"]},{name:"2019年",type:"line",data:["18.70","318.75","187.11","147.70"],symbol:"none",normalColor:["#23BCBA","#FAD961"]}]},mainOpt={color:[["#FF0007","#FFAAAC"],["#F76B1C","#FAD961"]]},{xAxisData=[],series=[],aUnit=[]}=opt,{color}=mainOpt,legend=series.map(e=>e.name),realUnit=Array.from(new Set(aUnit)),seriesType=Array.from(new Set(series.map(e=>e.type))),yAxis=seriesType.map((e,n)=>({name:realUnit.length>1?realUnit[n]:realUnit[0],nameTextStyle:{padding:n?[0,0,0,10]:[0,20,0,0],color:"#999",fontSize:12},axisLabel:{formatter:"{value}",color:"#999",textStyle:{fontSize:12}},axisLine:"none",axisTick:{show:!1},splitLine:{show:!1,lineStyle:{color:"rgba(131,101,101,0.2)",type:"dashed"}}}));series=series.map((e,n)=>{let o={},{type:r,normalColor:t=[]}=e,l={yAxisIndex:seriesType.indexOf(e.type),barWidth:"10px",...e},i={yAxisIndex:seriesType.indexOf(e.type),symbol:"none",lineStyle:{width:2,color:t[0]},itemStyle:{color:t[0]}};if(r=="bar"){if(t.length>1){let c=[{offset:0,color:t[0]},{offset:1,color:t[t.length-1]}];l={...l,itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,c,!1),opacity:.8}}}}else l={...l,itemStyle:{normal:{color:t[0]}}};o={...e,...l}}else r=="line"&&(o={...e,...i});return o}),option={backgroundColor:"#071729",title:{text:""},color,legend:{type:"scroll",data:legend,bottom:10,itemWidth:11,itemHeight:6,itemGap:20,textStyle:{color:"#8998AC",fontSize:12}},grid:{top:"10%",left:"30",right:"30",bottom:"5%",containLabel:!0},toolbox:{feature:{}},tooltip:{trigger:"axis",confine:!0,formatter:function(e){let n="",o=`<div class="jc_echarts_tooltip_box"><div class="tool_axisLabel">${e[0].axisValueLabel}${n}</div>`;return e.forEach((r,t)=>{let{seriesName:l,value:i,color:a,axisIndex:c,dataIndex:p}=r,s="";t>=aUnit.length?s=aUnit[aUnit.length-1]||"":s=aUnit[t],(i==0||i==null)&&(s="",i="-"),typeof a=="object"&&a.colorStops&&(a=a.colorStops[a.colorStops.length-1].color),o+=`<div class="flex_b flex_align line_tootip_box" style="min-width: 177px;">
                <div class="flex_align"><span class="seriy_icon" style="display:inline-block;
                background-color:${a};"></span> ${l}：</div>
                <span class="value">${i}${s}</span>
                </div>`}),o+="</div>",o},backgroundColor:"transparent",textStyle:{color:"#8998AC",fontSize:10},position:function(e,n,o,r,t){var l={top:"10%"};return(e[0]<t.viewSize[0]/2?"right":"left")=="left"?l.right=t.viewSize[0]-e[0]+15:l.left=e[0]+15,l}},xAxis:{type:"category",boundaryGap:!0,axisTick:{show:!1},splitLine:{show:!1},axisLabel:{color:"#727272",fontSize:10},axisLine:{lineStyle:{color:"#E9E9E9"}},data:xAxisData},yAxis,series,...mainOpt};let curDataIndex=0;setInterval(()=>{curDataIndex==xAxisData.length-1?curDataIndex=0:curDataIndex++,myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:curDataIndex}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:curDataIndex})},2e3);
