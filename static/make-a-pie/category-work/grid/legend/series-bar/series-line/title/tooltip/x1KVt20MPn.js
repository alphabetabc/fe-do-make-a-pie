let localdata={rain:[8,18,8,12,0,19,21,19,24.8,23,29.7],tmp:[12,13,9.7,8,-6,15,25,15,23,14,23],winds:[3,2.8,5,6.8,6.4,8,7,8.4,7,8,10],pre:[600,400,550,580,400,500,700,500,600,700,650]},colors=["#4BC946","#FDA975","#27D3E2","#FF0014"],splitNumber=5;function calMax(e){let t=Math.min.apply(null,e),i=Math.max.apply(null,e),l=(i-t)/splitNumber;return i=Math.ceil(i+l),i}function calMin(e){let t=Math.min.apply(null,e),l=(Math.max.apply(null,e)-t)/splitNumber;return t=t===0?t:Math.floor(t-l),t}option={color:colors,backgroundColor:"#fff",title:{text:"2020年2月4日某站雷暴天气时序图",subtext:"灾害时间：2020/2/4 08:30-20202/4 10:20",top:"1%",x:"center",textStyle:{color:"#2D527C",fontSize:"20",fontWeight:"bold"},subtextStyle:{color:"#2D527C",fontSize:"14",fontWeight:"bold"}},grid:{top:"15%",bottom:"10%",left:"15%",right:"15%"},legend:{top:"9%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",axisTick:{show:!1},axisLabel:{textStyle:{color:"#333333",fontSize:14}},axisLine:{show:!1,lineStyle:{color:"#707070"}},data:["02","03","04","05","06","07","08","09","10","11","12"]},yAxis:[{type:"value",position:"left",min:calMin(localdata.rain),max:calMax(localdata.rain),splitNumber,interval:(calMax(localdata.rain)-calMin(localdata.rain))/splitNumber,splitLine:{lineStyle:{type:"dashed",color:"#707070"}},axisLabel:{formatter:function(e,t){return(e+"").indexOf(".")!=-1?e.toFixed(1)+"mm":e+"mm"},textStyle:{color:colors[0],fontSize:14}},axisLine:{show:!1},axisTick:{show:!1}},{type:"value",position:"left",offset:65,min:calMin(localdata.tmp),max:calMax(localdata.tmp),splitNumber,interval:(calMax(localdata.tmp)-calMin(localdata.tmp))/splitNumber,splitLine:{show:!1},axisLine:{show:!1},axisLabel:{formatter:function(e,t){return parseInt(e)+"°C"},textStyle:{color:colors[1],fontSize:14}},axisTick:{show:!1}},{type:"value",position:"right",min:calMin(localdata.winds),max:calMax(localdata.winds),splitNumber,interval:(calMax(localdata.winds)-calMin(localdata.winds))/splitNumber,splitLine:{show:!1},axisLine:{show:!1},axisLabel:{formatter:function(e,t){return parseInt(e)+"m/s"},textStyle:{color:colors[3],fontSize:14}},axisTick:{show:!1}},{type:"value",position:"right",offset:54,min:calMin(localdata.pre),max:calMax(localdata.pre),splitNumber,interval:(calMax(localdata.pre)-calMin(localdata.pre))/splitNumber,splitLine:{show:!1},axisLine:{show:!1},axisLabel:{formatter:function(e,t){return parseInt(e)+"hPa"},textStyle:{color:colors[2],fontSize:14}},axisTick:{show:!1}}],series:[{name:"降水",type:"bar",barWidth:"40%",data:localdata.rain},{name:"温度",type:"line",symbol:"circle",symbolSize:8,yAxisIndex:1,data:localdata.tmp},{name:"气压",type:"line",symbol:"circle",symbolSize:8,yAxisIndex:3,data:localdata.pre},{name:"风速",type:"line",symbol:"circle",symbolSize:8,yAxisIndex:2,data:localdata.winds}]};
