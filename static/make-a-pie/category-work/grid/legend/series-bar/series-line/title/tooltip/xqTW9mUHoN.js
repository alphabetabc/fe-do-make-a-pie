var category=[],lineData=[],barData=[0],rateData=[],total=316532,data=new Date("2018-12-1"),year=data.getFullYear();data.setMonth(data.getMonth()+1,1);for(var i=0;i<36;i++){data.setMonth(data.getMonth()-1);var m=data.getMonth()+1;m=m<10?"0"+m:m,category.push(data.getFullYear()+"-"+m);var b=barData[i]+parseInt(Math.random()*1e4);barData.push(b),lineData.push(total-b),rateData.push((b/(total-b)).toFixed(2)*100)}category.reverse(),option={title:{text:"人口脱贫完成情况趋势图",textStyle:{color:"#fff",fontSize:25}},backgroundColor:"#0f375f",tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#333"}}},legend:{data:["贫困人口","脱贫人口","脱贫率"],textStyle:{color:"#ccc"}},grid:{left:"20",right:"20",bottom:"9%",top:"60",containLabel:!0},xAxis:{data:category,axisLine:{lineStyle:{color:"#ccc"}}},yAxis:[{splitLine:{show:!1},axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{formatter:"{value} "}},{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:function(e){return e+"%"}}}],series:[{name:"脱贫率",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:8,yAxisIndex:1,itemStyle:{normal:{color:"#F02FC2"}},data:rateData},{name:"脱贫人口",type:"bar",itemStyle:{normal:{barBorderRadius:5,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:1,color:"#33cabb"},{offset:0,color:"#3EACE5"}])}},data:barData},{name:"贫困人口",type:"bar",itemStyle:{normal:{barBorderRadius:5,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(156,107,211,1)"},{offset:1,color:"rgba(156,107,211,0)"}])}},data:lineData}]};
