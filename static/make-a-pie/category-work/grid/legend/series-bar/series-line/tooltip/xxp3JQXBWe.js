const payload={id:"age-structure",color:{bar:[["rgba(0, 119, 255, 1)","rgba(0, 191, 255, 0)"]],line:["rgba(252, 209, 83, 1)","rgba(71, 214, 14, 1)"]},title:{bar:["人数"],line:["总人数占比","本单位人数占比"]},unit:{bar:"单位：人",line:"单位：%"},wordNum:3,data:{bar1:["616","681","623","416","406","464","571"],line1:[16,18,16,11,10,12,15],line2:[],x:["55岁以上","50-54岁","45-49岁","40-44岁","35-39岁","30-34岁","29岁及以下"]}},formatter=(t,e)=>{if(!e)return t;let a="";const i=t.length,l=e,s=Math.ceil(i/l);if(i>l)for(let o=0;o<s;o++){let r="";const n=o*l,c=n+l;o===s-1?r=t.substring(n,i):r=t.substring(n,c)+`
`,a+=r}else a=t;return a},wordNum=payload.wordNum,bar1=[],bar2=[],bar3=[],line1=[],line2=[],line3=[],color=["#F9CA3C","#F97A3C","#F63048","#6151F1","#2E5CF2","#2F7DF2","#2FD9F2","#34E9A3","#A9DB32"];payload.data.x.forEach((t,e)=>{payload.data.bar1&&payload.data.bar1.length>0&&bar1.push({value:payload.data.bar1[e],name:t,label:{color:color[e]}}),payload.data.bar2&&payload.data.bar2.length>0&&bar2.push({value:payload.data.bar2[e],name:t,label:{color:color[e]}}),payload.data.bar3&&payload.data.bar3.length>0&&bar3.push({value:payload.data.bar3[e],name:t,label:{color:color[e]}}),payload.data.line1&&payload.data.line1.length>0&&line1.push({value:payload.data.line1[e],name:t,label:{color:color[e]}}),payload.data.line2&&payload.data.line2.length>0&&line2.push({value:payload.data.line2[e],name:t,label:{color:color[e]}}),payload.data.line3&&payload.data.line3.length>0&&line3.push({value:payload.data.line3[e],name:t,label:{color:color[e]}})}),option={tooltip:{trigger:"axis",backgroundColor:"rgba(9, 30, 60, 0.6)",extraCssText:"box-shadow: 0 0 8px rgba(0, 128, 255, 0.27) inset;",borderWidth:0,confine:!1,appendToBody:!0,textStyle:{color:"#fff",fontSize:10},axisPointer:{type:"shadow"},shadowStyle:{color:"rgba(157, 168, 245, 0.1)"},formatter:t=>{var e='<h5 class="echarts-tip-h5">'+t[0].name+"</h5>";return t.forEach((a,i)=>{e+='<div class="echarts-tip-div">',e+='<div class="left">'+a.marker+a.seriesName+"：</div>",e+='<div class="right">'+a.value+(a.seriesType==="line"?"%":"")+"</div>",e+="</div>",payload.data.tipList&&payload.data.tipList.forEach(l=>{e+='<div class="echarts-tip-div">',e+='<div class="left">'+a.marker+payload.data.tipTitle[i]+"：</div>",e+='<div class="right">'+l[a.dataIndex]+"</div>",e+="</div>"})}),e}},grid:{left:15,right:15,bottom:2,top:45,containLabel:!0},legend:{type:"scroll",itemWidth:10,itemHeight:3,itemGap:10,left:"center",itemStyle:{color:"inherit"},textStyle:{color:"#2CD3FD",fontSize:12}},textStyle:{fontSize:10,color:"#4176a3"},xAxis:{type:"category",data:payload.data.x,axisLine:{lineStyle:{type:"solid",color:"#4176a3",width:"0.5"}},axisTick:{show:!1},axisLabel:{interval:0,rotate:0,color:"#96cbfa",fontSize:12,formatter(t){return formatter(t,wordNum)}}},yAxis:[{name:payload.unit.bar,nameGap:10,nameTextStyle:{align:"left",fontSize:11,color:"#4176a3"},minInterval:1,type:"value",axisLine:{lineStyle:{type:"solid",color:"#4176a3",width:"1"},color:"#4176a3",minInterval:1},axisLabel:{fontSize:12},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(65, 118, 163, 0.3)",width:1,type:"solid"}}},{name:payload.unit.line,axisLabel:{formatter:"{value} %",fontSize:12},nameGap:10,nameTextStyle:{align:"right",fontSize:11,color:"#4176a3"},minInterval:1,type:"value",axisLine:{lineStyle:{type:"solid",color:"#4176a3",width:"1"},color:"#4176a3",minInterval:1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(65, 118, 163, 0.3)",width:1,type:"solid"}}}],series:[]};const getBar=(t,e,a)=>({yAxisIndex:0,showBackground:!1,barMaxWidth:8,name:t,data:a,type:"bar",itemStyle:{borderRadius:[4,4,0,0],color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:e[0]},{offset:1,color:e[1]}])}}),getLine=(t,e,a)=>({yAxisIndex:1,name:t,data:a,type:"line",smooth:!1,itemStyle:{color:e},lineStyle:{width:1,color:e,shadowColor:"rgba(0, 0, 0, .3)",shadowBlur:0,shadowOffsetY:5,shadowOffsetX:5}});bar1.length>0&&option.series.push(getBar(payload.title.bar[0],payload.color.bar[0],bar1)),bar2.length>0&&option.series.push(getBar(payload.title.bar[1],payload.color.bar[1],bar2)),bar3.length>0&&option.series.push(getBar(payload.title.bar[2],payload.color.bar[2],bar3)),line1.length>0&&option.series.push(getLine(payload.title.line[0],payload.color.line[0],line1)),line2.length>0&&option.series.push(getLine(payload.title.line[1],payload.color.line[1],line2)),line3.length>0&&option.series.push(getLine(payload.title.line[2],payload.color.line[2],line3));
