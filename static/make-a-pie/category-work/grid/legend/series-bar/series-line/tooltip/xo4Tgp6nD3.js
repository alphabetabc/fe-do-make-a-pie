var data=[[20,30,40,20],[20,30,40,20],[20,30,40,20]],legendData=["实际质量损失率","质量损失率目标","实际质量损失额"],xAxisData=["本部","子公司","中车成都","中车广东"],colorArr=["#3082FF","#E0F0FF","#FEAF1B"],barWidth="40%",seriesData=[],toalData=[],html="aa",yAxisName="",yAxisData=[{name:yAxisName,nameTextStyle:{color:"#4B525E",fontSize:12,fontFamily:"PingFang"},type:"value",axisLabel:{interval:0,textStyle:{color:"#4B525E",fontStyle:"normal",fontFamily:"PingFang",fontSize:12}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#E6EAF3"}},splitLine:{show:!1}}];legendData.forEach((l,a)=>{html=="aa"?(yAxisData[0].name="%",gridTop="27%",yAxisData.push({name:"万元",nameTextStyle:{color:"#4B525E",fontSize:12,fontFamily:"PingFang"},type:"value",axisLabel:{interval:0,textStyle:{color:"#4B525E",fontStyle:"normal",fontFamily:"PingFang",fontSize:12}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#E6EAF3"}},splitLine:{show:!1}}),legend={width:8,height:8,itemGap:6,padding:[10,8],fontSize:12},a<2?seriesData.push({name:legendData[a],type:"bar",stack:"总量",barWidth,data:data[a]}):seriesData.push({name:legendData[a],yAxisIndex:1,type:"line",symbolSize:10,symbol:"circle",lineStyle:{normal:{color:colorArr[a],width:2,shadowBlur:3,shadowColor:"rgba(0,0,0,0.2)",shadowOffsetY:10}},data:data[a]})):seriesData.push({name:legendData[a],type:"bar",stack:"总量",barWidth,data:data[a]})}),option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(l){if(html=="aa"){var a="",r=0;return a=l[0].name+"月<br />",l.map((e,i)=>{e.seriesName=="实际质量损失率"&&(i==0&&(a+=e.marker+e.seriesName+"："+e.value+"%<br />"),r+=Number(e.value)),e.seriesName=="实际质量损失额"&&(a+=e.marker+e.seriesName+"："+e.value+"万元<br />"),e.seriesName=="质量损失率目标"&&(r+=Number(e.value),a+=e.marker+e.seriesName+":"+r+"%<br />")}),a}else{var a="",r=0;return a=l[0].name+"<br />",l.map(t=>{a+=t.marker+t.seriesName+"："+t.value+"人<br />",r+=parseInt(t.value)}),a+="总人数："+r+"人",a}}},legend:{itemWidth:10,itemHeight:10,padding:[10,20],backgroundColor:"#F9F9F9",borderRadius:20,itemGap:8,x:"center",top:10,textStyle:{fontSize:12,color:"#5D6C8E",fontFamily:"PingFang"},data:legendData},color:colorArr,grid:{left:"3%",right:"4%",top:"24%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",axisLine:{lineStyle:{color:"#E6EAF3"}},axisTick:{show:!1},axisLabel:{interval:0,margin:15,textStyle:{color:"#4B525E",fontStyle:"normal",fontFamily:"PingFang",fontSize:12}},data:xAxisData}],yAxis:yAxisData,series:seriesData};
