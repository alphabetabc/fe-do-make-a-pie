var uploadedDataURL="/asset/get/s/data-1591344758953-j1Y7QqUmH.json";myChart.showLoading(),$.getJSON(uploadedDataURL,function(l){if(l.carCountRank){var x=l.carCountRank,a=0,n=4,y=x.length,f=Math.ceil(y/n);let e={grid:[{left:"4%",top:"20%",right:"4%",bottom:"1%"}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{gridIndex:0,show:!1}],legend:{data:["小型车","中型车","大型车","特大型车","摩托车"],top:30},yAxis:[{gridIndex:0,splitLine:"none",axisTick:"none",axisLine:"none",axisLabel:{verticalAlign:"bottom",align:"left",padding:[0,0,15,15],textStyle:{color:"#fff",fontSize:"14"}},data:[],inverse:!0},{gridIndex:0,splitLine:"none",axisTick:"none",axisLine:"none",data:[],inverse:!0,axisLabel:{show:!0,verticalAlign:"bottom",align:"right",padding:[0,20,15,0],textStyle:{color:"#fff",fontSize:"16"},formatter:function(r){return"{x|"+r+"}  {y|辆}"},rich:{y:{color:"#befbff",fontSize:16},x:{color:"#f6cf42",fontSize:16}}}},{gridIndex:0,splitLine:"none",axisTick:"none",axisLine:"none",data:[]}],series:[{name:"小型车",stack:"总量",type:"bar",xAxisIndex:0,yAxisIndex:0,barWidth:15,z:2,label:{show:!0,position:"insideRight"},data:[]},{name:"中型车",stack:"总量",type:"bar",xAxisIndex:0,yAxisIndex:0,barWidth:15,z:2,label:{show:!0,position:"insideRight"},data:[]},{name:"大型车",stack:"总量",type:"bar",xAxisIndex:0,yAxisIndex:0,barWidth:15,z:2,label:{show:!0,position:"insideRight"},data:[]},{name:"特大型车",stack:"总量",type:"bar",xAxisIndex:0,yAxisIndex:0,barWidth:15,z:2,label:{show:!0,position:"insideRight"},data:[]},{name:"摩托车",stack:"总量",type:"bar",xAxisIndex:0,yAxisIndex:0,barWidth:15,z:2,label:{show:!0,position:"insideRight"},data:[]},{name:"外框",type:"bar",xAxisIndex:0,yAxisIndex:2,barGap:"-100%",data:[],barWidth:15,itemStyle:{normal:{color:"#2d5271",barBorderRadius:0}},z:0}]};setInterval(function(){let r=[],d=[],h=[],p=[],c=[],b=[],m=[],g=x.slice(a*n,(a+1)*n);$.each(g,function(I,t){for(let i in t)r.push(i),d.push(t[i].total),h.push(t[i].small),p.push(t[i].middle),c.push(t[i].big),b.push(t[i].large),m.push(t[i].motor)}),a=++a%f;let o=Math.max(...d),u=[o,o,o,o];e.yAxis[0].data=r,e.yAxis[1].data=d,e.series[0].data=h,e.series[1].data=p,e.series[2].data=c,e.series[3].data=b,e.series[4].data=m,e.series[5].data=u,myChart.setOption(e),myChart.hideLoading()},5e3);var s=0,A=setInterval(function(){myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:s}),s++,s>n&&(s=0)},1e3)}});
