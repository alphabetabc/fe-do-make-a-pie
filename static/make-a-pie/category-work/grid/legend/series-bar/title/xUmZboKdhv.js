const result=[{sop_id:28,period_code:"2022年01月第01期",sop_line_type:"SUPPLY",sop_line_type_name:"供应能力(ATP)",qty_horizon1:80,qty_horizon2:120,qty_horizon3:160,qty_horizon4:200,qty_horizon5:240},{sop_id:28,period_code:"2022年01月第01期",sop_line_type:"SOP_NOW",sop_line_type_name:"本期S&OP计划",qty_horizon1:1538,qty_horizon2:1440,qty_horizon3:1532,qty_horizon4:1624,qty_horizon5:1716},{sop_id:28,period_code:"2022年01月第01期",sop_line_type:"DEMAND_NOW",sop_line_type_name:"本期需求计划",qty_horizon1:1348,qty_horizon2:1440,qty_horizon3:1532,qty_horizon4:1624,qty_horizon5:1716}],series=[],xAxis=[],legendData=[],prefixKey="qty_horizon";result.forEach((o,e)=>{const n=Object.keys(o),t=[];legendData.push(o.sop_line_type_name),n.forEach(_=>{_.startsWith(prefixKey)&&(t.push(o[_]),e===0&&xAxis.push(`${_.replace(prefixKey,"")}月`))}),series.push({name:o.sop_line_type_name,type:"bar",data:t})}),console.log(series,xAxis,legendData),option={title:{text:"XX产品需求分析"},legend:{data:legendData},xAxis:{data:xAxis},yAxis:{},series};
