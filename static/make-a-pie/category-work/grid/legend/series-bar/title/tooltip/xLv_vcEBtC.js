app.title="世界人口总量 - 条形图";for(var dataName=["中国","印度","美国","印尼","巴西"],dataValue=[131744,104970,29034,23489,18203],lendata=dataName.length,dataIndex=[],i=0;i<lendata;i++)dataIndex.push(i+1);var show_num=3,startIndex=0,lastIndex=show_num;lendata<show_num&&(lastIndex=lendata),option={title:{text:"世界人口总量",subtext:"数据来自网络"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2011年"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],show:!1},yAxis:{type:"category",data:dataIndex.slice(0,lastIndex),inverse:!0,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},series:[{name:"2011年",type:"bar",data:dataValue.slice(0,lastIndex),barWidth:48,label:{normal:{position:"inner",show:!0,formatter:function(t){var a=(t.dataIndex+startIndex)%lendata;return dataName[a]+"-"+dataValue[a]+"人"},fontSize:36,color:"white"}}}]},lendata>show_num&&setInterval(function(){var t=dataName.length;lastIndex>=t&&(lastIndex=0);var a=option.series[0].data;a.shift(),a.push(dataValue[lastIndex]),option.yAxis.data.shift(),option.yAxis.data.push(dataIndex[lastIndex]),lastIndex=(lastIndex+1)%t,startIndex=(startIndex+1)%t,myChart.setOption(option,!0)},3e3);
