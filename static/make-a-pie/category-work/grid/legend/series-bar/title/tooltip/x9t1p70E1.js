var data=[["2019-01",null],["2019-02",19,0,0,100],["2019-03",11,10,47.62,52.38],["2019-04",57,5,8.06,91.94],["2019-05",20,0,0,100],["2019-06",99,20,16.81,83.19],["2019-07",47,18,27.69,72.31],["2019-08",63,1,1.56,98.44],["2019-09",62,3,4.62,95.38],["2019-10",56,4,6.67,93.33],["2019-11",null],["2019-12",null]];function outZero(t){return t.indexOf("0")>-1?t.split("0")[1]:t}var normalData=[],outControlData=[];data.forEach(function(t,a){var e={name:outZero(t[0].split("-")[1])+"月",value:t[4],normalDataNum:t[1],outControlDataNum:t[2],normalDataPer:t[4],outControlDataPer:t[3]},o={name:outZero(t[0].split("-")[1])+"月",value:t[3],normalDataNum:t[1],outControlDataNum:t[2],normalDataPer:t[4],outControlDataPer:t[3]};normalData.push(e),outControlData.push(o)}),console.log(normalData),option={title:{text:"今年失控情况",textStyle:{fontSize:16,fontWeight:500,color:"#475669",fontFamily:"Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol",fontFeatureSettings:"tnum",fontVariantNumeric:"tabular-nums"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["正常数据","失控数据"],right:110},grid:{left:10,right:15,bottom:"3%",containLabel:!0},xAxis:[{type:"category",axisTick:{show:!1},axisLine:{lineStyle:{color:"#707f96"}},data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},min:0,max:100,axisLabel:{color:"#707f96",formatter:function(t,a){return t+"%"}},splitLine:{lineStyle:{type:"dashed"}}}],series:[{name:"正常数据",type:"bar",stack:"广告",color:"#80c0fe",barWidth:20,data:normalData},{name:"失控数据",type:"bar",stack:"广告",color:"#ffa5a5",barWidth:20,data:outControlData}]};
