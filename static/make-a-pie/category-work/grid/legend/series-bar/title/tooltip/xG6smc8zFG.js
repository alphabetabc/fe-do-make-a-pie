demo=[{x:"支付宝支出",y:9e4,s:"个人爱好支出金额总数"},{x:"支付宝支出",y:26e3,s:"日常用品支出金额总数"},{x:"微信支出",y:50000.12,s:"个人爱好支出金额总数"},{x:"微信支出",y:18e3,s:"日常用品支出金额总数"},{x:"现金支出",y:41e3,s:"个人爱好支出金额总数"},{x:"现金支出",y:13e3,s:"日常用品支出金额总数"}];let data=_yAxisData();option={backgroundColor:"#001121",title:{text:"当月个人支出详情",textStyle:{color:"#fff"}},color:colors(),tooltip:{show:!0,trigger:"item"},grid:{left:"10%",top:"10%"},legend:{show:!0,type:"scroll",icon:"rect",left:"70%",top:"4%",width:"50%",itemWidth:20,itemHeight:20,formatter:function(e){let t=e.substring(0,6),a=e.substring(6,e.length);return t+`
`+a},itemGap:10,textStyle:{color:"rgba(255,255,255,0.8)",fontSize:14}},xAxis:[{type:"category",data:_xAxisData(),axisTick:{show:!1},axisLabel:{interval:0,rotate:0,fontSize:12,formatter:function(e){let t=e.split(`
`)[0],a=e.split(`
`)[1];return console.log(t,a),[`{a|${t}}
`,`{b|${a}}`]},rich:{a:{color:"rgba(255,255,255,0.8)"},b:{color:"#f4b741"}}},axisLine:{show:!1}}],yAxis:[{name:"（万元）",nameTextStyle:{color:"rgba(255,255,255,0.8)",fontSize:12},type:"value",axisLabel:{color:"rgba(255,255,255,0.8)",fontSize:12},splitLine:{lineStyle:{color:["#82909b","#8b949d"]}},axisLine:{show:!1}}],series:[{name:"个人爱好支出金额总数",type:"bar",barWidth:"30%",itemStyle:{normal:{label:{show:!0,position:"top",color:"#fff",fontSize:12,formatter:function(e){let t=e.value+"";return _formatNum(t)}}}},data:data[0]},{name:"日常用品支出金额总数",type:"bar",barWidth:"30%",itemStyle:{normal:{label:{show:!0,position:"top",color:"#fff",fontSize:12,formatter:function(e){let t=e.value+"";return _formatNum(t)}}}},data:data[1]}]};function colors(){return[new this.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#91b9d7"},{offset:1,color:"#5b90c6"}],!1),new this.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#ddc094"},{offset:1,color:"#d5a770"}],!1)]}function _xAxisData(){let e=new Set(demo.map(r=>r.x)),t=[],a=0,o=0,l=0;if(demo){for(let r of e)t.push(r);demo.map((r,c)=>{switch(r.x){case t[0]:a+=Number(r.y);break;case t[1]:o+=Number(r.y);break;case t[2]:l+=Number(r.y);break;default:break}})}let f=[a,o,l],i=[];for(var n=0;n<t.length;n++){var s=t[n]+`
（共`+_formatNum(f[n]+"")+"万元）";i.push(s)}return i}function _yAxisData(){var e=[],t=[];demo&&demo.map(o=>{o.s=="个人爱好支出金额总数"?e.push(o.y):o.s=="日常用品支出金额总数"&&t.push(o.y)});let a=[];return a=[e,t],a}function _formatNum(e){var t="",a=0;if(e.indexOf(".")==-1){for(var o=e.length-1;o>=0;o--)a%3===0&&a!==0?t=e.charAt(o)+","+t:t=e.charAt(o)+t,a++;return e=t+".00",e}else{for(var l=e.indexOf(".")-1;l>=0;l--)a%3===0&&a!==0?t=e.charAt(l)+","+t:t=e.charAt(l)+t,a++;return e=t+(e+"00").substr((e+"00").indexOf("."),3),e}}
