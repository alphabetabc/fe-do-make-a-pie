var chartData=[{name:"部门名称1",value:50,test:"备注1"},{name:"部门名称2",value:60,test:"备注2"},{name:"部门名称3",value:66,test:"备注3"},{name:"部门名称4",value:72,test:"备注4"},{name:"部门名称5",value:80,test:"备注5"},{name:"部门名称6",value:88,test:"备注6"},{name:"部门名称7",value:96,test:"备注7"},{name:"部门名称8",value:100,test:"备注8"}],itemValue=[],bgData=[];chartData.forEach(function(t,e){itemValue.push(t.value)}),maxdata=Math.max.apply(null,itemValue);for(var i=0;i<chartData.length;i++)bgData.push(maxdata);console.log(bgData),option={backgroundColor:"#0d073d",title:{show:!1},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},padding:0,textStyle:{fontSize:16,fontFamily:"Simsun",color:"#fff"},formatter:function(t,e,a){console.log(t[1]);var o='<table class="charts_tip"><thead><tr><th colspan="2" style="padding:2px 5px; background:'+t[1].color+'">'+t[1].name+'</th></tr></thead><tbody><tr><td class="cc" style="padding:2px 5px;">数量</td><td>'+t[1].value+'</td></tr><tr><td class="cc" style="padding:2px 5px;">备注</td><td>'+t[1].data.test+"</td></tr></tbody></table>";return setTimeout(function(){a(e,o)},3e3),o}},legend:{show:!1},toolbox:{show:!1},grid:{top:"8%",left:"7%",right:"15%",bottom:"10%",containLabel:!0},xAxis:[{type:"value",position:"bottom",boundaryGap:!0,min:0,axisLabel:{show:!1,textStyle:{color:"#fff",fontSize:16}},axisLine:{show:!1,lineStyle:{color:"rgba(255, 255, 255, .5)"}},axisTick:{show:!1},splitLine:{show:!1,lineStyle:{color:"rgba(255, 255, 9255, 0)",type:"dashed",width:1}}}],yAxis:{type:"category",position:"left",axisLabel:{textStyle:{color:"#8aa5ab",fontSize:15}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, .5)",width:1}},axisTick:{show:!1},splitLine:{show:!1},data:function(t){var e=[];return t.forEach(function(a){e.push(a.name)}),e}(chartData)},series:[{type:"bar",barGap:"-100%",label:{normal:{show:!1}},barWidth:27,itemStyle:{normal:{color:"#1a2859"}},data:bgData,z:0},{type:"bar",label:{normal:{show:!0,position:"right",textStyle:{color:"white",fontSize:16},formatter:"{c}%"}},barWidth:27,itemStyle:{normal:{color:function(t){var e=["#ea9ef3","yellowgreen","#4a5eea","#00a0e9","#8957a1","#80f1b0","#ff6692","#f29b76"];return e[t.dataIndex]}}},data:chartData,z:1}]},myChart.setOption(option);
