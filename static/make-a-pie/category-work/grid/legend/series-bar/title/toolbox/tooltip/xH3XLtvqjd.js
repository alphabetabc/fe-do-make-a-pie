for(var data=[{name:"10-20岁",value1:"100",value2:"200"},{name:"20-30岁",value1:"145",value2:"300"},{name:"30-40岁",value1:"145",value2:"300"},{name:"40-50岁",value1:"145",value2:"300"},{name:"50-60岁",value1:"145",value2:"300"},{name:"60-70岁",value1:"305",value2:"300"}],nameList=[],value1List=[],value2List=[],maxNum=0,tempNum,tempValue1,tempValue2,i=0;i<data.length;i++)nameList.push(data[i].name),tempValue1=data[i].value1,tempValue2=data[i].value2,tempNum=tempValue1- -tempValue2,tempNum>maxNum&&(maxNum=tempNum),value1List.push(tempValue1),value2List.push(tempValue2);option={title:{text:"各年龄段性别比例",x:"center",y:20,textStyle:{color:"#d8d8d8",fontSize:16,fontFamily:"Microsoft YaHei"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,orient:"vertical",right:5,itemSize:22,feature:{}},grid:{right:"15%",left:"16%",borderWidth:0},legend:{data:["男","女"],y:10,x:"80%",textStyle:{color:"#e4e4e4",fontFamily:"Microsoft YaHei"}},calculable:!1,backgroundColor:"#1D222A",xAxis:[{type:"value",axisLine:{lineStyle:{color:"#4a4a4a",width:1}},axisTick:{show:!0},name:"单位：人",nameTextStyle:{color:"#e4e4e4"},axisLabel:{textStyle:{color:"#e4e4e4",fontFamily:"Microsoft yahei"}},max:Math.ceil(maxNum/100)*100,splitArea:{show:!1},splitLine:{show:!1}}],yAxis:[{name:"年龄段",nameTextStyle:{color:"#e4e4e4"},type:"category",axisLine:{lineStyle:{color:"#4a4a4a",width:1}},axisLabel:{formatter:function(e){for(i in e)return e.length>5?e.substring(0,4)+"..":e},textStyle:{color:"#e4e4e4",fontFamily:"Microsoft yahei"}},axisTick:{show:!1},splitArea:{show:!1},splitLine:{show:!1},data:nameList}],series:[{name:"男",type:"bar",barWidth:10,stack:"总量",color:"#50a5ff",itemStyle:{},emphasis:{itemStyle:{}},data:value1List},{name:"女",type:"bar",barWidth:10,stack:"总量",color:"#49ff16",itemStyle:{},emphasis:{itemStyle:{}},data:value2List}],noDataLoadingOption:{text:"暂无数据",effect:"whirling"}};
