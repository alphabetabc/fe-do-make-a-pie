for(var data=[{name:"幸福指数1",data:[{name:"<20",value:"23"},{name:"20~40",value:"22"},{name:"40~60",value:"11"},{name:"60~80",value:"35"},{name:">80",value:"35"}]},{name:"幸福指数2",data:[{name:"<20",value:"34"},{name:"20~40",value:"34"},{name:"40~60",value:"23"},{name:"60~80",value:"32"},{name:">80",value:"23"}]},{name:"幸福指数3",data:[{name:"<20",value:"12"},{name:"20~40",value:"2"},{name:"40~60",value:"22"},{name:"60~80",value:"32"},{name:">80",value:"12"}]},{name:"幸福指数4",data:[{name:"<20",value:"11"},{name:"20~40",value:"22"},{name:"40~60",value:"52"},{name:"60~80",value:"62"},{name:">80",value:"22"}]},{name:"幸福指数5",data:[{name:"<20",value:"42"},{name:"20~40",value:"32"},{name:"40~60",value:"32"},{name:"60~80",value:"52"},{name:">80",value:"42"}]}],pieData=new Array(5),index=0;index<data.length;index++)pieData[index]=[],data.map((a,t)=>{console.log(a.data),pieData[index].push(a.data[index])});pieData=pieData.map((a,t)=>(a=a.map((e,n)=>(e.age=e.name,e.name=n+1,e)),a));var serPiePisition=[["10%","80%"],["30%","80%"],["50%","80%"],["70%","80%"],["90%","80%"]],serPie={name:"采购方式统计1",type:"pie",radius:"20%",label:{position:"inside"},itemStyle:{normal:{label:{show:!0,position:"inside",formatter:`{b} 
 ({d}%)`,textStyle:{}}}}},pieData=pieData.map((a,t)=>(serPie.data=a,serPie.center=serPiePisition[t],JSON.parse(JSON.stringify(serPie))));console.log(pieData),option={title:[{text:""},{text:"各指数年龄占比",x:"10",top:"55%"}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["1","2","3","4","5"],align:"right",right:10},grid:{left:"3%",right:"4%",bottom:"53%",containLabel:!0},xAxis:[{name:"年龄",type:"category",data:["<20","20~40","40~60","60~80",">80"]}],yAxis:[{type:"value",name:"count",axisLabel:{formatter:"{value}"}}],series:[{name:"1",type:"bar",data:data[0].data},{name:"2",type:"bar",data:data[1].data},{name:"3",type:"bar",data:data[2].data},{name:"4",type:"bar",data:data[3].data},{name:"5",type:"bar",data:data[4].data},...pieData]};
