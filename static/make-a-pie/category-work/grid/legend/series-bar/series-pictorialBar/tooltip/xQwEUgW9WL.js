var img="/asset/get/s/data-1640056188040-4obBXEDpw.png",datas=["国投集团","城投集团","大佛投集团","机场投集团","苏新投集团","娥率投集团","乐山国有资本运用有限公司"],dataheng=[43,43,43,43,43,43,43],legendData=[{name:"实用数量",data:[32,42,4,5,6,6,6],barBorderRadius:[0,20,20,0]},{name:"空缺编制",data:[0,0,0,0,0,4,4],barBorderRadius:[20,20,20,20]},{name:"超编制或(未经市国资委核定编制)",data:[3,0,0,6,0,0,0],barBorderRadius:[0,20,20,0]}];let legendData1=[3,0,0,6,0,0,0];var dataMax=[],xMax=0,colorList=["#ffc001","#96cb03","#fe5959"],seriesList=[];for(let e=0;e<legendData[0].data.length;e++)dataMax.push(legendData[0].data[e]+legendData[1].data[e]);xMax=Math.max(...dataMax);for(var i=0;i<legendData.length-1;i++)seriesList.push({type:"bar",name:legendData[i].name,stack:"2",barWidth:30,itemStyle:{color:colorList[i],barBorderRadius:legendData[i].barBorderRadius,emphasis:{color:colorList[i]}},label:{show:!0,position:"inside",right:0,color:"#fff",formatter:function(e){return e.value==0?"":e.value}},data:legendData[i].data},{name:"",type:"pictorialBar",symbolSize:[2,30],symbolOffset:[15,10],symbol:"back",color:"#fff",label:{show:!0,position:"lef",color:"#999",fontSize:14,formatter:function(e){return console.log(e),"核定编制数："+e.value+"辆"}},itemStyle:{emphasis:{color:"#ffc001"}},data:dataMax,tooltip:{show:!1}},{name:"",type:"pictorialBar",symbolSize:[7,30],symbolOffset:[15,0],symbol:"image://"+img,symbolPosition:"end",z:12,color:"#fe5959",data:dataheng,tooltip:{show:!1}});option={backgroundColor:"#fff",tooltip:{show:!1,trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(210,219,238,0.2)"}}},legend:[{left:"10%",top:"7%",icon:"circle",itemWidth:6,itemHeight:6,selectedMode:!1,textStyle:{fontSize:16,color:"#000"},data:["实用数量","空缺编制"]},{x:"25%",top:"7%",icon:"circle",itemWidth:6,itemHeight:6,selectedMode:!1,textStyle:{fontSize:16,color:"#000"},data:["超编制或(未经市国资委核定编制)"]}],grid:[{containLabel:!0,top:"20%",left:"0%",bottom:"0%",width:"70%"},{gridIndex:1,left:"74%",right:"0%",top:"20%",bottom:"0%",containLabel:!0}],xAxis:[{show:!1,max:xMax},{gridIndex:1,show:!1,max:xMax}],yAxis:[{inverse:!0,data:datas,axisLabel:{fontSize:12,align:"right",color:"#000",nterval:0,formatter:function(e){return e.length>7?e.replace(e.substr(6,1),`
`+e.substr(6,1)):e}},axisLine:{show:!0},axisTick:{show:!0},axisPointer:{label:{show:!1,margin:30}}},{gridIndex:1,inverse:!0,data:datas,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},axisPointer:{label:{show:!1,margin:30}}}],series:[{type:"bar",name:"实用数量",stack:"2",z:10,barCategoryGap:55,itemStyle:{color:"#ffc001",barBorderRadius:[0,10,10,0],emphasis:{color:"#ffc001"}},label:{show:!0,position:"inside",right:0,color:"#fff",formatter:function(e){return e.value==0?"":e.value}},data:[32,42,4,5,6,6,6]},{type:"bar",name:"空缺编制",stack:"2",itemStyle:{color:"#96cb03",shadowColor:"#96cb03",barBorderRadius:[10,10,10,10],shadowOffsetX:-20,emphasis:{color:"#96cb03"}},label:{show:!0,position:"inside",right:0,color:"#fff",formatter:function(e){return e.value==0?"":e.value}},data:[0,0,0,0,0,4,4]},{name:"",type:"pictorialBar",symbolSize:[2,10],symbolOffset:[10,-20],symbol:"back",color:"#fff",label:{show:!0,position:[6,-2],color:"#999",fontSize:14,formatter:function(e){return console.log(e),"核定编制数："+e.value+"辆"}},itemStyle:{emphasis:{color:"#ffc001"}},data:dataMax,tooltip:{show:!1}},{name:"",type:"pictorialBar",symbolSize:[7,30],symbolOffset:[15,0],symbol:"image://"+img,symbolPosition:"end",z:12,color:"#fe5959",data:dataheng,tooltip:{show:!1}},{xAxisIndex:1,yAxisIndex:1,type:"bar",name:"超编制或(未经市国资委核定编制)",stack:"3",barCategoryGap:55,itemStyle:{color:"#fe5959",barBorderRadius:[0,20,20,0],emphasis:{color:"#fe5959"}},label:{show:!0,position:"inside",right:0,color:"#fff",formatter:function(e){return e.value==0?"":e.value}},data:legendData1}]},myChart.setOption(option);
