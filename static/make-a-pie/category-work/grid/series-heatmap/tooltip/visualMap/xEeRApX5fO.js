app.title="热力图 - 2w 数据";var noise=getNoiseHelper(),xData=[],yData=[];noise.seed(Math.random());const x=200,y=200;function generateData(O,F,h){for(var W=[],X=0;X<=x;X++){for(var t=0;t<=y;t++)W.push([X,t,noise.perlin2(X/x*2,t/y*2)+.5]);xData.push(X)}for(var t=0;t<y;t++)yData.push(t);return W}var data=generateData(2,-5,5);option={backgroundColor:"rgb(31, 59, 118)",textStyle:{color:"#fff"},height:300,tooltip:{},xAxis:{type:"category",data:xData},yAxis:{type:"category",data:yData},visualMap:{min:0,max:1,calculable:!0,realtime:!1,orient:"horizontal",calculable:!1,itemWidth:"10",top:0,right:0,inRange:{color:["#2ba2ee","#f32cb7"]},text:["","热力条："],textStyle:{color:"#fff"}},series:[{name:"Gaussian",type:"heatmap",data,itemStyle:{emphasis:{}},progressive:1e3,animation:!1}]};function getNoiseHelper(O){var F={};function h(r,a,e){this.x=r,this.y=a,this.z=e}h.prototype.dot2=function(r,a){return this.x*r+this.y*a},h.prototype.dot3=function(r,a,e){return this.x*r+this.y*a+this.z*e};var W=[new h(1,1,0),new h(-1,1,0),new h(1,-1,0),new h(-1,-1,0),new h(1,0,1),new h(-1,0,1),new h(1,0,-1),new h(-1,0,-1),new h(0,1,1),new h(0,-1,1),new h(0,1,-1),new h(0,-1,-1)],X=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t=new Array(512),v=new Array(512);F.seed=function(r){r>0&&r<1&&(r*=65536),r=Math.floor(r),r<256&&(r|=r<<8);for(var a=0;a<256;a++){var e;a&1?e=X[a]^r&255:e=X[a]^r>>8&255,t[a]=t[a+256]=e,v[a]=v[a+256]=W[e%12]}},F.seed(0);var Q=.5*(Math.sqrt(3)-1),Y=(3-Math.sqrt(3))/6,T=1/3,b=1/6;F.simplex2=function(r,a){var e,o,n,i=(r+a)*Q,g=Math.floor(r+i),m=Math.floor(a+i),d=(g+m)*Y,f=r-g+d,s=a-m+d,A,u;f>s?(A=1,u=0):(A=0,u=1);var p=f-A+Y,l=s-u+Y,w=f-1+2*Y,c=s-1+2*Y;g&=255,m&=255;var G=v[g+t[m]],j=v[g+A+t[m+u]],D=v[g+1+t[m+1]],M=.5-f*f-s*s;M<0?e=0:(M*=M,e=M*M*G.dot2(f,s));var S=.5-p*p-l*l;S<0?o=0:(S*=S,o=S*S*j.dot2(p,l));var q=.5-w*w-c*c;return q<0?n=0:(q*=q,n=q*q*D.dot2(w,c)),70*(e+o+n)},F.simplex3=function(r,a,e){var o,n,i,g,m=(r+a+e)*T,d=Math.floor(r+m),f=Math.floor(a+m),s=Math.floor(e+m),A=(d+f+s)*b,u=r-d+A,p=a-f+A,l=e-s+A,w,c,G,j,D,M;u>=p?p>=l?(w=1,c=0,G=0,j=1,D=1,M=0):u>=l?(w=1,c=0,G=0,j=1,D=0,M=1):(w=0,c=0,G=1,j=1,D=0,M=1):p<l?(w=0,c=0,G=1,j=0,D=1,M=1):u<l?(w=0,c=1,G=0,j=0,D=1,M=1):(w=0,c=1,G=0,j=1,D=1,M=0);var S=u-w+b,q=p-c+b,Z=l-G+b,B=u-j+2*b,E=p-D+2*b,I=l-M+2*b,J=u-1+3*b,K=p-1+3*b,L=l-1+3*b;d&=255,f&=255,s&=255;var U=v[d+t[f+t[s]]],V=v[d+w+t[f+c+t[s+G]]],_=v[d+j+t[f+D+t[s+M]]],$=v[d+1+t[f+1+t[s+1]]],H=.6-u*u-p*p-l*l;H<0?o=0:(H*=H,o=H*H*U.dot3(u,p,l));var N=.6-S*S-q*q-Z*Z;N<0?n=0:(N*=N,n=N*N*V.dot3(S,q,Z));var P=.6-B*B-E*E-I*I;P<0?i=0:(P*=P,i=P*P*_.dot3(B,E,I));var R=.6-J*J-K*K-L*L;return R<0?g=0:(R*=R,g=R*R*$.dot3(J,K,L)),32*(o+n+i+g)};function C(r){return r*r*r*(r*(r*6-15)+10)}function k(r,a,e){return(1-e)*r+e*a}return F.perlin2=function(r,a){var e=Math.floor(r),o=Math.floor(a);r=r-e,a=a-o,e=e&255,o=o&255;var n=v[e+t[o]].dot2(r,a),i=v[e+t[o+1]].dot2(r,a-1),g=v[e+1+t[o]].dot2(r-1,a),m=v[e+1+t[o+1]].dot2(r-1,a-1),d=C(r);return k(k(n,g,d),k(i,m,d),C(a))},F.perlin3=function(r,a,e){var o=Math.floor(r),n=Math.floor(a),i=Math.floor(e);r=r-o,a=a-n,e=e-i,o=o&255,n=n&255,i=i&255;var g=v[o+t[n+t[i]]].dot3(r,a,e),m=v[o+t[n+t[i+1]]].dot3(r,a,e-1),d=v[o+t[n+1+t[i]]].dot3(r,a-1,e),f=v[o+t[n+1+t[i+1]]].dot3(r,a-1,e-1),s=v[o+1+t[n+t[i]]].dot3(r-1,a,e),A=v[o+1+t[n+t[i+1]]].dot3(r-1,a,e-1),u=v[o+1+t[n+1+t[i]]].dot3(r-1,a-1,e),p=v[o+1+t[n+1+t[i+1]]].dot3(r-1,a-1,e-1),l=C(r),w=C(a),c=C(e);return k(k(k(g,s,l),k(m,A,l),c),k(k(d,u,l),k(f,p,l),c),w)},F}
