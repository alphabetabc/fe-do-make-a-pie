var now=new Date,forecastPoint=now.getHours();console.log("forecastPoint:",forecastPoint);var dimensions=Array.apply(null,{length:forecastPoint+4}).map((o,e)=>({dimension:e,forecast:e>forecastPoint}));function generateData(){return Array.apply(null,{length:forecastPoint+4}).map((o,e)=>Math.round(Math.random()*80+20))}var data1=generateData(),data2=generateData();console.log(data),option={backgroundColor:"#262A35",grid:[{left:"3%",width:forecastPoint/(forecastPoint+4)*100-3+"%"},{left:forecastPoint/(forecastPoint+4)*100+"%",right:"3%"}],xAxis:[{gridIndex:0,boundaryGap:!1,data:dimensions.slice(0,forecastPoint+1).map(o=>o.dimension),axisLabel:{color:"#51637D",formatter:o=>+o===forecastPoint?"":o},axisLine:{lineStyle:{color:"#51637D"}},axisTick:{lineStyle:{color:"#51637D"}}},{gridIndex:1,boundaryGap:!1,data:dimensions.slice(forecastPoint).map(o=>o.dimension),axisLabel:{color:"#51637D"},axisLine:{lineStyle:{color:"#51637D"}},axisTick:{lineStyle:{color:"#51637D"}}}],yAxis:[{show:!1,type:"value",gridIndex:0,min:0,max:100},{show:!1,type:"value",gridIndex:1,min:0,max:100}],series:[{type:"line",xAxisIndex:0,yAxisIndex:0,symbolSize:0,smooth:!0,smoothMonotone:"x",itemStyle:{normal:{color:"#F6C93F"}},lineStyle:{normal:{shadowBlur:8,shadowColor:"#F6C93FA0"}},data:data1.slice(0,forecastPoint+1),markLine:{silent:!0,symbolSize:0,lineStyle:{normal:{color:"#C0CCDA",type:"solid",shadowBlur:4,shadowColor:"rgba(255,255,255,0.8)"}},label:{normal:{show:!1}},data:[{xAxis:forecastPoint}]},markPoint:{silent:!0,data:[{coord:[forecastPoint,data1[forecastPoint]],symbol:"circle",symbolSize:20,itemStyle:{normal:{color:new echarts.graphic.RadialGradient(.5,.5,1,[{offset:0,color:"#fff"},{offset:.2,color:"#fff"},{offset:.2,color:"#F6C93Fff"},{offset:.7,color:"#F6C93F33"},{offset:1,color:"#F6C93Fff"}])}},label:{normal:{show:!1}}}]},animationDuration:2e3},{type:"line",xAxisIndex:1,yAxisIndex:1,symbolSize:0,smooth:!0,smoothMonotone:"x",lineStyle:{normal:{type:"dotted",shadowBlur:8,shadowColor:"#F6C93FA0"}},itemStyle:{normal:{color:"#F6C93F"}},data:data1.slice(forecastPoint),animationDelay:2e3},{type:"line",xAxisIndex:0,yAxisIndex:0,symbolSize:0,smooth:!0,smoothMonotone:"x",itemStyle:{normal:{color:"#F63F72"}},lineStyle:{normal:{shadowBlur:8,shadowColor:"#F63F72A0"}},data:data2.slice(0,forecastPoint+1),markPoint:{silent:!0,data:[{coord:[forecastPoint,data2[forecastPoint]],symbol:"circle",symbolSize:20,itemStyle:{normal:{color:new echarts.graphic.RadialGradient(.5,.5,1,[{offset:0,color:"#fff"},{offset:.2,color:"#fff"},{offset:.2,color:"#F63F72FF"},{offset:.6,color:"#F63F7233"},{offset:1,color:"#F63F72FF"}])}},label:{normal:{show:!1}}}]},animationDuration:2e3},{type:"line",xAxisIndex:1,yAxisIndex:1,symbolSize:0,smooth:!0,smoothMonotone:"x",lineStyle:{normal:{type:"dotted",shadowBlur:8,shadowColor:"#F63F72A0"}},itemStyle:{normal:{color:"#F63F72"}},data:data2.slice(forecastPoint),animationDelay:2e3}]};
