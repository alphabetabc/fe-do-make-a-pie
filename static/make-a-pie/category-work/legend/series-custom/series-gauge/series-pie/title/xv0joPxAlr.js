let angle=0,value=55.33,color=["#01A75B","#F29B14","#007EFC","#9F17FF","#FFE400","#F76F01","#01A4F7","#FE2C8A"],list=[{name:"在建",icon:"circle",value:10},{name:"未开始",icon:"circle",value:15},{name:"已完成",icon:"circle",value:18}];option={legend:{type:"plain",right:0,bottom:"10%",x:"center",data:list,itemWidth:16,itemHeight:16,itemGap:30,icon:"roundRect",textStyle:{color:"#333",padding:[10,1,10,0]},selectedMode:!1},series:[{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.6,startAngle:(0+angle)*Math.PI/180,endAngle:(90+angle)*Math.PI/180},style:{stroke:"#0CD3DB",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.6,startAngle:(180+angle)*Math.PI/180,endAngle:(270+angle)*Math.PI/180},style:{stroke:"#0CD3DB",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.65,startAngle:(270+-angle)*Math.PI/180,endAngle:(40+-angle)*Math.PI/180},style:{stroke:"#0CD3DB",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){return{type:"arc",shape:{cx:t.getWidth()/2,cy:t.getHeight()/2,r:Math.min(t.getWidth(),t.getHeight())/2*.65,startAngle:(90+-angle)*Math.PI/180,endAngle:(220+-angle)*Math.PI/180},style:{stroke:"#0CD3DB",fill:"transparent",lineWidth:1.5},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let n=t.getWidth()/2,a=t.getHeight()/2,l=Math.min(t.getWidth(),t.getHeight())/2*.65,r=getCirlPoint(n,a,l,90+-angle);return{type:"circle",shape:{cx:r.x,cy:r.y,r:4},style:{stroke:"#0CD3DB",fill:"#0CD3DB"},silent:!0}},data:[0]},{name:"ring5",type:"custom",coordinateSystem:"none",renderItem:function(e,t){let n=t.getWidth()/2,a=t.getHeight()/2,l=Math.min(t.getWidth(),t.getHeight())/2*.65,r=getCirlPoint(n,a,l,270+-angle);return{type:"circle",shape:{cx:r.x,cy:r.y,r:4},style:{stroke:"#0CD3DB",fill:"#0CD3DB"},silent:!0}},data:[0]},{name:"吃猪肉频率",type:"pie",radius:["58%","35%"],silent:!0,clockwise:!0,startAngle:180,z:0,zlevel:0,color,itemStyle:{normal:{borderColor:"rgba(255,255,255)",borderWidth:"15"}},label:{normal:{position:"inside",formatter:function(e){return e.percent+"%"}}},data:list},{type:"pie",zlevel:3,silent:!0,radius:["30%","31%"],label:{normal:{show:!1}},labelLine:{normal:{show:!1}},data:dotArr()}]};function dotArr(){let e=[];for(var t=0;t<80;t++)t%2===0?e.push({name:(t+1).toString(),value:1,itemStyle:{normal:{color:"#0CD3DB",borderWidth:1,borderColor:"#0CD3DB"}}}):e.push({name:(t+1).toString(),value:2,itemStyle:{normal:{color:"rgba(0,0,0,0)",borderWidth:0,borderColor:"rgba(0,0,0,0)"}}});return e}function getCirlPoint(e,t,n,a){let l=e+n*Math.cos(a*Math.PI/180),r=t+n*Math.sin(a*Math.PI/180);return{x:l,y:r}}function draw(){angle=angle+3,myChart.setOption(option,!0)}setInterval(function(){draw()},100);
