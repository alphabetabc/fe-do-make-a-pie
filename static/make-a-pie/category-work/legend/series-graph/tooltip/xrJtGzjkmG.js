var obj={data:{linksList:[{source:"2018",target:"报表名称2"}],nodesList:[{category:"1",name:"报表名称2",value:"10"},{category:"0",name:"2018",value:"10"},{category:"1",name:"报表四",value:"10"},{category:"1",name:"报表名称1",value:"10"}]},resultCode:0};console.log(obj);var categories=[],nodes=[],links=[];obj.data.nodesList.forEach(e=>{nodes.push({category:e.category,name:e.name,value:e.value}),categories.indexOf(e.category)==-1&&categories.push(e.category)}),obj.data.linksList.forEach(e=>{links.push({source:e.source,target:e.target})}),categories=categories.map(e=>({name:e})),console.log(categories,nodes,links),option={title:{text:"Les Miserables",subtext:"Default layout",top:"bottom",left:"right"},tooltip:{},legend:[{data:categories.map(function(e){return e.name})}],animation:!1,series:[{name:"Les Miserables",type:"graph",layout:"force",data:nodes,links,categories,roam:!0,label:{normal:{position:"right"}},force:{repulsion:100}}]};
