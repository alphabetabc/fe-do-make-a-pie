let linksSetTmp=[{name:"广州生物医药与健康研究院-广州生物医药与健康研究院",num:27},{name:"北京基因组研究所-北京基因组研究所",num:8},{name:"中国科学技术大学-中国科学技术大学",num:20},{name:"中国科学技术大学-广州生物医药与健康研究院",num:4},{name:"动物研究所-动物研究所",num:48},{name:"生物化学与细胞生物学研究所-生物化学与细胞生物学研究所",num:5},{name:"上海营养与健康研究院-上海营养与健康研究院",num:1},{name:"动物研究所-北京基因组研究所",num:2},{name:"中国科学技术大学-动物研究所",num:5},{name:"广州生物医药与健康研究院-动物研究所",num:5},{name:"苏州生物医学工程技术研究所-苏州生物医学工程技术研究所",num:3},{name:"广州生物医药与健康研究院-北京基因组研究所",num:6},{name:"中国科学技术大学-北京基因组研究所",num:4},{name:"中国科学技术大学-上海营养与健康研究院",num:1},{name:"广州生物医药与健康研究院-生物化学与细胞生物学研究所",num:7},{name:"动物研究所-生物化学与细胞生物学研究所",num:1},{name:"广州生物医药与健康研究院-苏州生物医学工程技术研究所",num:1}];function getIdxByName(n,e){for(let m=0;m<n.length;m++)if(n[m].id==e)return m;return-1}let nodes=[{id:"广州生物医药与健康研究院"},{id:"北京基因组研究所"},{id:"中国科学技术大学"},{id:"动物研究所"},{id:"生物化学与细胞生物学研究所"},{id:"上海营养与健康研究院"},{id:"苏州生物医学工程技术研究所"}];nodes.map(n=>{n.symbolSize=40,n.category=n.id,n.name=n.id});let nodesTmp=JSON.parse(JSON.stringify(nodes)),linkList=[],arry=null,nodeItem={},nodeList=JSON.parse(JSON.stringify(nodes));linksSetTmp.map(n=>{if(arry=n.name.split("-"),linkList.push({source:arry[0],target:arry[1]}),n.num>1){for(let e=1;e<n.num;e++)addNodes(nodeList,{id:arry[1]+e,category:arry[1],symbolSize:10,name:""}),linkList.push({source:arry[0],target:arry[1]+e});if(arry[0]==arry[1])for(let e=1;e<n.num;e++)addNodes(nodeList,{id:arry[1]+e,category:arry[1],symbolSize:10,name:""}),linkList.push({source:arry[0],target:arry[1]+e});else for(let e=1;e<n.num;e++)addNodes(nodeList,{id:arry[1]+e,category:arry[1],symbolSize:10,name:""}),linkList.push({source:arry[0],target:arry[1]+e})}});function addNodes(n,e){n.some(function(m){return m.id==e.id})||n.push(e)}myChart.showLoading(),myChart.hideLoading(),option={legend:[{data:nodes.map(function(n){return n.id})}],series:[{type:"graph",layout:"force",data:nodeList,links:linkList,categories:nodesTmp,roam:!0,label:{position:"right"},force:{repulsion:100}}]},myChart.setOption(option);
