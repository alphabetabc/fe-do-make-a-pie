var current=["张子山"],getname=["张大海","李梅"],getrelation=["父亲","母亲"],getname2=["张三","李四","王五"],getrelation2=["舍友","舍友","舍友"],getmajor2=["19级化学类","19级化学类","19级化学类"],getname3=["李慧珍","王沥川","李晨曦","赵雪琴","张铭轩"],getmajor3=["授课教师","授课教师","授课教师","授课教师","授课教师"],getlesson3=["工业生产应用有机化学","工业生产应用有机化学","工业生产应用有机化学","工业生产应用有机化学","工业生产应用有机化学"],getpost3=["研究员","研究员","研究员","研究员","研究员"];current=current[0];var family=getname.map((e,t)=>({name:getname[t],relation:getrelation[t]})),roommate=getname2.map((e,t)=>({name:getname2[t],relation:getrelation2[t],major:getmajor2[t]})),teacher=getname3.map((e,t)=>({name:getname3[t],relation:getmajor3[t],lesson:getlesson3[t],post:getpost3[t]})),data=[{type:"家庭关系",value:family},{type:"舍友关系",value:roommate},{type:"师生关系",value:teacher}],colorList={家庭关系:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#5998FF"},{offset:1,color:"#5CC0FF"}]),舍友关系:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0FB27C"},{offset:1,color:"#4BCDA1"}]),师生关系:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#7A7AE9"},{offset:1,color:"#899BF9"}]),中心:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#FF6061"},{offset:1,color:"#FF7E7C"}])},shadowList={家庭关系:"rgba(42, 154, 241, 0.5)",舍友关系:"rgba(33, 186, 135, 0.5)",师生关系:"rgba(129, 138, 241, 0.5)"},lineList={家庭关系:"#DCEAF2",舍友关系:"#DCF2ED",师生关系:"#F1ECF4"},links=[],linkNum=1,seriesData=data.map((e,t)=>e.value.map((a,o)=>(links.push({source:0,target:linkNum++,lineStyle:{color:lineList[e.type]}}),{...a,itemStyle:{normal:{color:colorList[e.type],shadowColor:shadowList[e.type],shadowBlur:10}},category:e.type})));option={title:{text:""},tooltip:{trigger:"item",align:"left",backgroundColor:"#fff",formatter:function(e){let t="";return e.data.category==="家庭关系"?t=`<span style="font-size:16px;line-height:32px;color:#4e4e4e;font-weight:bold">${e.data.name}</span>
                            <br/>
                            <span style="font-size:14px;line-height:32px;color:#4e4e4e">关系：${e.data.relation}</span>
                    `:e.data.category==="舍友关系"?t=`<span style="font-size:16px;line-height:32px;color:#4e4e4e;font-weight:bold">${e.data.name}</span>
                            <br/>
                            <span style="font-size:14px;line-height:32px;color:#4e4e4e">关系：${e.data.relation}</span>
                            <br/>
                            <span style="font-size:14px;line-height:32px;color:#4e4e4e">年级专业：${e.data.major}</span>
                    `:e.data.category==="师生关系"&&(t=`
                            <span style="font-size:16px;line-height:32px;color:#4e4e4e;font-weight:bold">${e.data.name}</span>
                            <br/>
                            <span style="font-size:14px;line-height:32px;color:#4e4e4e">关系：${e.data.relation}</span>
                            <br/>
                            <span style="font-size:14px;line-height:32px;color:#4e4e4e">专业技术职务：${e.data.post}</span>
                            <br/>
                            <span style="font-size:14px;line-height:20px;color:#4e4e4e;">授课课程：${e.data.lesson}</span>
                    `),t},extraCssText:"white-space:normal;padding:5px 15px;width:200px;word-break:break-all;box-shadow: 1px 6px 15px 0px rgba(0, 0, 0, 0.13)"},label:{normal:{show:!0,textStyle:{fontSize:12}}},legend:{x:"center",show:!0,data:["家庭关系","舍友关系","师生关系"]},series:[{type:"graph",layout:"force",symbolSize:80,center:["50%","50%"],draggable:!0,focusNodeAdjacency:!0,roam:!1,itemStyle:{normal:{color:colorList.中心,shadowColor:"rgba(255, 100, 100, 0.5)",shadowBlur:10},emphasis:{}},categories:[{name:"家庭关系",itemStyle:{normal:{color:colorList.家庭关系}}},{name:"舍友关系",itemStyle:{normal:{color:colorList.舍友关系}}},{name:"师生关系",itemStyle:{normal:{color:colorList.师生关系}}}],label:{normal:{color:"#ffffff",show:!0,textStyle:{fontSize:12}}},force:{repulsion:1e3,gravity:.1,edgeLength:[100,200]},edgeSymbolSize:[4,50],lineStyle:{normal:{width:5,curveness:.1,color:"#B5D7C9"}},data:[{name:current},...seriesData.flat(2)],links}]};
