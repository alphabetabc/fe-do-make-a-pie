var i=0,m=0;option={title:{text:"",textStyle:{color:"white"}},tooltip:{},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",label:{normal:{show:!0,textStyle:{fontSize:18}}},legend:{x:"center",data:["车辆图片","车牌","操作"]},series:[{type:"graph",layout:"force",symbolSize:60,focusNodeAdjacency:!0,roam:!0,categories:[{name:""},{name:""},{name:""}],label:{normal:{show:!0,textStyle:{fontSize:18}}},force:{repulsion:2e3},edgeLabel:{normal:{show:!0,textStyle:{fontSize:18},formatter:"{c}"}},data:[{id:"0"+i,name:"屋里躺糖",category:0,symbol:"image://https://s1.ax1x.com/2018/03/10/9RqK0J.jpg"},{id:"1"+i,name:"曹栋",draggable:!0,category:1},{id:"2"+i,name:"分裂",draggable:!0,category:2}],links:[{source:"0"+i,target:"2"+i,symbol:["none","arrow"],value:"",lineStyle:{normal:{color:"red",type:"dotted"}}},{source:"0"+i,target:"1"+i,value:"想念"},{source:"1"+i,target:"3"+i,symbol:["none","arrow"],value:"",lineStyle:{normal:{color:"red",type:"dotted"}}},{source:"1"+i,target:"4"+i,symbol:["none","arrow"],value:"",lineStyle:{normal:{color:"red",type:"dotted"}}}],lineStyle:{symbolSize:[5,2e5],symbol:["none","arrow"],normal:{opacity:.7,width:1,curveness:.1}}}]};var data=option.series[0].data,links=option.series[0].links;myChart.on("click",function(e){i++,e.name=="分裂"&&(data.push({id:"0"+i,name:"屋里躺糖"+i,category:0,symbol:"image://https://s1.ax1x.com/2018/03/10/9RqK0J.jpg"},{id:"1"+i,name:"曹栋",draggable:!0,category:1},{id:"2"+i,name:"分裂",draggable:!0,category:2}),links.push({source:"0"+i,target:"2"+i,symbol:["none","arrow"],value:"",lineStyle:{normal:{color:"red",type:"dotted"}}},{source:"0"+i,target:"1"+i,value:"想念"},{source:"1"+i,target:"3"+i,symbol:["none","arrow"],value:"",lineStyle:{normal:{color:"red",type:"dotted"}}},{source:"1"+i,target:"4"+i,symbol:["none","arrow"],value:"",lineStyle:{normal:{color:"red",type:"dotted"}}},{source:"0"+i,target:"2"+(e.dataIndex-2)/5,symbol:["none","arrow"],value:"",lineStyle:{normal:{color:"red",type:"dotted"}}}),myChart.setOption(option))});
