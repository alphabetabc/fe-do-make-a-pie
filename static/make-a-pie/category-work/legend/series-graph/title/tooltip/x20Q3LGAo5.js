var links=[["陈卫东","赵英杰","朋友"],["赵英杰","郑志勇","同学"],["赵英杰","徐建云","同学"]],nodes=[{姓名:"陈卫东",身份证号:"2220",住址:"xxxxx",类别:"二类节点"},{姓名:"赵英杰",身份证号:"2220",住址:"xxxxx",类别:"三类节点"},{姓名:"郑志勇",身份证号:"2220",住址:"xxxxx",类别:"一类节点"},{姓名:"徐建云",身份证号:"2220",住址:"xxxxx",类别:"一类节点"}],infos={};for(var node of nodes)node.姓名in infos&&window.alert("人名重复，请修改: "+node.姓名),infos[node.姓名]=Object.assign({},node);for(var link of links)link[0]in infos&&link[1]in infos||window.alert("人员未出现导致边非法:"+link);var legend=new Set;for(var node of nodes)legend.add(node.类别);legend=Array.from(legend),legend.sort(),echar_data=[];for(var node of nodes)echar_data.push({name:node.姓名,category:legend.findIndex(e=>e==node.类别),draggable:!0});echar_links=[];for(var link of links)echar_links.push({source:link[0],target:link[1],value:link[2]});option={title:{text:"人员关系信息"},tooltip:{trigger:"item",formatter:function(t){if(t.dataType=="edge"){var e='<p style="font-size:14px">'+t.name+"</p>";return e=e+'<p style="font-size:14px">'+t.value+"</p>",e}if(t.name in infos){var e='<p style="font-size:14px">'+t.name+"</p>";for(var o in infos[t.name])e=e+'<p style = "font-size:12px" >'+o+":"+infos[t.name][o]+"</p>";return e}},backgroundColor:"#ff7f50",textStyle:{color:"#fff"}},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",label:{normal:{show:!0,textStyle:{fontSize:12}}},legend:{x:"center",show:!0,data:legend},series:[{type:"graph",layout:"force",symbolSize:45,focusNodeAdjacency:!0,roam:!0,categories:[{name:legend[0],itemStyle:{normal:{color:"#009800"}}},{name:legend[1],itemStyle:{normal:{color:"#4592FF"}}},{name:legend[2],itemStyle:{normal:{color:"#3592F"}}},{name:legend[3],itemStyle:{normal:{color:"#3592F"}}},{name:legend[4],itemStyle:{normal:{color:"#3592F"}}}],label:{normal:{show:!0,textStyle:{fontSize:12}}},force:{repulsion:1e3},edgeSymbolSize:[4,50],edgeLabel:{normal:{show:!0,textStyle:{fontSize:10},formatter:"{c}"}},data:echar_data,links:echar_links,lineStyle:{normal:{opacity:.9,width:1,curveness:0}}}]};
