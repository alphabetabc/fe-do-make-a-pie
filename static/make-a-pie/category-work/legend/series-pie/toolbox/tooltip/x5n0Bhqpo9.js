for(var getnhname=["教师","学生"],getnhvalue=[4,95],getflname=["其他","用餐支出","用水支出","用电支出"],getflvalue=[10,40,35,15],data1=[],i=0;i<getflname.length;i++)data1.push({name:getflname[i],value:getflvalue[i]});for(var data2=[],i=0;i<getnhname.length;i++)data2.push({name:getnhname[i],value:getnhvalue[i]});for(var color=[{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#FDC48D"},{offset:1,color:"#EAC093"}]},{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#4A92FF"},{offset:1,color:"#75D0FF"}]},{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#7464F2"},{offset:1,color:"#7488FF"}]},{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#54C7C0"},{offset:1,color:"#93FFF3"}]}],innerColor=["#F1C191","#AFD4FF"],dataConsump=[],dataType=[],i=0;i<data1.length;i++)dataConsump.push({value:data1[i].value,name:data1[i].name});for(let e=0;e<data2.length;e++)dataType.push({name:data2[e].name,value:data2[e].value,itemStyle:{shadowBlur:7,borderWidth:2,color:"#010818",borderColor:innerColor[e],shadowColor:innerColor[e]}});var seriesOption=[{name:"分类",type:"pie",radius:["0%","50%"],center:["50%","50%"],label:{position:"inner",color:"#C1F6FF",formatter:function(e){return e.percent+`%

`+e.name}},hoverOffset:0,selectedMode:!0,selectedOffset:10,itemStyle:{borderColor:"black",borderWidth:2},data:dataType},{name:"",type:"pie",radius:["60%","70%"],center:["50%","50%"],color:"transparent",hoverAnimation:!1,itemStyle:{normal:{color:"transparent",label:{show:!0,position:"outside",color:"#66799D",padding:[-2,-4,0,-4],fontSize:13,formatter:function(e){for(var o=0,a=0,r=0;r<data1.length;r++)a+=data1[r].value;return o=(e.value/a*100).toFixed(0),e.name!==""?"{percent|"+o+`%}
{hr|}
{name|`+e.name+"}":""},rich:{name:{color:"#656565",fontSize:14,padding:[6,5,6,0],align:"left"},hr:{borderColor:"rgba(102, 121, 157, 1)",width:"100%",borderWidth:.5,height:0},percent:{color:"rgba(193, 246, 255, 1)",fontSize:14,padding:[6,5,6,0],align:"center"}}},labelLine:{length:40,length2:0,show:!0,lineStyle:{color:"rgba(102, 121, 157, 1)"}}}},data:dataConsump}],num=0;const seriesOption2=data1.map((e,o)=>(num+=e.value,{type:"bar",data:[,,,num],coordinateSystem:"polar",z:9999-o,name:"抢修项目",roundCap:!0,color:color[o],barGap:"-100%",itemStyle:{normal:{shadowBlur:5,shadowColor:color[o]}}}));option={backgroundColor:"#010818",color,tooltip:{show:!1},legend:{show:!1,icon:"circle",orient:"horizontal",data:["其他","用餐支出","用水支出","用电支出"],right:340,bottom:150,align:"right",textStyle:{color:"#C1F6FF"},itemGap:20},angleAxis:{axisLine:{show:!1},axisLabel:{show:!1},splitLine:{show:!1},axisTick:{show:!1},min:0,max:100,boundaryGap:["0","100"],startAngle:90},polar:{radius:"80%"},radiusAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},data:["a","b","c","d"],z:10},polar:{radius:"70%"},toolbox:{show:!1},series:[...seriesOption,...seriesOption2]};
