var oldData=[{CURRENCY_TYPE:"100元原封新券",AMOUNT:23.35},{CURRENCY_TYPE:"100元回笼券",AMOUNT:53.35},{CURRENCY_TYPE:"100元专用钞",AMOUNT:163.35},{CURRENCY_TYPE:"其他券别",AMOUNT:143.35}];let typeArr=[],dataset=[];oldData.forEach(e=>{typeArr.indexOf(e.CURRENCY_TYPE)<0&&typeArr.push(e.CURRENCY_TYPE)}),dataset=typeArr.map(e=>({name:e,value:""}));for(var i=0;i<dataset.length;i++)for(var j=0;j<oldData.length;j++)dataset[i].name==oldData[j].CURRENCY_TYPE&&(dataset[i].value=oldData[j].AMOUNT);option={title:{text:"代理库今日期初余额券别统计",subtext:"单位：万元",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{orient:"vertical",top:"middle",left:"right",data:typeArr,textStyle:{color:"#000",fontSize:20}},series:[{type:"pie",radius:"45%",center:["50%","50%"],selectedMode:"single",data:dataset,label:{position:"inside",formatter:function(e){return e.value}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};
