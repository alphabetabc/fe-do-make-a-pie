var title="总成绩",colorList=["#7ed4ac","#fe9c3a","#ebd571","#eb7c6f","#0bb4d7","#8fcde5","#00c973"],seriesData=[{name:"单项实训",total:"80",value:"52",excellent:"95",good:"82",medium:"74",pass:"62",failed:"40",low:"20",overtake:"30"},{name:"模拟测试",total:"84",value:"40",excellent:"98",good:"85",medium:"73",pass:"68",failed:"41",low:"25",overtake:"32"},{name:"综合实训",total:"90",value:"53",excellent:"86",good:"81",medium:"74",pass:"67",failed:"49",low:"2",overtake:"31"},{name:"案例中心",total:"85",value:"40",excellent:"60",good:"56",medium:"40",pass:"52",failed:"30",low:"25",overtake:"38"},{name:"VR场景",total:"70",value:"50",excellent:"50",good:"70",medium:"60",pass:"50",failed:"40",low:"20",overtake:"30"},{name:"课堂表现",total:"81",value:"40",excellent:"81",good:"78",medium:"68",pass:"60",failed:"44",low:"25",overtake:"37"},{name:"课外作业",total:"80",value:"70",excellent:"90",good:"84",medium:"72",pass:"63",failed:"45",low:"26",overtake:"34"}],formatNumber=function(e){var o=/(?=(\B)(\d{3})+$)/g;return e.toString().replace(o,",")};option={backgroundColor:"#000c31",color:colorList,title:[{textStyle:{}},{top:"center",right:"center"}],tooltip:{trigger:"item",borderColor:"rgba(255,255,255,.3)",backgroundColor:"rgba(13,5,30,.6)",borderWidth:1,padding:5,textStyle:{fontSize:14,color:"#fff"},formatter:function(e){var o=e.marker+""+e.data.name+"</br>优秀(90-100)："+e.data.excellent+"%</br>良好(80-90)："+e.data.good+"%</br>中等(70-80)："+e.data.medium+"%</br>及格(60-70)："+e.data.pass+"%</br>不及格(0-60)："+e.data.failed+"%</br>低分率(0-30)："+e.data.low+"%</br>超均率(平均分)："+e.data.overtake+"分";return o}},legend:{type:"scroll",orient:"horizontal",icon:"square",top:"80%",left:"center",align:"auto",textStyle:{color:"#fff"},data:seriesData},series:[{type:"pie",radius:["25%","45%"],center:["50%","50%"],data:seriesData,hoverAnimation:!0,itemStyle:{normal:{borderColor:colorList,borderWidth:0}},labelLine:{normal:{lineStyle:{color:"#e6e6e6"}}},label:{normal:{formatter:"{icon|●}{name|{b}}",rich:{icon:{fontSize:20},name:{fontSize:14,padding:[0,10,0,4]}}}}}]},myChart.on("highlight",function(e){var o=seriesData[e.dataIndex].name,n=seriesData[e.dataIndex].value;option.title[1].text="{name|"+title+`}
{val|`+n+"%}",option.title[1].textStyle={rich:{name:{fontSize:17,align:"center",fontWeight:"normal",padding:[10,0],color:colorList[e.dataIndex]},val:{fontSize:26,align:"center",fontWeight:"bold",color:colorList[e.dataIndex]}}},myChart.setOption(option)}),autoHover(myChart,option,seriesData.length,3e3);function autoHover(e,o,n,l){var i={time:2e3,num:100};l||(l=i.time),n||(n=i.num);var t=0,a=null;a&&clearInterval(a),a=setInterval(function(){e.dispatchAction({type:"downplay",seriesIndex:0}),e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t}),t++,t>=n&&(t=0)},l),e.on("mouseover",function(d){clearInterval(a),e.dispatchAction({type:"downplay",seriesIndex:0}),e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:d.dataIndex}),e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:d.dataIndex})}),e.on("mouseout",function(){a&&clearInterval(a),a=setInterval(function(){e.dispatchAction({type:"downplay",seriesIndex:0}),e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t}),t++,t>=i.num&&(t=0)},i.time)})}
