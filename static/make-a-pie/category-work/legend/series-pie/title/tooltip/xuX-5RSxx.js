let bgColor="#151618",fontColor="#fff",scale=1,title="总数",echartData=[{name:"A类",value:"372",unit:"元",selected:!0},{name:"B类",value:"292",unit:"元"},{name:"C类",value:"220",unit:"元"},{name:"D类",value:"142",unit:"元"}],formatNumber=function(t){let e=/(?=(\B)(\d{3})+$)/g;return t.toString().replace(e,",")},total=echartData.reduce((t,e)=>t+e.value*1,0);echartData.forEach(t=>{t.selected?t.itemStyle={normal:{borderColor:"#FFF",borderWidth:0}}:t.itemStyle={normal:{borderColor:"#FFF",borderWidth:3}}}),option={backgroundColor:bgColor,color:["#0E7CE2","#FF8352","#E271DE","#F8456B","#00FFFF","#4AEAB0"],tooltip:{trigger:"item"},title:[{text:"{name|"+title+`}
{val|`+total+"}",top:"center",left:"center",textStyle:{rich:{name:{fontSize:16*scale,fontWeight:"normal",color:fontColor,padding:[10,0]},val:{fontSize:32*scale,fontWeight:"normal",color:fontColor}}}},{text:"收入情况汇总",top:"30",left:"center",textStyle:{fontSize:28*scale,color:fontColor,fontWeight:400}}],legend:{orient:"vertical",icon:"rect",x:"30",y:"center",itemWidth:12*scale,itemHeight:12*scale,itemGap:0,align:"left",textStyle:{color:fontColor,fontSize:12*scale,rich:{name:{width:35},hr:{width:1,height:24,backgroundColor:fontColor},value:{padding:[0,0,0,15]}}},formatter:function(t){let e=echartData.filter(o=>o.name===t);e=e[0]||{};let r=e.unit||"",l=(e.value*100/total).toFixed(1)+"%";return"{name| "+t+"}{hr|}  {per|"+l+"}{value|"+e.value+r+"}"}},series:[{type:"pie",radius:["30%","50%"],center:["50%","50%"],selectedMode:"single",data:echartData,labelLine:{normal:{length:20,length2:20}},label:{normal:{show:!1}}}]},myChart.on("click",function(t){echartData.forEach((e,r)=>{t.dataIndex===r?(e.selected=!0,e.itemStyle={normal:{borderColor:"#FFF",borderWidth:0}}):(e.selected=!1,e.itemStyle={normal:{borderColor:"#FFF",borderWidth:3}})}),option.series.data=echartData,myChart.setOption(option)});
