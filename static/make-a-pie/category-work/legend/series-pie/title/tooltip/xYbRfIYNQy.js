data=[{name:"数据筛查",value:100},{name:"确定对象",value:75},{name:"实施检查",value:50},{name:"行政处2理",value:25},{name:"数据筛查2",value:100},{name:"确定对象2",value:75},{name:"实施检查2",value:50},{name:"行政处理2",value:25},{name:"行政处理22",value:25}],arrName=getArrayValue(data,"name"),arrValue=getArrayValue(data,"value"),sumValue=eval(arrValue.join("+")),objData=array2obj(data,"name"),optionData=getData(data);function getArrayValue(a,e){var e=e||"value",t=[];return a&&a.forEach(function(r){t.push(r[e])}),t}function array2obj(a,l){for(var e={},t=0;t<a.length;t++)e[a[t][l]]=a[t];return e}function getData(a){var l={series:[],yAxis:[]};for(let e=0;e<a.length;e++)l.series.push({name:"",type:"pie",clockWise:!1,hoverAnimation:!1,radius:[70-e*5+"%",68-e*5+"%"],center:["30%","55%"],label:{show:!1},itemStyle:{label:{show:!1},labelLine:{show:!1},borderWidth:5},data:[{value:a[e].value*.75,name:a[e].name},{value:100-a[e].value*.75,name:"",itemStyle:{color:"rgba(0,0,0,0)",borderWidth:0},tooltip:{show:!1},hoverAnimation:!1}]}),l.series.push({name:"",type:"pie",silent:!0,z:1,clockWise:!1,hoverAnimation:!1,radius:[70-e*5+"%",68-e*5+"%"],center:["30%","55%"],label:{show:!1},itemStyle:{label:{show:!1},labelLine:{show:!1},borderWidth:2},data:[{value:7.5,itemStyle:{color:"rgb(3, 31, 62)",borderWidth:0},tooltip:{show:!1},hoverAnimation:!1},{value:2.5,name:"",itemStyle:{color:"rgba(0,0,0,0)",borderWidth:0},tooltip:{show:!1},hoverAnimation:!1}]}),l.yAxis.push((a[e].value/sumValue*100).toFixed(2)+"%");return l}option={backgroundColor:"#000",title:{text:"医疗机构监管"},legend:{show:!0,icon:"circle",top:"center",top:"20%",bottom:"53%",left:"30%",data:arrName,width:40,padding:[0,16],itemGap:25,formatter:function(a){return"{title|"+a+"} {value|"+objData[a].value+"}  {title|%}"},textStyle:{rich:{title:{fontSize:20,lineHeight:30,color:"rgb(0, 178, 246)"},value:{fontSize:18,lineHeight:20,color:"#fff"}}}},tooltip:{show:!0,trigger:"item",formatter:"{a}<br>{b}:{c}({d}%)"},color:["rgb(9,187,247)","rgb(184,254,165)","rgb(253,218,23)","rgb(252,152,12)"],xAxis:[{show:!1}],series:optionData.series};
