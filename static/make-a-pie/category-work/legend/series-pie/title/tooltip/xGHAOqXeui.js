function getByteLength(e){let o=0;if(typeof e=="string"){const t=e.length;for(let l=0;l<t;l++){const a=e.charCodeAt(l);let n;a>=1&&a<=126||a>=65376&&a<=65439?n=1:n=2,o+=n}}return o}function cutString(e,o=20){if(typeof e=="string"&&typeof o=="number"){const t=e.length;let l=t,a=0;for(let n=0;n<t;n++){const r=e.charCodeAt(n);let i;if(r>=1&&r<=126||r>=65376&&r<=65439?i=1:i=2,a+i<o)a+=i;else{l=n;break}}return l}return-1}function splitStr(e,o=20){let t=e;const l=[];for(let a=0;getByteLength(t)>0;a++){const n=cutString(t,o);l.push(t.substr(0,n+1)),t=t.substr(n+1)}return l}function omitStr(e,o=20){const t=cutString(e,o);return t<e.length-1?`${e.substr(0,t+1)}...`:e}const data=[{name:"默认渠道",value:118},{name:"网页渠道",value:16},{name:"test hello world",value:6},{name:"零一二三四五六七八九零一二三四五六七八九",value:2},{name:"未知渠道",value:10},{name:"1",value:1},{name:"2",value:1},{name:"3",value:1},{name:"4",value:1},{name:"5",value:1},{name:"6",value:1},{name:"7",value:1},{name:"8",value:1},{name:"9",value:1},{name:"10",value:1}];option={backgroundColor:"#FFF",color:["#1791FF","#7870FF","#41CBAB","#FFC653","#FF6519","#EE3939","#407AFB","#4391FF","#38A5FD","#36B0FE","#60AABD","#6BB092","#CBC718","#F57C00","#FF1A19"],tooltip:{trigger:"item",show:!1},legend:{type:"scroll",icon:"circle",itemGap:24,itemWidth:8,pageIconColor:"#595959",orient:"vertical",top:"4.6%",left:"70%",bottom:"4.6%",data:["默认渠道","网页渠道","test hello world","零一二三四五六七八九零一二三四五六七八九","未知渠道","1","2","3","4","5","6","7","8","9","10"],formatter:function(e){return omitStr(e)},textStyle:{color:"#595959",fontSize:14}},series:[{name:"人数",type:"pie",data,itemStyle:{borderColor:"#fff",borderWidth:1},radius:["40%","50.2%"],center:["50%","50%"],splitNumber:-1,label:{position:"center",formatter(){return`{name|${data.length?"渠道分布":""}}`},backgroundColor:"#fff",rich:{name:{fontSize:12,color:"#222"}}},labelLine:{show:!1}}]};
