for(var percentage=[.58,.22,.16,.04],radius=[.6],i=1;i<percentage.length;++i)radius.push(radius[0]/Math.sqrt(percentage[0]/percentage[i]));for(var colors=["#ec5845","#f28a7d","#fbdcd8","#fff"],labels=["≥500元：4%","≥200元：16%","≥100元：22%","<100元：58%"],top=.7,series=[{type:"pie",radius:[30,"40%"],center:["50%",160],roseType:"radius",color:["#f2c955","#00a69d","#46d185","#ec5845"],data:[{value:7,name:"其他"},{value:12,name:"自己制作"},{value:38,name:"线下购买"},{value:53,name:"网上购买"}],label:{normal:{textStyle:{color:"#333",fontSize:16},formatter:function(e){return console.log(e),e.name+`:
`+e.value+"%"}}},labelLine:{normal:{lineStyle:{width:2}}},itemStyle:{normal:{shadowBlur:30,shadowColor:"rgba(0, 0, 0, 0.4)"}}}],i=0;i<percentage.length;++i)series.push({type:"pie",silent:!0,name:labels[percentage.length-i-1],radius:[0,radius[i]*100+"%"],label:{normal:{show:!1}},color:[colors[i]],center:["35%",(top+(-radius[i]+radius[0])/2)*100+"%"],data:[{value:1,itemStyle:{normal:{color:colors[i],shadowBlur:30,shadowColor:"rgba(0, 0, 0, 0.25)"}}}],animationType:"scale"});myChart.setOption({legend:{data:labels,top:"65%",left:"60%",orient:"vertical"},series});
