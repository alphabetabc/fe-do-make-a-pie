var uploadedDataURL="/asset/get/s/data-1623313392107-yFmJKvlk0.json";myChart.showLoading();var data=[];$.getJSON(uploadedDataURL,function(a){echarts.registerMap("广州",a),data=a.features.map(o=>({value:(Math.random()*1e3).toFixed(2),name:o.properties.name})),myChart.hideLoading(),option={tooltip:{backgroundColor:"rgba(0,0,0,0)",trigger:"item"},legend:{show:!1},series:[{tooltip:{trigger:"item",formatter:function(o){var n="";return n='<div style="background:#fff;border-radius:10px;padding-top:10px;box-shadow:0 0 10px #666"><div style="color:#fff;height:20px;border-radius:6px;font-size:12px;line-height:20px;background-color:#5861a2;text-align:center;margin:0 2px;">'+o.data.name+'</div><div style="text-align:center;color:#494949;padding:8px 6px"><span style="font-size:18px;font-weight:bold;">'+o.data.value+" </span></div></div>",n}},name:"广州市数据",type:"map",map:"广州",aspectScale:1,zoom:.6,showLegendSymbol:!1,label:{show:!0,color:"#fff",fontSize:10},itemStyle:{areaColor:"#0E95F1",borderColor:"#e9e9e9",borderWidth:1,shadowColor:"#0E95F1",shadowBlur:20},emphasis:{label:{show:!0,color:"#fff",fontSize:10},itemStyle:{areaColor:"#fff040",borderColor:"#fff",borderWidth:1}},layoutCenter:["50%","50%"],layoutSize:"160%",markPoint:{symbol:"none"},data}]},myChart.setOption(option);var t=["花都区","从化区","增城区","黄埔区","白云区","天河区","越秀区","荔湾区","海珠区","番禺区","南沙区"],e=0,r=setInterval(function(){e=e<t.length?e:0,showTips(t[e++])},1e3);myChart.on("mouseover",function(){clearInterval(r)}),myChart.on("mouseout",function(){clearInterval(r),r=setInterval(function(){e=e<t.length?e:0,showTips(t[e++])},1e3)})});function showTips(a){data.forEach((t,e)=>{myChart.dispatchAction({type:"mapUnSelect",seriesIndex:0,dataIndex:e}),t.name.includes(a)&&(myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:e}),myChart.dispatchAction({type:"mapSelect",seriesIndex:0,dataIndex:e}))})}
