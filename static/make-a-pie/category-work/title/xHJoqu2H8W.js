option={title:{text:"Draw Arrow Line（用鼠标画箭头）",left:"center"}},setTimeout(function(){var o=myChart.getZr(),d=echarts.graphic.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,n){var h=n.height,v=n.width,r=n.x,a=n.y,l=v/3*2;t.moveTo(r,a),t.lineTo(r+l,a+h),t.lineTo(r,a+h/4*3),t.lineTo(r-l,a+h),t.lineTo(r,a),t.closePath()}}),i,u=[],e,f,s;o.on("mousedown",function(t){i=!0,e=[t.offsetX,t.offsetY],f=new echarts.graphic.Line({shape:{x1:0,y1:0,x2:0,y2:0},style:{stroke:"red",lineWidth:1}}),s=new d({ignore:!0,shape:{x:0,y:0,width:10,height:20},style:{fill:"red",stroke:null}}),o.add(f),o.add(s)}),o.on("mouseup",function(t){i=!1,u.length=0,e=null}),o.on("mousemove",function(t){!i||(f.attr("shape",{x1:e[0],y1:e[1],x2:t.offsetX,y2:t.offsetY}),s.attr({ignore:!1,position:[t.offsetX,t.offsetY],rotation:Math.atan(-(e[1]-t.offsetY)/(e[0]-t.offsetX))+(e[0]>t.offsetX?1:-1)*Math.PI/2}))})});
