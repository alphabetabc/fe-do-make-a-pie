var uploadedDataURL="/asset/get/s/data-1640333495645-8PBGeVj3a.csv";$.ajax({type:"GET",url:uploadedDataURL,dataType:"text",success:e=>{let t=$.csv.toObjects(e).map(o=>({name:o.ShortName,value:[+o.Longitude,+o.Latitude,10]}));option={backgroundColor:"#9c3022",tooltip:{trigger:"item"},geo:{map:"china",label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{color:"transparent",borderColor:"#fff"}},zlevel:1},series:[{type:"map",map:"china",geoIndex:0,zlevel:2,label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{color:"#9c3022",borderWidth:1,borderColor:"#fff"},emphasis:{color:"#000",borderWidth:1,borderColor:"#fff"}}},{name:"point",type:"scatter",coordinateSystem:"geo",zlevel:3,data:t,symbolSize:function(o){return o[2]/4},label:{normal:{formatter:"{b}",position:"right",show:!1,textStyle:{color:"#fff",fontSize:20}},emphasis:{show:!0}},itemStyle:{normal:{color:"rgba(255, 255, 255, 0.75)",opacity:1}}}]},myChart.setOption(option)},error:e=>{reject([])}});function chartClickEvent(e){var a=e.data.name,t=myChart.getModel().getSeriesByIndex(0),o=t.coordinateSystem._nameCoordMap["_ec_"+a];option.series[0].center=o,option.series[0].zoom=5,option.geo.center=o,option.geo.zoom=5,myChart.setOption(option)}function panelClickEvent(){option.series[0].center=null,option.series[0].zoom=null,option.geo.center=null,option.geo.zoom=null,myChart.setOption(option)}myChart.on("click",chartClickEvent),myChart.on("mouseover",function(){myChart.on("click",chartClickEvent),$("#chart-panel").off("click")}),myChart.on("mouseout",function(){myChart.off("click",chartClickEvent),$("#chart-panel").on("click",panelClickEvent)});
