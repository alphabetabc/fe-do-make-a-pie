var name_title="国内STEM教育研究机构分布",subname="——版权所有 请勿复制",nameColor="black",name_fontFamily="等线",subname_fontSize=15,name_fontSize=18,mapName="china",data=[{name:"北京",value:69},{name:"天津",value:4},{name:"河北",value:11},{name:"辽宁",value:4},{name:"吉林",value:25},{name:"黑龙江",value:1},{name:"上海",value:65},{name:"江苏",value:51},{name:"浙江",value:26},{name:"安徽",value:1},{name:"福建",value:1},{name:"山东",value:7},{name:"河南",value:22},{name:"湖北",value:19},{name:"湖南",value:4},{name:"重庆",value:10},{name:"四川",value:2},{name:"云南",value:1},{name:"陕西",value:16},{name:"甘肃",value:5},{name:"宁夏",value:3},{name:"广西",value:1},{name:"广东",value:23}],geoCoordMap={},toolTipData=[{name:"北京",value:[{name:"北京师范大学",value:35},{name:"首都师范大学",value:8},{name:"北京大学",value:4},{name:"北京理工大学",value:4},{name:"清华大学",value:3},{name:"北京航空航天大学",value:3}]},{name:"天津",value:[{name:"天津师范大学",value:2},{name:"天津职业技术师范大学",value:2}]},{name:"河北",value:[{name:"河北师范大学",value:3},{name:"河北大学",value:2}]},{name:"辽宁",value:[{name:"沈阳师范大学",value:2},{name:"辽宁师范大学",value:1}]},{name:"吉林",value:[{name:"东北师范大学",value:17},{name:"吉林省互联网+教育科技创新中心",value:2}]},{name:"黑龙江",value:[{name:"黑龙江大学",value:1}]},{name:"上海",value:[{name:"华东师范大学",value:46},{name:"上海师范大学",value:7}]},{name:"江苏",value:[{name:"南京师范大学",value:21},{name:"南京晓庄学院",value:5},{name:"江苏省苏州市吴江区鲈乡实验小学",value:2}]},{name:"浙江",value:[{name:"温州大学",value:5},{name:"浙江大学",value:4},{name:"浙江师范大学",value:4}]},{name:"安徽",value:[{name:"安徽师范大学",value:1}]},{name:"福建",value:[{name:"福建师范大学",value:1}]},{name:"江西",value:[{name:"文科",value:49},{name:"理科",value:42}]},{name:"山东",value:[{name:"中国海洋大学",value:2},{name:"山东师范大学",value:1},{name:"曲阜师范大学大学",value:1}]},{name:"河南",value:[{name:"河南大学",value:16},{name:"河南省教育信息化发展研究中心",value:2}]},{name:"湖北",value:[{name:"华中师范大学",value:8},{name:"武汉大学",value:6}]},{name:"湖南",value:[{name:"长沙师范学院",value:2},{name:"湖南大学",value:1},{name:"中南大学",value:1}]},{name:"重庆",value:[{name:"西南大学",value:8},{name:"重庆渝北区天一新城小学",value:1},{name:"重庆市长寿川维中学校",value:1}]},{name:"四川",value:[{name:"四川外国语大学",value:1},{name:"四川师范大学",value:1}]},{name:"云南",value:[{name:"云南师范大学",value:1}]},{name:"陕西",value:[{name:"陕西师范大学",value:12},{name:"西安交通大学",value:2}]},{name:"甘肃",value:[{name:"西北师范大学",value:5}]},{name:"宁夏",value:[{name:"宁夏大学",value:3}]},{name:"广东",value:[{name:"华南师范大学",value:7},{name:"佛山科学技术学院",value:2}]},{name:"广西",value:[{name:"广西师范学院",value:1}]}];myChart.showLoading();var mapFeatures=echarts.getMap(mapName).geoJson.features;myChart.hideLoading(),mapFeatures.forEach(function(a){var n=a.properties.name;geoCoordMap[n]=a.properties.cp}),console.log(data),console.log(toolTipData);var max=600,min=9,maxSize4Pin=220,minSize4Pin=25,convertData=function(a){for(var n=[],e=0;e<a.length;e++){var l=geoCoordMap[a[e].name];l&&n.push({name:a[e].name,value:l.concat(a[e].value)})}return n};option={title:{text:name_title,subtext:subname,x:"center",textStyle:{color:nameColor,fontFamily:name_fontFamily,fontSize:name_fontSize},subtextStyle:{fontSize:subname_fontSize,fontFamily:name_fontFamily}},tooltip:{trigger:"item",formatter:function(a){if(typeof a.value[2]>"u"){for(var n="",e=0;e<toolTipData.length;e++)if(a.name==toolTipData[e].name){n+=toolTipData[e].name+":<br>";for(var l=0;l<toolTipData[e].value.length;l++)n+=toolTipData[e].value[l].name+":"+toolTipData[e].value[l].value+"<br>"}return console.log(n),n}else{for(var n="",e=0;e<toolTipData.length;e++)if(a.name==toolTipData[e].name){n+=toolTipData[e].name+":<br>";for(var l=0;l<toolTipData[e].value.length;l++)n+=toolTipData[e].value[l].name+":"+toolTipData[e].value[l].value+"<br>"}return console.log(n),n}}},visualMap:{show:!0,min:0,max:30,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#e6d0d0","#3ab8f2","orange"]}},geo:{show:!0,map:mapName,label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#ebf2f5",borderColor:"#3B5077"},emphasis:{areaColor:"orange"}}},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:convertData(data),symbolSize:function(a){return a[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"black"}}},{type:"map",map:mapName,geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!1,textStyle:{color:"white"}}},roam:!0,itemStyle:{normal:{areaColor:"#d1e1e8",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(a){var n=(maxSize4Pin-minSize4Pin)/(max-min),e=minSize4Pin-n*min;return e=maxSize4Pin-n*max,n*a[2]+e},label:{normal:{formatter:function(a){return console.log(a.data.value[2]),a.data.value[2]},show:!0,textStyle:{color:"white",fontSize:9}}},itemStyle:{normal:{color:"green"}},zlevel:6,data:convertData(data)}]},myChart.setOption(option);
