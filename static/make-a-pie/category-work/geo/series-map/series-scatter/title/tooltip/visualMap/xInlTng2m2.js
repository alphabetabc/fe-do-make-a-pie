var name_title="全国疫情每日累计确诊数据",subname="截止至2020-04-07",nameColor=" rgb(0, 0, 0)",name_fontFamily="汉仪简菱心",subname_fontSize=15,name_fontSize=30,mapName="china",data=[{name:"湖北",value:67803},{name:"广东",value:1533},{name:"河南",value:1276},{name:"浙江",value:1265},{name:"湖南",value:1019},{name:"安徽",value:990},{name:"江西",value:937},{name:"江苏",value:651},{name:"重庆",value:579},{name:"山东",value:781},{name:"四川",value:560},{name:"黑龙江",value:544},{name:"北京",value:587},{name:"上海",value:538},{name:"河北",value:327},{name:"福建",value:351},{name:"广西",value:254},{name:"陕西",value:256},{name:"云南",value:184},{name:"海南",value:168},{name:"贵州",value:147},{name:"山西",value:138},{name:"天津",value:180},{name:"辽宁",value:144},{name:"甘肃",value:139},{name:"吉林",value:98},{name:"新疆",value:76},{name:"内蒙古",value:1213},{name:"宁夏",value:75},{name:"香港",value:914},{name:"台湾",value:373},{name:"青海",value:18},{name:"澳门",value:44},{name:"西藏",value:1}],geoCoordMap={},toolTipData=[];myChart.showLoading();var mapFeatures=echarts.getMap(mapName).geoJson.features;myChart.hideLoading(),mapFeatures.forEach(function(o){var a=o.properties.name;geoCoordMap[a]=o.properties.cp}),console.log(data),console.log(toolTipData);var max=44,min=0,maxSize4Pin=50,minSize4Pin=0,convertData=function(o){for(var a=[],e=0;e<o.length;e++){var l=geoCoordMap[o[e].name];l&&a.push({name:o[e].name,value:l.concat(o[e].value)})}return a};option={backgroundColor:"#FFFFFF",title:{text:name_title,subtext:subname,left:20,top:20,textStyle:{color:nameColor,fontFamily:name_fontFamily,fontSize:name_fontSize,fontWeight:"bolder"},subtextStyle:{fontSize:subname_fontSize,fontFamily:name_fontFamily}},tooltip:{trigger:"item",formatter:function(o){if(typeof o.value[2]>"u"){for(var a="",e=0;e<toolTipData.length;e++)if(o.name==toolTipData[e].name){a+=toolTipData[e].name+":<br>";for(var l=0;l<toolTipData[e].value.length;l++)a+=toolTipData[e].value[l].name+":"+toolTipData[e].value[l].value+"<br>"}return console.log(a),a}else{for(var a="",e=0;e<toolTipData.length;e++)if(o.name==toolTipData[e].name){a+=toolTipData[e].name+":<br>";for(var l=0;l<toolTipData[e].value.length;l++)a+=toolTipData[e].value[l].name+":"+toolTipData[e].value[l].value+"<br>"}return console.log(a),a}}},visualMap:{show:!0,min:1,max:3e3,left:26,bottom:40,showLabel:!0,seriesIndex:[1],pieces:[{min:1001,label:"> 1001 ",color:"#800000"},{min:501,max:1e3,label:"501 - 1000 ",color:"#ff0000"},{min:101,max:500,label:"101 - 500 ",color:"#cd5c5c"},{min:11,max:100,label:"11 - 100 ",color:"#f08080"},{min:0,max:10,label:"0 - 10 ",color:"#ffe4e1"}]},geo:{show:!0,map:mapName,label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:convertData(data),symbolSize:25,label:{normal:{formatter:"{b}",color:"#000000",textStyle:{fontSize:"10",fontWeight:"bolder"},show:!0}},itemStyle:{normal:{color:"#FFFF00",show:!1}}},{type:"map",map:mapName,geoIndex:0,aspectScale:.75,showLegendSymbol:!0,label:{normal:{color:"#ff00ff",show:!0},emphasis:{show:!0,textStyle:{color:"#000000"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!0,data:convertData(data)}]},myChart.setOption(option);
