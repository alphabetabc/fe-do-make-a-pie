for(var axisdata=[],i=-5;i<5;i++)axisdata.push(i);function makeHeatData(){let t=360,o=[],r=5,n=function(e){let s=t/(e*8);for(let a=1;a<t;a+=s)o.push([Math.sin(a)*e,Math.cos(a)*e,a])};for(let e=1;e<=5;e++)n(e);return o}var data=makeHeatData();option={tooltip:{show:!0},geo:[{map:"world",zoom:0,roam:!0,show:!1,id:"geo1",itemStyle:{areaColor:"rgb(0,0,0,0)"},height:"100%"}],grid:{show:!0,height:"62%",width:"50%",top:"20%",left:"center",borderColor:"rgb(0,0,0,0)"},animation:!1,xAxis:{type:"value",data:axisdata},yAxis:{type:"value",data:axisdata},series:[{id:"test",name:"fs",type:"heatmap",coordinateSystem:"cartesian2d",data,gridIndex:0,itemStyle:{show:!0,color:"rgb(0,0,0,0)"}}]},myChart.setOption(option);function convertToPx(t){var o=myChart.convertToPixel({seriesId:"test"},t);return o}function convertToGeo(t){var o=myChart.convertFromPixel({geoId:"geo1"},convertToPx(t)),r=[o[0],o[1]];return r}function convertData(t,o,r){var n=[];o=Math.ceil(o),r=Math.ceil(r);for(var e=0;e<t.length;e++)if(t[e][0]>=o&&t[e][0]<=r){var s=convertToGeo([t[e][0],t[e][1]]);s.push(t[e][2]),n.push(s)}return n}var cusdata=convertData(data,-6,data.length);setTimeout(function(){myChart.setOption({series:[{name:"testheatmap",type:"heatmap",id:"testheatmap",coordinateSystem:"geo",seriesIndex:1,geoIndex:0,data:cusdata,blurSize:20,pointSize:25}],visualMap:{show:!0,top:"bottom",seriesIndex:1,calculable:!0,min:0,max:250,inRange:{color:["blue","green","yellow","red"]}}})},500);
