var uploadedDataURL="/asset/get/s/data-1528971808162-BkOXf61WX.json",geoGpsMap=[120.18897,30.267422],geoCoordMap={天津:[117.4219,39.4189],山东:[117.1582,36.8701],辽宁:[123.1238,42.1216],湖北:[114.3896,30.6628],重庆:[108.384366,30.439702],四川:[103.9526,30.7617],广东:[113.12244,23.009505],江苏:[118.8062,31.9208],北京:[116.4551,40.2539],上海:[121.4648,31.2891]},d1={上海:15,北京:10,江苏:4,湖南:4,四川:2,辽宁:1,重庆:1,河北:1,湖北:1},d2={上海:76,北京:40,江苏:10,四川:9,湖北:9,广东:8,福建:6,重庆:4,天津:3,安徽:3},d3={上海:171,北京:114,江苏:45,广东:24,四川:20,辽宁:16,重庆:14,湖北:10,山东:9,安徽:9},d4={上海:377,北京:336,江苏:154,广东:90,四川:57,重庆:50,湖北:43,山东:40,辽宁:34,安徽:34},d5={北京:293,上海:244,江苏:172,广东:133,四川:61,辽宁:46,湖北:46,山东:44,重庆:40,天津:33},colors=["#1DE9B6","#EEDD78","#32C5E9","#FFDB5C","#37A2DA","#04B9FF"],colorIndex=0;$(function(){var m=["2017","2018","2019","2020","2021"],a=[[],[],[],[],[]],u=[],p=[];for(var e in geoCoordMap)a[0].push({year:"2017",name:e,value:d1[e],value1:d1[e]}),a[1].push({year:"2018",name:e,value:d2[e],value1:d2[e]}),a[2].push({year:"2019",name:e,value:d3[e],value1:d3[e]}),a[3].push({year:"2020",name:e,value:d4[e],value1:d4[e]}),a[4].push({year:"2021",name:e,value:d5[e],value1:d5[e]});for(var r=0;r<a.length;r++){a[r].sort(function(c,h){return c.value-h.value}),p.push([]),u.push([]);for(var n=0;n<a[r].length;n++)p[r].push(a[r][n].value1),u[r].push(a[r][n].name)}$.getJSON(uploadedDataURL,function(v){$("body").css({background:"url(https://corgixuoos.oss-cn-shanghai.aliyuncs.com/soc/0623%E4%BF%AE%E6%94%B9%E5%A4%A7%E5%B1%8F-%E6%95%B4%E4%BD%93-Recovered.png) repeat-y",position:"fixed",top:0,left:0,width:"100%",height:"100%","background-size":"cover","-webkit-background-size":"cover","-o-background-size":"cover","background-position":"center 0"}),echarts.registerMap("china",v);var c=function(t){for(var s=[],l=0;l<t.length;l++){var i=geoCoordMap[t[l].name];i&&s.push({name:t[l].name,value:i.concat(t[l].value)})}return s},h=function(t,s){for(var l=[],i=0;i<t.length;i++){var d=t[i],f=geoCoordMap[d.name],b=s;b&&f&&l.push([{coord:f},{coord:b,value:d.value}])}return l};optionXyMap01={timeline:{data:m,axisType:"category",autoPlay:!0,playInterval:3e3,left:"10%",right:"10%",bottom:"3%",width:"80%",label:{normal:{textStyle:{color:"#ddd"}},emphasis:{textStyle:{color:"#fff"}}},symbolSize:10,lineStyle:{color:"#555"},checkpointStyle:{borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}}},baseOption:{animation:!0,animationDuration:1e3,animationEasing:"cubicInOut",animationDurationUpdate:1e3,animationEasingUpdate:"cubicInOut",grid:{right:"5%",top:"10%",bottom:"10%",width:"12%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(150,150,150,0.1)"}}},visualMap:{min:0,max:80,left:"left",top:"bottom",text:["高","低"],textStyle:{color:"#323232"},calculable:!0,colorLightness:[.8,100],color:["rgba(255, 80, 80, 1)","#FFEB84","rgba(99,190,123, 0.8)"],dimension:0},geo:{show:!0,map:"china",roam:!0,zoom:1,center:[113.83531246,34.0267395887],label:{emphasis:{show:!0}},itemStyle:{normal:{borderColor:"rgba(0, 0, 0, 0.8)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(255, 255, 255, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}}}},options:[]};for(var o=0;o<m.length;o++){var g="籍贯分布（不含浙江）";optionXyMap01.options.push({backgroundColor:"#FFFFFF",title:[{text:"历年新杭州人来源省份",left:"35%",top:"1%",textStyle:{color:"#000000",fontSize:30}},{id:"statistic",text:g,left:"80%",top:"6%",textStyle:{color:"#000000",fontSize:20}}],xAxis:{type:"value",scale:!0,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:1,textStyle:{color:"#000000"}}},yAxis:{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#000000"}},axisTick:{show:!1,lineStyle:{color:"#000000"}},axisLabel:{interval:0,textStyle:{color:"#000000"}},data:u[o]},series:[{name:"light",type:"scatter",coordinateSystem:"geo",data:c(a[o]),symbolSize:function(t){return 5},label:{normal:{formatter:"{b}",fontSize:14,position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:colors[o]}}},{type:"map",map:"china",geoIndex:0,aspectScale:1,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#000000"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#000000"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:a},{type:"effectScatter",coordinateSystem:"geo",data:c(a[o].sort(function(t,s){return s.value-t.value}).slice(0,20)),symbolSize:function(t){return 5},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!1,label:{normal:{formatter:"{b}",position:"right",show:!1}},itemStyle:{normal:{color:colors[o],shadowBlur:10,shadowColor:colors[o]}},zlevel:1},{type:"lines",zlevel:2,effect:{show:!0,period:3,trailLength:.05,symbol:"arrow",symbolSize:8},lineStyle:{normal:{color:colors[o],width:2,opacity:.2,curveness:.1}},data:h(a[o],geoGpsMap)},{zlevel:1.5,type:"bar",barMaxWidth:12,symbol:"none",itemStyle:{normal:{color:colors[o],barBorderRadius:[0,30,30,0]}},data:p[o]}]})}myChart.setOption(optionXyMap01)})});
