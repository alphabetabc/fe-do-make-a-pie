var uploadedDataURL="/asset/get/s/data-1482909900836-H1BC_1WHg.json";$.getJSON(uploadedDataURL,function(o){echarts.registerMap("",o);var a={},t=[],m=JSON.parse(JSON.stringify(o));m.features.forEach(l=>{t.push(l.properties.name),a[l.properties.name]=l.properties.cp});var n=["全部","A","B","C"],r=["#00ffea","#00ff8c","#f9ff00","#ff5500"];option={baseOption:{timeline:{axisType:"category",autoPlay:!0,playInterval:5e3,data:n,label:{color:"rgba(0,168,255,.6)"},lineStyle:{color:"#666"},checkpointStyle:{color:"rgba(0,168,255,1)",borderColor:"rgba(0,168,255,0.3)"},itemStyle:{opacity:.3},controlStyle:{opacity:.3},emphasis:{label:{color:"rgba(0,168,255,1)"},controlStyle:{color:"rgba(0,168,255,1)",borderColor:"rgba(0,168,255,1)",opacity:1}}},title:{subtext:""},tooltip:{},calculable:!0,grid:{top:80,bottom:80,right:"2%",width:"30%"},geo:{type:"map",mapType:"shanghai",roam:!0,left:"8%",label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#000"}}},itemStyle:{normal:{borderColor:"rgba(0,168,255,.6)",borderWidth:2,areaColor:"rgba(0,81,138,.3)"},emphasis:{borderColor:"rgba(0,168,255,.6)",borderWidth:2,areaColor:"rgba(0,81,138,.3)"}},animation:!1}},options:[]},n.forEach((l,i)=>{var p=[],s=[],c=[],y=t[_random(0,t.length-1)];t.forEach(e=>{var d=_random(100,800);p.push({name:e,value:d});var h=JSON.parse(JSON.stringify(a[e]));h.push(d),s.push({name:e,value:h}),y!==e&&c.push([{coord:a[e]},{coord:a[y]}])}),option.options.push({title:[{id:"title1",text:l+"数据类型分析统计",right:"5%",top:"2%",textStyle:{color:"#fff",fontSize:22}}],xAxis:{type:"value",scale:!0,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#aaa"}}},yAxis:{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#ddd"}},data:t},series:[{name:"point",type:"scatter",coordinateSystem:"geo",data:s,symbolSize:function(e){return e[2]/30},itemStyle:{normal:{color:r[i]}}},{type:"effectScatter",coordinateSystem:"geo",data:s,symbolSize:function(e){return e[2]/30},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:r[i],shadowBlur:10,shadowColor:r[i]}},zlevel:1},{type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:r[i],width:.1,opacity:.5,curveness:.3}},data:c},{zlevel:1.5,type:"bar",symbol:"none",itemStyle:{normal:{color:r[i]}},data:p}]})}),myChart.setOption(option)});function _random(o,a){return Math.round(Math.random()*Math.abs(a-o)+o)}
