myChart.showLoading();var geoCoordMap={"Store-222":[114.154527,22.248614],"Store-323":[114.171552,22.296108],"Store-1024":[114.138628,22.338379],"Store-vip":[114.143703,22.500478],"Store-987":[113.964351,22.381489],"Store-438":[114.159874,22.331216],"Store-630":[114.168684,22.444209],"Store-6732":[113.976737,22.393006],"Store-410":[114.196315,22.336025],"Store-239":[114.156604,22.282287],"Store-672":[114.169249,22.318697],"Store-1876":[114.24899,22.262842]},convertData=function(o){for(var e=[],t=0;t<o.length;t++){var r=o[t].name;for(var a in geoCoordMap){var l=geoCoordMap[a];if(r.indexOf(a)>-1){e.push({name:o[t].name,value:l.concat(o[t].value),visualMap:!0});break}}}return e},max=100,min=20,randomData=[{name:"Store-222",value:Math.floor(Math.random()*(200-140+1)+140)},{name:"Store-323",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-1024",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-vip",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-987",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-438",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-630",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-6732",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-410",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-239",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-672",value:Math.floor(Math.random()*(max-min+1)+min)},{name:"Store-1876",value:Math.floor(Math.random()*(max-min+1)+min)}],NumDescSort=function(o,e){return o.value-e.value};randomData=randomData.sort(NumDescSort),console.log(convertData(randomData)),$.get("https://echarts.apache.org/examples/data/asset/geo/HK.json",function(o){myChart.hideLoading(),echarts.registerMap("HK",o),myChart.setOption(option={backgroundColor:"#404a59",title:[{text:"XXX Hong Kong Store Network Overview",x:"center",y:"top",textStyle:{fontSize:15,color:"#fff"}},{text:"Store-222 anomaly detection",top:"10%",left:20,textStyle:{color:"#FB977F",fontSize:15}}],tooltip:{trigger:"item",formatter:"{b}<br/>{c} (p / km2)"},visualMap:{calculable:!0,inRange:{color:["#50a3ba","#eac736","#FC021D"]},textStyle:{color:"#fff"}},geo:{map:"HK",top:130,left:"12%",bottom:"14%",zoom:1.3,itemStyle:{normal:{borderColor:"#000",areaColor:"#036880"},emphasis:{areaColor:"#2a333d"}},label:{normal:{show:!0,color:"#10A7CB",fontSize:11},emphasis:{color:"#878787",fontSize:11}}},grid:[{right:40,top:"10%",bottom:40,width:"28%"}],xAxis:[{position:"top",type:"value",boundaryGap:!1,axisLabel:{formatter:"{value} ms",textStyle:{color:"#c3dbff",fontSize:10}},splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}}],yAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],series:[{z:1,type:"effectScatter",legendHoverLink:!0,coordinateSystem:"geo",data:convertData(randomData),symbolSize:10,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"left",textStyle:{color:"#FFD857",fontSize:13},show:!0},emphasis:{formatter:"{b}",show:!0}},tooltip:{formatter:function(e){return e.name+" : "+e.data.value[2]+" ms"}},itemStyle:{normal:{color:"#f4e925",shadowBlur:50,shadowColor:"#EE0000"}},visualMap:!0,zlevel:1},{type:"bar",visualMap:!1,tooltip:{formatter:function(e){return e.data.name+" : "+e.data.value+" ms"}},label:{normal:{show:!0,formatter:"{b}",position:"insideLeft",textStyle:{color:"#FFFFFF",fontSize:13}},emphasis:{show:!0}},data:randomData}]})});
