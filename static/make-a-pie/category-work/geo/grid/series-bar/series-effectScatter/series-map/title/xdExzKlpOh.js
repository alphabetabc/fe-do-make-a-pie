var namedata=[{name:"张"},{name:"刘"},{name:"李"},{name:"邓"},{name:"熊"},{name:"田"},{name:"周"},{name:"赵"},{name:"钱"},{name:"孙"},{name:"吴"},{name:"郑"},{name:"王"},{name:"冯"},{name:"陈"},{name:"杨"},{name:"朱"},{name:"秦"},{name:"许"},{name:"徐"},{name:"何"},{name:"曹"},{name:"陶"},{name:"邹"},{name:"苏"},{name:"范"},{name:"彭"},{name:"鲁"},{name:"马"},{name:"方"},{name:"唐"},{name:"顾"}],option=null,geoCoordMap={上海:[119.1803,31.2891],福建:[119.4543,25.9222],重庆:[108.384366,30.439702],北京:[116.4551,40.2539],辽宁:[123.1238,42.1216],河北:[114.4995,38.1006],天津:[117.4219,39.4189],山西:[112.3352,37.9413],陕西:[109.1162,34.2004],甘肃:[103.5901,36.3043],宁夏:[106.3586,38.1775],青海:[101.4038,36.8207],新疆:[87.9236,43.5883],西藏:[91.11,29.97],四川:[103.9526,30.7617],吉林:[125.8154,44.2584],山东:[117.1582,36.8701],河南:[113.4668,34.6234],江苏:[118.8062,31.9208],安徽:[117.29,32.0581],湖北:[114.3896,30.6628],浙江:[119.5313,29.8773],内蒙古:[110.3467,41.4899],江西:[116.0046,28.6633],湖南:[113.0823,28.2568],贵州:[106.6992,26.7682],云南:[102.9199,25.4663],广东:[113.12244,23.009505],广西:[108.479,23.1152],海南:[110.3893,19.8516],黑龙江:[127.9688,45.368],台湾:[121.4648,25.563]},chinaDatas=[{name:"北京",value:86},{name:"福建",value:65},{name:"广东",value:53},{name:"上海",value:48},{name:"河北",value:2},{name:"天津",value:6},{name:"山西",value:12},{name:"陕西",value:2},{name:"甘肃",value:4},{name:"宁夏",value:5},{name:"青海",value:3},{name:"新疆",value:.4},{name:"西藏",value:.3},{name:"四川",value:22},{name:"重庆",value:12},{name:"山东",value:9},{name:"河南",value:.9},{name:"江苏",value:24},{name:"安徽",value:15},{name:"湖北",value:6},{name:"浙江",value:15},{name:"内蒙古",value:.3},{name:"江西",value:34},{name:"湖南",value:12},{name:"贵州",value:.8},{name:"广西",value:16},{name:"海南",value:37},{name:"辽宁",value:.2},{name:"吉林",value:.4},{name:"云南",value:34},{name:"黑龙江",value:5},{name:"台湾",value:43}],convertData=function(e,r){for(var a=[],o=0;o<e.length;o++){var t=geoCoordMap[e[o].name];t&&(r==2?a.push({name:e[o].name,value:t.concat(e[o].value),username:e[o].username,telphone:e[o].telphone,address:e[o].address}):a.push({name:e[o].name,value:t.concat(e[o].value)}))}return a},yData=[],barData=chinaDatas;barData=barData.sort(function(e,r){return r.value-e.value});for(var j=0;j<barData.length;j++)j<10?yData.push("0"+j+barData[j].name):yData.push(j+barData[j].name);option={backgroundColor:"#00013a",title:[{show:!0,text:"2019年度销售排行",subtext:"单位：万辆",subtextStyle:{color:"#ffffff",lineHeight:20},textStyle:{color:"#fff",fontSize:18},right:140,top:20}],grid:{right:10,top:80,bottom:20,width:"200"},xAxis:{show:!1},yAxis:{type:"category",inverse:!0,nameGap:16,axisLine:{show:!1,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,margin:85,textStyle:{color:"#fff",align:"left",fontSize:14},rich:{a:{color:"#fff",backgroundColor:"#f0515e",width:20,height:20,align:"center",borderRadius:2},b:{color:"#fff",backgroundColor:"#24a5cd",width:20,height:20,align:"center",borderRadius:2}},formatter:function(e){return parseInt(e.slice(0,2))<3?["{a|"+(parseInt(e.slice(0,2))+1)+"}  "+e.slice(2)].join(`
`):["{b|"+(parseInt(e.slice(0,2))+1)+"}  "+e.slice(2)].join(`
`)}},data:yData},geo:{map:"china",label:{show:!0,color:"#ffffff",emphasis:{color:"white",show:!1}},roam:!1,top:100,left:"left",right:"300",zoom:1,scaleLimit:{min:0,max:3},itemStyle:{normal:{borderColor:"rgba(26,82,231, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(14, 101, 247, .1)"},{offset:1,color:"rgba(125, 183, 252, .1)"}],globalCoord:!1},shadowColor:"rgba(255, 255, 255, 0)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"rgba(249,157,51, .)",borderWidth:0}},tooltip:{show:!1}},series:[{type:"effectScatter",coordinateSystem:"geo",z:1,data:[],symbolSize:14,label:{normal:{show:!0,formatter:function(e){return"{fline|客户："+e.data.username+"  "+e.data.telphone+`}
{tline|`+e.data.address+"}"},position:"top",backgroundColor:"rgba(254,174,33,.8)",padding:[0,0],borderRadius:3,lineHeight:32,color:"#f7fafb",rich:{fline:{padding:[0,10,10,10],color:"#ffffff"},tline:{padding:[10,10,0,10],color:"#ffffff"}}},emphasis:{show:!0}},itemStyle:{color:"#feae21"}},{type:"effectScatter",coordinateSystem:"geo",z:1,data:[],symbolSize:14,label:{normal:{show:!0,formatter:function(e){return"{fline|客户："+e.data.username+"  "+e.data.telphone+`}
{tline|`+e.data.address+"}"},position:"top",backgroundColor:"rgba(233,63,66,.9)",padding:[0,0],borderRadius:3,lineHeight:32,color:"#ffffff",rich:{fline:{padding:[0,10,10,10],color:"#ffffff"},tline:{padding:[10,10,0,10],color:"#ffffff"}}},emphasis:{show:!0}},itemStyle:{color:"#e93f42"}},{type:"effectScatter",coordinateSystem:"geo",z:1,data:[],symbolSize:14,label:{normal:{show:!0,formatter:function(e){return"{fline|客户："+e.data.username+"  "+e.data.telphone+`}
{tline|`+e.data.address+"}"},position:"top",backgroundColor:"rgba(8,186,236,.9)",padding:[0,0],borderRadius:3,lineHeight:32,color:"#ffffff",rich:{fline:{padding:[0,10,10,10],color:"#ffffff"},tline:{padding:[10,10,0,10],color:"#ffffff"}}},emphasis:{show:!0}},itemStyle:{color:"#08baec"}},{type:"map",mapType:"china",geoIndex:0,z:0,data:convertData(chinaDatas,1)},{name:"barSer",type:"bar",roam:!1,visualMap:!1,zlevel:2,barMaxWidth:16,barGap:0,itemStyle:{normal:{color:function(e){var r=[{colorStops:[{offset:0,color:"#f0515e"},{offset:1,color:"#ef8554"}]},{colorStops:[{offset:0,color:"#3c38e4"},{offset:1,color:"#24a5cd"}]}];return e.dataIndex<3?r[0]:r[1]},barBorderRadius:[0,15,15,0]}},label:{normal:{show:!0,textBorderColor:"#333",textBorderWidth:2}},data:barData.sort((e,r)=>r.value-e.value)}]},option&&typeof option=="object"&&myChart.setOption(option,!0);function getTel(){for(var e=2,r="1";e<12;){if(e<3)for(;;){var a=Math.floor(Math.random()*10);if(a!==0&&a!==1&&a!==2&&a!==3&&a!==4&&a!==6){r+=a;break}}else e>3&&e<8?r+="*":r+=Math.floor(Math.random()*10);e++}return r}function getName(e){var r="",a=Math.floor(Math.random()*32);switch(e){case 1:r=namedata[a].name+"先生";break;case 2:r=namedata[a].name+"女士";break;default:r=namedata[a].name+"先生";break}return r}function getAddress(e,r){var a="";switch(r){case 1:a="在"+chinaDatas[e].name+"-保时捷4S店购买车辆";break;case 2:a="在"+chinaDatas[e].name+"-奔驰4S店购买车辆";break;default:a="在"+chinaDatas[e].name+"-法拉利4S店购买车辆";break}return a}var timer=setInterval(()=>{var e=Math.floor(Math.random()*3),r=Math.floor(Math.random()*3),a=Math.floor(Math.random()*32),o=Math.floor(Math.random()*10);chinaDatas[a].value=chinaDatas[a].value+o;var t=geoCoordMap[chinaDatas[a].name];t.push(o),option.series[r].data=[{name:"",username:getName(e),telphone:getTel(),address:getAddress(a,r),value:t}],option.series[4].data=option.series[4].data.sort(function(n,l){return l.value-n.value}),myChart.setOption(option,!0)},3e3);
