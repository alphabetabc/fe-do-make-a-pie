var uploadedDataURL="/asset/get/s/data-1559032707973-kPCDcrc0f.json",colors=[["#1DE9B6","#F46E36","#04B9FF","#5DBD32","#FFC809","#FB95D5","#BDA29A","#6E7074","#546570","#C4CCD3"],["#37A2DA","#67E0E3","#32C5E9","#9FE6B8","#FFDB5C","#FF9F7F","#FB7293","#E062AE","#E690D1","#E7BCF3","#9D96F5","#8378EA","#8378EA"],["#DD6B66","#759AA0","#E69D87","#8DC1A9","#EA7E53","#EEDD78","#73A373","#73B9BC","#7289AB","#91CA8C","#F49F42"]],colorIndex=0;$(function(){var r={北碚:[106.5,29.81],城口:[108.6520475,31.90676506],大足:[105.7692868,29.65392091],垫江:[107.4004904,30.24903189],丰都:[107.7461781,29.91492542],奉节:[109.3758974,30.98202119],合川:[106.2833096,30.09766756],江北:[106.6214893,29.64821182],江津:[106.2647885,28.98483627],开州:[108.1818518,31.29466521],南岸:[106.6379653,29.47704825],南川:[107.1406799,29.12047319],彭水:[108.2573507,29.36444557],綦南:[106.8036647,28.96872774],黔江:[108.7559876,29.44290625],石柱:[108.2438988,30.07512144],市区:[106.4377397,29.52648606],铜梁:[106.0616035,29.81036286],潼南:[105.811692,30.13795513],万州:[108.0828876,30.73353669],巫山:[109.8779184,31.09568937],巫溪:[109.2970739,31.48090521],武隆:[107.6831317,29.36831708],秀山:[108.9997005,28.49462861],永川:[105.8347961,29.41042605],酉阳:[108.7911679,28.88330557],云阳:[108.7533957,30.96025875],长寿:[107.24,29.95],忠县:[107.9279014,30.33522658],川东:[107.3488646,29.68233099]},s=["全部","35kV","110kV","220kV","500kV"],e=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],h=[],u=[];for(var l in r)h.push(l),e[0].push({year:2014,name:l,value:randomNum(100,300)}),e[1].push({year:2015,name:l,value:randomNum(100,300)}),e[2].push({year:2016,name:l,value:randomNum(100,300)}),e[3].push({year:2017,name:l,value:randomNum(100,300)}),e[4].push({year:2018,name:l,value:randomNum(100,300)}),e[5].push({year:2019,name:l,value:randomNum(100,300)});for(var i=0;i<e.length;i++){u.push([]);for(var p=0;p<e[i].length;p++)u[i].push(e[i][p].value)}$.getJSON(uploadedDataURL,function(y){echarts.registerMap("xianyang3",y);var m=function(a){for(var n=[],t=0;t<a.length;t++){var c=r[a[t].name];c&&n.push({name:a[t].name,value:c.concat(a[t].value)})}return n},v=function(a){for(var n=[],t=0;t<a.length;t++){var c=a[t],f=r[c.name],d=[106.55,29.57];f&&d&&n.push([{coord:f,value:c.value},{coord:d}])}return n};optionXyMap01={timeline:{data:s,axisType:"category",autoPlay:!0,playInterval:3e3,left:"10%",right:"10%",bottom:"3%",width:"80%",label:{normal:{textStyle:{color:"#ddd"}},emphasis:{textStyle:{color:"#fff"}}},symbolSize:10,lineStyle:{color:"#555"},checkpointStyle:{borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}}},baseOption:{animation:!0,animationDuration:1e3,animationEasing:"cubicInOut",animationDurationUpdate:1e3,animationEasingUpdate:"cubicInOut",grid:{right:"1%",top:"15%",bottom:"10%",width:"20%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(150,150,150,0.1)"}}},geo:{show:!0,map:"xianyang3",roam:!0,zoom:1,center:[108.5,30],label:{emphasis:{show:!1}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1}},emphasis:{areaColor:"#389BB7",borderWidth:0}}}},options:[]};for(var o=0;o<s.length;o++)optionXyMap01.options.push({backgroundColor:"#142037",title:[{text:"地图",left:"center",textStyle:{color:"#fff"}},{id:"statistic",text:s[o]+"变电站统计情况",left:"75%",top:"8%",textStyle:{color:"#fff",fontSize:20}}],xAxis:{type:"value",scale:!0,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#aaa"}}},yAxis:{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#ddd"}},data:h},series:[{name:"light",type:"scatter",coordinateSystem:"geo",data:m(e[o]),symbolSize:function(a){return a[2]/10},itemStyle:{normal:{color:colors[colorIndex][o]}}},{type:"map",map:"xianyang3",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#FFFFFF"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:e},{type:"effectScatter",coordinateSystem:"geo",data:m(e[o].sort(function(a,n){return n.value-a.value}).slice(0,20)),symbolSize:function(a){return a[2]/100},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:colors[colorIndex][o],shadowBlur:5,shadowColor:colors[colorIndex][o]}},zlevel:1},{zlevel:1.5,type:"bar",symbol:"none",itemStyle:{normal:{color:colors[colorIndex][o]}},data:u[o]}]});myChart.setOption(optionXyMap01)})});function randomNum(r,s){let e=null;switch(arguments.length){case 1:e=parseInt(Math.random()*r+1,10);break;case 2:e=parseInt(Math.random()*(s-r+1)+r,10);break;default:e=0;break}return e}
