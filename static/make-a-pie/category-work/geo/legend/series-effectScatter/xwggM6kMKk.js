var uploadedDataURL="/asset/get/s/data-1641799723453-_SqgBq685.json";$.getJSON(uploadedDataURL,function(t){echarts.registerMap("tianjin",t),option={legend:{orient:"vertical",top:20,left:20,data:[{name:"失能评估申请",textStyle:{color:"#fff"}},{name:"符合享受待遇",textStyle:{color:"#fff"}}],selectedMode:!1},geo:{map:"tianjin",roam:!0,zoom:1.2,label:{show:!1,color:"#fff"},itemStyle:{areaColor:"#033786",borderWidth:2,borderColor:"#48D6FD",color:"#eee"},emphasis:{label:{color:"#fff",show:!0},itemStyle:{areaColor:"#FFE700",borderWidth:2,borderColor:"#48D6FD",color:"rgba(255,215,0,0.8)"}},silent:!0,scaleLimit:{min:1.2,max:7},zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,boundingCoords:null,center:null,select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[{name:"滨海新区",label:{show:!0}},{name:"西青区",label:{show:!0}},{name:"河东区",label:{show:!0}},{name:"津南区",label:{show:!0}},{name:"东丽区",label:{show:!0}},{name:"红桥区",label:{show:!0}},{name:"蓟州区",label:{show:!0}},{name:"静海区",label:{show:!0}},{name:"河北区",label:{show:!1}},{name:"北辰区",label:{show:!0}},{name:"武清区",label:{show:!0}},{name:"宝坻区",label:{show:!0}},{name:"宁河区",label:{show:!0}},{name:"南开区",label:{show:!1}},{name:"河西区",label:{show:!0}},{name:"和平区",label:{show:!1}}],selectedMap:{}},series:[{name:"失能评估申请",coordinateSystem:"geo",type:"effectScatter",showEffectOn:"render",rippleEffect:{brushType:"stroke"},itemStyle:{color:"#2CD050",shadowBlur:10,shadowColor:"#333"},symbolSize:10,data:[]},{name:"符合享受待遇",coordinateSystem:"geo",type:"effectScatter",showEffectOn:"render",rippleEffect:{brushType:"stroke"},itemStyle:{color:"#F66B72",shadowBlur:10,shadowColor:"#333"},symbolSize:10,data:[]}]},myChart.setOption(option)});const controlLabelShowByZoom=(t,o)=>(o=o||[{name:"滨海新区"},{name:"西青区"},{name:"河东区"},{name:"津南区"},{name:"东丽区"},{name:"红桥区"},{name:"蓟州区"},{name:"静海区"},{name:"河北区"},{name:"北辰区"},{name:"武清区"},{name:"宝坻区"},{name:"宁河区"},{name:"南开区"},{name:"河西区"},{name:"和平区"}],t=t||1.2,o.map(e=>(e.name==="南开区"?e.label={...e.label,show:t>=1.45}:["河北区","和平区"].includes(e.name)?e.label={...e.label,show:t>=2.6}:e.label={...e.label,show:!0},e)));myChart.on("georoam",t=>{if(option.series=myChart.getOption().series,option.geo=myChart.getOption().geo[0],t.dy===void 0&&t.dx===void 0){let o=myChart.getOption()?.geo[0].zoom;option.geo.regions=controlLabelShowByZoom(o),myChart.clear(),myChart.setOption(option||{},!0)}});const generatePointLAL=(t,o)=>{let e=t.getModel().getComponent("geo").coordinateSystem.getRegion(o),a=e.getBoundingRect(),l=[1/0,1/0];for(;!e.contain(l);)l[0]=a.x+Math.random()*a.width,l[1]=a.y+Math.random()*a.height;return l},datas=["蓟州区","武清区","和平区"];setInterval(function(){let t=datas.map(e=>({name:e,value:generatePointLAL(myChart,e)})),o=datas.map(e=>({name:e,value:generatePointLAL(myChart,e)}));option.series[0].data=t,option.series[1].data=o,myChart.clear(),myChart.setOption(option||{},!0)},1e3);
