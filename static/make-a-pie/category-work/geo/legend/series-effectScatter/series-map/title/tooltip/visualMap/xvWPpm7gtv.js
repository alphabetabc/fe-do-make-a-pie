var uploadedDataURL="/asset/get/s/data-1559121640669-cC3-ztp_y.json";myChart.showLoading(),$.getJSON(uploadedDataURL,function(l){echarts.registerMap("shanghai",l),myChart.hideLoading();var n={上海市区:[121.430317,31.222771],闵行区:[121.375972,31.111658],宝山区:[121.489934,31.398896],嘉定区:[121.250333,31.383524],浦东新区:[121.567706,31.245944],金山区:[121.330736,30.724697],松江区:[121.223543,31.03047],青浦区:[121.113021,31.151209],奉贤区:[121.458472,30.912345],崇明区:[121.397516,31.626946]},r=[{name:"上海市区",value:85},{name:"闵行区",value:70},{name:"宝山区",value:75},{name:"嘉定区",value:80},{name:"浦东新区",value:78},{name:"金山区",value:77},{name:"松江区",value:79},{name:"青浦区",value:85},{name:"奉贤区",value:81},{name:"崇明区",value:83}],f=function(e){for(var o=[],a=0;a<e.length;a++){var t=n[e[a].name];t&&o.push({name:e[a].name,value:t.concat(e[a].value)})}return o};option={backgroundColor:"#fff",title:{text:"上海市地图",subtext:"市区统称为市区",x:"left",textStyle:{color:"#ccc"}},tooltip:{trigger:"item",backgroundColor:"#09bdb1",borderColor:"#FFFFCC",showDelay:0,hideDelay:0,enterable:!0,transitionDuration:0,extraCssText:"z-index:100",formatter:function(e,o,a){var t="",s=e.name,c=e.value;return t="<span style='color:#fff;'>"+s+"</span><br/>数据："+c,t}},legend:{orient:"vertical",top:"top",left:"right",data:["credit_pm2.5"],textStyle:{color:"#fff"}},visualMap:{show:!1,x:"left",y:"center",seriesIndex:[1],min:70,max:90,text:["高","低"],textStyle:{color:"#fff"},inRange:{color:["#5cd2c3","#419bd3","#7a95d2","#5dcbdc","#838dcd","#5de9b1","#5dc6df","#5db8ea","#2bbc90","#5dc4e3"]}},geo:{map:"shanghai",left:"350",itemStyle:{color:"#fff",normal:{label:{show:!0,textStyle:{color:"#ff0"}},borderWidth:1,borderColor:"rgba(37,124,169)",shadowColor:"#e8e8e8",shadowOffsetY:15,shadowOffsetX:8}}},series:[{name:"credit_pm2.5",type:"effectScatter",left:"150",coordinateSystem:"geo",data:f(r),symbolSize:function(e){return e[2]/5},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"bottom",color:"#fff",show:!0}},itemStyle:{normal:{color:"#10f9ff",shadowBlur:0,shadowColor:"#05C3F9"}},zlevel:1},{type:"map",mapType:"shanghai",left:"350",roam:!1,itemStyle:{normal:{label:{show:!0,textStyle:{color:"transparent"}},borderWidth:1,borderColor:"#28729f",areaColor:"#29b4b7"},emphasis:{label:{show:!1,textStyle:{color:"transparent"}},borderColor:"#28729f",areaColor:"#9ea9f7"}},data:r}]},myChart.setOption(option)});
