var uploadedDataURL="/asset/get/s/data-1525844720391-Skugj-g0f.json";myChart.showLoading(),$.getJSON(uploadedDataURL,function(u){echarts.registerMap("tianjin",u),myChart.hideLoading();var f={和平:[117.2,39.12],河东:[117.22,39.12],河西:[117.22,39.12],南开:[117.15,39.13],河北:[117.18,39.15],红桥:[117.15,39.17],塘沽:[117.65,39.02],汉沽:[117.8,39.25],大港:[117.45,38.83],东丽:[117.3,39.08],西青:[117,39.13],津南:[117.38,38.98],北辰:[117.13,39.22],武清:[117.03,39.38],宝坻:[117.3,39.72],宁河:[117.82,39.33],静海:[116.92,38.93],蓟县:[117.4,40.05]},o=[{name:"和平",value:199},{name:"河东",value:39},{name:"河西",value:152},{name:"南开",value:299},{name:"河北",value:89},{name:"红桥",value:52},{name:"塘沽",value:9},{name:"汉沽",value:352},{name:"大港",value:99},{name:"东丽",value:39},{name:"西青",value:480},{name:"津南",value:481},{name:"北辰",value:482},{name:"武清",value:483},{name:"宝坻",value:484},{name:"宁河",value:485},{name:"静海",value:486},{name:"蓟县",value:487}],l=480,n=9,m=100,i=20,r=function(e){for(var a=[],t=0;t<e.length;t++){var s=f[e[t].name];s&&a.push({name:e[t].name,value:s.concat(e[t].value)})}return a};option={title:{text:"“大数据” - 天津市",subtext:"",x:"center",textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:function(e){return typeof e.value[2]>"u"?e.name+" : "+e.value:e.name+" : "+e.value[2]}},legend:{orient:"vertical",y:"bottom",x:"right",data:["credit_pm2.5"],textStyle:{color:"#fff"}},visualMap:{show:!1,min:0,max:500,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#0f0c29","#302b63","#24243e"]}},geo:{show:!0,map:"tianjin",label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"credit_pm2.5",type:"scatter",coordinateSystem:"geo",data:r(o),symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:"tianjin",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:o},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var a=(m-i)/(l-n),t=i-a*n;return t=m-a*l,a*e[2]+t},label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:9}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:r(o)},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:r(o.sort(function(e,a){return a.value-e.value}).slice(0,5)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#05C3F9",shadowBlur:10,shadowColor:"#05C3F9"}},zlevel:1}]},myChart.setOption(option)});
