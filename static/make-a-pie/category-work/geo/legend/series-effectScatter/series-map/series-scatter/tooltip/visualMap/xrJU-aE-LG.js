var nameColor=" rgb(255, 215, 0)",name_fontFamily="宋体",name_fontSize=35,mapName="china",data=[{name:"陕西",value:145},{name:"甘肃",value:66},{name:"青海",value:24},{name:"宁夏回族自治区",value:1},{name:"新疆",value:10006}],geoCoordMap={},mapFeatures=echarts.getMap(mapName).geoJson.features;mapFeatures.forEach(function(e){console.info(e);var a=e.properties.name;geoCoordMap[a]=e.properties.cp});var max=480,min=9,maxSize4Pin=150,minSize4Pin=20,convertData=function(e){for(var a=[],o=0;o<e.length;o++){var r=geoCoordMap[e[o].name];r&&a.push({name:e[o].name,value:r.concat(e[o].value)})}return a};option={tooltip:{trigger:"item",formatter:function(e){return typeof e.value[2]>"u"?e.name+" : "+e.value:e.name+" : "+e.value[2]}},legend:{orient:"vertical",y:"bottom",x:"right",data:["credit_pm2.5"],textStyle:{color:"#fff"}},visualMap:{show:!0,min:0,max:500,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#00467F","#A5CC82"]}},geo:{show:!0,map:mapName,label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#097bba"},emphasis:{areaColor:"red"}}},series:[{name:"散点",type:"effectScatter",coordinateSystem:"geo",data:convertData(data),symbolSize:function(e){return 10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:mapName,geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:convertData(data.sort(function(e,a){return a.value-e.value}).slice(0,5)),symbolSize:function(e){return 20},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!1}},itemStyle:{normal:{color:"blue",shadowBlur:10,shadowColor:"black"}},zlevel:1}]},myChart.setOption(option),window.onresize=function(){myChart.resize()};
