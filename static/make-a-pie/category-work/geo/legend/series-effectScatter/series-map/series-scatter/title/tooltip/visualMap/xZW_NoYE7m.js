var uploadedDataURL="/asset/get/s/data-1519279347346-BkslpCjwf.json";myChart.showLoading(),$.getJSON(uploadedDataURL,function(u){echarts.registerMap("anhui",u),myChart.hideLoading();var s={合肥市:[117.37,31.786],六安市:[116.27,31.786],滁州市:[118.07,32.486],蚌埠市:[117.27,33.086],淮南市:[116.67,32.786],宿州市:[117.77,33.486],淮北市:[116.67,33.686],亳州市:[116.27,33.386],阜阳市:[115.57,32.986],安庆市:[116.47,30.486],池州市:[117.47,30.386],黄山市:[118.17,29.886],宣城市:[119.27,30.916],芜湖市:[118.17,31.186],马鞍山市:[118.47,31.616],铜陵市:[117.87,30.956]},o=[{name:"合肥市",value:1715},{name:"六安市",value:208},{name:"滁州市",value:261},{name:"蚌埠市",value:268},{name:"淮南市",value:668},{name:"宿州市",value:219},{name:"淮北市",value:252},{name:"亳州市",value:208},{name:"阜阳市",value:318},{name:"安庆市",value:688},{name:"池州市",value:315},{name:"黄山市",value:117},{name:"宣城市",value:545},{name:"芜湖市",value:272},{name:"马鞍山市",value:231},{name:"铜陵市",value:34}],l=1800,n=0,m=100,i=20,r=function(e){for(var a=[],t=0;t<e.length;t++){var v=s[e[t].name];v&&a.push({name:e[t].name,value:e[t].value})}return a};option={title:{text:"",subtext:"",x:"center",textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:function(e){return typeof e.value[2]>"u"?e.name+" : "+e.value:e.name+" : "+e.value[2]}},legend:{orient:"vertical",y:"bottom",x:"right",data:["credit_pm2.5"],textStyle:{color:"#fff"}},visualMap:{show:!0,min:0,max:500,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#00467F","#A5CC82"]}},geo:{show:!0,map:"anhui",label:{normal:{show:!0},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"credit_pm2.5",type:"scatter",coordinateSystem:"geo",data:r(o),symbolSize:function(e){return e[2]/10},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:"anhui",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!0,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!0,data:o},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var a=(m-i)/(l-n),t=i-a*n;return t=m-a*l,a*e[2]+t},label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:9}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:r(o)},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:r(o.sort(function(e,a){return a.value-e.value}).slice(0,5)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#05C3F9",shadowBlur:10,shadowColor:"#05C3F9"}},zlevel:1}]},myChart.setOption(option)});
