var geoCoordMap={"港区1-作业中":[102.95,36.27],"港区1-等待作业":[100.95,36.27],"港区1-已完成":[100.95,34.27],"港区1-逾期":[102.95,34.27],"港区2-等待作业":[120.78,32.04],"港区2-作业中":[122.78,32.04],"港区2-已完成":[120.78,30.04],"港区2-逾期":[122.78,30.04]},data=[{name:"港区1-等待作业",value:[0,111]},{name:"港区2-等待作业",value:[0,89]},{name:"港区1-作业中",value:[1,42]},{name:"港区2-作业中",value:[1,22]},{name:"港区1-已完成",value:[2,86]},{name:"港区2-已完成",value:[2,34]}],overduedata=[{name:"港区1-逾期",value:[3,11]},{name:"港区2-逾期",value:[3,110]}],convertData=function(t){for(var o=[],e=0;e<t.length;e++){var a=geoCoordMap[t[e].name];a&&o.push({name:t[e].name,value:a.concat(t[e].value[0])})}return o};option={backgroundColor:"#404a59",title:{text:"船舶作业情况",subtext:"淡蓝色-等待作业；黄色-作业中；绿色-完成作业；红色-逾期未完成；",sublink:"http://www.alipay.com",left:"left",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:function(t){for(var o="",e=0;e<data.length;e++)t.name==data[e].name&&(o+=data[e].name+":<br>",o+=data[e].value[1]);for(var a=0;a<overduedata.length;a++)t.name==overduedata[a].name&&(o+=overduedata[a].name+":<br>",o+=overduedata[a].value[1]);return o}},legend:{orient:"vertical",y:"bottom",x:"right",data:["pm2.5"],textStyle:{color:"#fff"}},visualMap:{min:0,max:3,calculable:!0,color:["#ff3333","orange","yellow","lime","aqua"],textStyle:{color:"#fff"}},geo:{map:"china",show:!0,label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#323c48",borderColor:"#111"},emphasis:{areaColor:"#2a333d"}}},series:[{name:"散点：",type:"scatter",coordinateSystem:"geo",data:convertData(data),symbolSize:function(t){return 15},label:{normal:{formatter:"{b}",position:"bottom",show:!0}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:4},{name:"船舶作业逾期情况：",type:"effectScatter",coordinateSystem:"geo",data:convertData(overduedata),symbolSize:function(t,o){for(var e=15,a=0;a<overduedata.length;a++)o.name==overduedata[a].name&&overduedata[a].value[1]==0&&(e=0);return e},showEffectOn:"render",rippleEffect:{period:1,brushType:"stroke",scale:3},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"bottom",show:!0}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]};
