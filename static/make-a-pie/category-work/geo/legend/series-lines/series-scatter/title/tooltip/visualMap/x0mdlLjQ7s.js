var jiangsu="/asset/get/s/data-1528969864934-BJ-qchkWQ.json";$.get(jiangsu,function(u){echarts.registerMap("jiangsu",u),myChart.setOption({series:[{type:"map",map:"jiangsu"}]});var o={南京:[118.8062,31.9208],无锡:[120.3442,31.5527],徐州:[117.5208,34.3268],常州:[119.4543,31.5582],苏州:[120.6519,31.3989],南通:[121.1023,32.1625],连云港:[119.1248,34.552],淮安:[118.927,33.4039],盐城:[120.2234,33.5577],扬州:[119.4653,32.8162],镇江:[119.4763,31.9702],泰州:[120.0586,32.5525],宿迁:[118.5535,33.7775]},l=[{name:"苏州",value:32689},{name:"徐州",value:24084},{name:"宿迁",value:20878},{name:"扬州",value:18907},{name:"淮安",value:18755},{name:"常州",value:18544},{name:"镇江",value:17152},{name:"南通",value:16921},{name:"无锡",value:15592},{name:"盐城",value:15189},{name:"连云港",value:13950},{name:"泰州",value:10870}],n=0;l.forEach(function(e,t){n+=e.value});var h=[{name:"常州",value:75},{name:"南通",value:95}],c="arrow",v=function(e,t){for(var a=[],r=0;r<t.length;r++){var i=o[e],m=o[t[r].name];i&&m&&a.push({coords:[i,m]})}return a},s=[];[["南京",l]].forEach(function(e,t){s.push({name:e[0],type:"lines",zlevel:2,effect:{show:!0,period:6,trailLength:.1,symbol:c,symbolSize:10},lineStyle:{normal:{width:1,opacity:.4,curveness:.2,color:"#9B2428"}},data:v(e[0],e[1])},{name:e[0],type:"scatter",coordinateSystem:"geo",zlevel:2,label:{normal:{show:!0,color:"#9B2428",position:"right",formatter:"{b}"}},symbol:"circle",symbolSize:function(a){return a[2]*100/n},itemStyle:{normal:{show:!0}},data:e[1].map(function(a){return console.log(a),{name:a.name,value:o[a.name].concat([a.value])}})},{name:"item[0]",type:"scatter",coordinateSystem:"geo",zlevel:2,label:{normal:{show:!0,position:"right",formatter:"{b}"}},symbolSize:function(a){return 25},symbol:"circle",itemStyle:{normal:{show:!0}},data:[{name:e[0],value:o[e[0]].concat([100])}]})}),option={backgroundColor:"#FDF7F2",title:{text:"江苏迁徙",subtext:"",left:"center",textStyle:{color:"#9B2428"}},legend:{orient:"vertical",top:"bottom",left:"right",data:["南京","徐州"],textStyle:{color:"#9B2428"},selectedMode:"single"},tooltip:{trigger:"item",formatter:"{b}"},visualMap:{show:!1,min:0,max:100,color:["#9B2428"]},geo:{map:"jiangsu",zoom:1,label:{normal:{show:!1,textStyle:{color:"#9B2428"}},emphasis:{textStyle:{color:"#9B2428"}}},roam:!0,itemStyle:{normal:{borderColor:"#D14424",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"#FDF0B8"},{offset:1,color:"#FDF0B8"}],globalCoord:!1},shadowColor:"#E9777B",shadowOffsetX:-1,shadowOffsetY:1,shadowBlur:5},emphasis:{areaColor:"#D55E2C",borderWidth:0}}},series:s},myChart.setOption(option)});
