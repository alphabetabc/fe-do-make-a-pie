var zhejiang="/asset/get/s/data-1552300468249-1A6iNBDzr.json",hangzhou="/asset/get/s/data-1552306436743-6IvidUuf8.json",lishui="/asset/get/s/data-1552304377731-hBk4tI6P8.json",taizhou="/asset/get/s/data-1552304383873-8TNhaRAKi.json",jiaxing="/asset/get/s/data-1552304388621-ZawXcKioP.json",ningbo="/asset/get/s/data-1552304399303-fv_qbJRGW.json",wenzhou="/asset/get/s/data-1552304406636-NdRoCnVje.json",huzhou="/asset/get/s/data-1552304414096-p9L96VBi6.json",shaoxing="/asset/get/s/data-1552304423507-U8oVwHjin.json",zhoushan="/asset/get/s/data-1552304433864-UuwaorA85.json",quzhou="/asset/get/s/data-1552304439070-KXz5oS6ZD.json",jinhua="/asset/get/s/data-1552304443667-8N-iEltWd.json";echarts.extendsMap=function(v,o){var n=this.init(document.getElementById(v)),p={},u={温州市:wenzhou,绍兴市:shaoxing,宁波市:ningbo,湖州市:huzhou,台州市:taizhou,杭州市:hangzhou,衢州市:quzhou,舟山市:zhoushan,丽水市:lishui,金华市:jinhua,嘉兴市:jiaxing},x={杭州:[120.19,30.26],丽水:[119.92,28.45],台州:[121.420757,28.656386],嘉兴:[120.76,30.77],宁波:[121.56,29.86],温州:[120.65,28.01],湖州:[120.1,30.86],绍兴:[120.58,30.01],舟山:[122.207216,29.985295],衢州:[118.88,28.97],金华:[119.64,29.12]},b={1:"rgba(241, 109, 115, .8)",2:"rgba(255, 235, 59, .7)",3:"rgba(147, 235, 248, 1)"},C={mapName:"china",goDown:!1,bgColor:"#404a59",activeArea:[],data:[],callback:function(e,t,a){}};o&&(o=this.util.extend(C,o));var f=[o.mapName],g=0,i={leftPlus:115,leftCur:150,left:198,top:50},m=[[0,0],[8,11],[0,22]],c={font:'18px "Microsoft YaHei", sans-serif',textColor:"#eee",lineColor:"rgba(147, 235, 248, .8)"},l={resetOption:function(e,t,a){var r=this.createBreadcrumb(a),h=f.indexOf(a),y=t.graphic.length;if(h<0){if(t.graphic.push(r),t.graphic[0].children[0].shape.x2=145,t.graphic[0].children[1].shape.x2=145,t.graphic.length>2)for(var d=0;d<o.data.length;d++)if(a===o.data[d].name+"市"){t.series[0].data=l.initSeriesData([o.data[d]]);break}else t.series[0].data=[];f.push(a),g++}else t.graphic.splice(h+2,y),t.graphic.length<=2&&(t.graphic[0].children[0].shape.x2=60,t.graphic[0].children[1].shape.x2=60,t.series[0].data=l.initSeriesData(o.data)),f.splice(h+1,y),g=h,i.leftCur-=i.leftPlus*(y-h-1);t.geo.map=a,t.geo.zoom=.4,e.clear(),e.setOption(t),this.zoomAnimation(),o.callback(a,t,e)},createBreadcrumb:function(e){var t={温州市:"wenzhou",绍兴市:"shaoxing",宁波市:"ningbo",湖州市:"huzhou",台州市:"taizhou",杭州市:"yingtan",衢州市:"quzhou",舟山市:"zhoushan",丽水市:"lishui",金华市:"jinhua",嘉兴市:"jiaxing"},a={type:"group",id:e,left:i.leftCur+i.leftPlus,top:i.top+3,children:[{type:"polyline",left:-90,top:-5,shape:{points:m},style:{stroke:"#fff",key:e},onclick:function(){var r=this.style.key;l.resetOption(n,s,r)}},{type:"text",left:-68,top:"middle",style:{text:e,textAlign:"center",fill:c.textColor,font:c.font},onclick:function(){var r=this.style.text;l.resetOption(n,s,r)}},{type:"text",left:-68,top:10,style:{name:e,text:t[e]?t[e].toUpperCase():"",textAlign:"center",fill:c.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){var r=this.style.name;l.resetOption(n,s,r)}}]};return i.leftCur+=i.leftPlus,a},initSeriesData:function(e){for(var t=[],a=0;a<e.length;a++){var r=x[e[a].name];r&&t.push({name:e[a].name,value:r.concat(e[a].value,e[a].level)})}return t},zoomAnimation:function(){var e=null,t=function(a){e||(e=a),e=e+a,n.setOption({geo:{zoom:e}}),e<1&&window.requestAnimationFrame(function(){t(.2)})};window.requestAnimationFrame(function(){t(.3)})}},s={backgroundColor:o.bgColor,title:{text:"浙江平台",subtext:"",x:"center",textStyle:{color:"#ccc"}},graphic:[{type:"group",left:i.left,top:i.top-4,children:[{type:"line",left:0,top:-20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:c.lineColor}},{type:"line",left:0,top:20,shape:{x1:0,y1:0,x2:60,y2:0},style:{stroke:c.lineColor}}]},{id:f[g],type:"group",left:i.left+2,top:i.top,children:[{type:"polyline",left:90,top:-12,shape:{points:m},style:{stroke:"transparent",key:f[0]},onclick:function(){var e=this.style.key;l.resetOption(n,s,e)}},{type:"text",left:0,top:"middle",style:{text:f[0]==="浙江"?"浙江省":f[0],textAlign:"center",fill:c.textColor,font:c.font},onclick:function(){l.resetOption(n,s,"浙江")}},{type:"text",left:0,top:10,style:{text:"ZHEJIANG",textAlign:"center",fill:c.textColor,font:'12px "Microsoft YaHei", sans-serif'},onclick:function(){l.resetOption(n,s,"浙江")}}]}],geo:{map:o.mapName,zoom:1,label:{normal:{show:!0,textStyle:{color:"#fff"}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"#fff",borderWidth:.5,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:5},emphasis:{areaColor:"#302b63",borderWidth:0}},regions:o.activeArea.map(function(e){return typeof e!="string"?{name:e.name,itemStyle:{normal:{areaColor:e.areaColor||"#389BB7"}},label:{normal:{show:e.showLabel,textStyle:{color:"#fff"}}}}:{name:e,itemStyle:{normal:{borderColor:"#91e6ff",areaColor:"#389BB7"}}}})},series:[{type:"effectScatter",coordinateSystem:"geo",showEffectOn:"render",rippleEffect:{period:15,scale:6,brushType:"fill"},hoverAnimation:!0,itemStyle:{normal:{color:function(e){return b[e.value[3]]},shadowBlur:10,shadowColor:"#333"}},data:l.initSeriesData(o.data)}]};return n.setOption(s),n.on("click",function(e){var t=this;if(o.goDown&&e.name!==f[g]&&u[e.name]){var a=u[e.name];$.get(a,function(r){p=r,echarts.registerMap(e.name,r),l.resetOption(t,s,e.name)})}}),n.setMap=function(e){var t=this;e.indexOf("市")<0&&(e=e+"市");var a=u[e];if(a){var r="./map/"+a+".json";$.get(r,function(h){p=h,echarts.registerMap(e,h),l.resetOption(t,s,e)})}},n},$.getJSON(zhejiang,function(v){echarts.registerMap("浙江",v);var o=echarts.extendsMap("chart-panel",{bgColor:"#1b284a",mapName:"浙江",goDown:!0,callback:function(n,p,u){console.log(n,p,u)},data:[{name:"杭州",value:10,level:1},{name:"金华",value:12,level:2},{name:"萍乡",value:34,level:1},{name:"台州",value:16,level:3},{name:"宁波",value:12,level:2}]})});
