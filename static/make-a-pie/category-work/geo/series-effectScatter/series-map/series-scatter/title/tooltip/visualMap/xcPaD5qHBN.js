var uploadedDataURL="/asset/get/s/data-1634526956327-oeoy5N0nW.geoJson";myChart.showLoading(),$.getJSON(uploadedDataURL,function(u){echarts.registerMap("shanghai",u),myChart.hideLoading();var f={黄浦区:[121.483572,31.215946],徐汇区:[121.439405,31.162992],长宁区:[121.380949,31.20737],静安区:[121.450659,31.270821],普陀区:[121.392042,31.257895],虹口区:[121.485443,31.276649],杨浦区:[121.529302,31.29835],闵行区:[121.418901,31.087213],宝山区:[121.404861,31.392111],嘉定区:[121.24439,31.358138],浦东新区:[121.742177,31.083823],金山区:[121.255144,30.818932],松江区:[121.220231,31.015194],青浦区:[121.085188,31.124681],奉贤区:[121.56251,30.897998],崇明区:[121.568484,31.635916]},r=[{name:"黄浦区",value:11},{name:"徐汇区",value:4},{name:"长宁区",value:22},{name:"静安区",value:14},{name:"普陀区",value:19},{name:"虹口区",value:7},{name:"杨浦区",value:14},{name:"闵行区",value:22},{name:"宝山区",value:17},{name:"嘉定区",value:36},{name:"浦东新区",value:45},{name:"金山区",value:43},{name:"松江区",value:23},{name:"青浦区",value:17},{name:"奉贤区",value:32},{name:"崇明区",value:53}],t=480,l=9,n=100,s=20,m=function(e){for(var a=[],o=0;o<e.length;o++){var i=f[e[o].name];i&&a.push({name:e[o].name,value:i.concat(e[o].value)})}return a};option={backgroundColor:"#1D346F",title:{text:"",subtext:"",x:"center",textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:function(e){return typeof e.value[2]>"u"?e.name+" : "+e.value:e.name+" : "+e.value[2]}},visualMap:{show:!1,min:0,max:500,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#1488CC","#2B32B2"]}},geo:{show:!0,map:"shanghai",label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#1D346F",borderWidth:0,shadowColor:"#23074d",shadowBlur:30,shadowOffsetX:-2,shadowOffsetY:5},emphasis:{areaColor:"#2a333d"}}},series:[{type:"map",map:"shanghai",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#1D346F",borderColor:"#D79D3D"},emphasis:{areaColor:"#0f2c70"}},animation:!1,data:r},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){var a=(n-s)/(t-l),o=s-a*l;return o=n-a*t,a*e[2]+o},label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:9},formatter(e){return e.data.value[2]}}},itemStyle:{normal:{areaColor:"#1D346F",borderColor:"#D79D3D"},emphasis:{areaColor:"#0f2c70"}},data:m(r),showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,zlevel:6},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:m(r.sort(function(e,a){return a.value-e.value}).slice(0,11)),symbolSize:function(e){return e[2]/10},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{areaColor:"#1D346F",borderColor:"#D79D3D"},emphasis:{areaColor:"#0f2c70"}},zlevel:1}]},myChart.setOption(option)});
