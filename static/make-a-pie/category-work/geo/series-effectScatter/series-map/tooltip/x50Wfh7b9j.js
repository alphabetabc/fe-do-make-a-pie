var uploadedDataURL="https://geo.datav.aliyun.com/areas_v3/bound/320117.json";myChart.showLoading();var colorList=["rgba(34, 222, 81, 1)","rgba(255, 210, 0, 1)"];$.getJSON(uploadedDataURL,function(r){echarts.registerMap("nanjing",r),myChart.hideLoading();var n={明觉支行:[118.89945,31.57325],群力支行:[119.02001,31.74368],在城支行:[119.038417,31.661258],柘塘支行:[118.928829,31.761365],开发区支行:[119.037774,31.681536],秦淮支行:[119.050675,31.657801],乌山支行:[118.976787,31.735993],宝塔路支行:[119.024971,31.679448]},l=[{name:"明觉支行",data1:"1",value:149},{name:"群力支行",data1:"2",value:0},{name:"在城支行",data1:"1",value:0},{name:"柘塘支行",data1:"1",value:0},{name:"开发区支行",data1:"1",value:0},{name:"秦淮支行",data1:"1",value:0},{name:"乌山支行",data1:"1",value:0},{name:"宝塔路支行",data1:"1",value:0}],i=function(e){for(var a=[],t=0;t<e.length;t++){var o=n[e[t].name];o&&a.push({name:e[t].name,value:o.concat(e[t].value),typeDataVlaue:e[t].data1})}return a};option={backgroundColor:"rgba(90, 198, 245, 0.3);",tooltip:{trigger:"item",backgroundColor:"transparent",formatter:function(e){if(e.name=="溧水区")return;let a="";return e.data.typeDataVlaue=="1"?a+=`
              <div style="text-align: center;width: 132px;height: 26px;border: 2px solid #19F402;transform: skewX(-20deg);background: linear-gradient(-90deg, #19F402 0%, #138D07 100%);opacity: 0.7;border-radius: 2px;">
              <span style="font-size: 15px;font-family: Microsoft YaHei;font-weight: bold;color: #FFFFFF; line-height: 4px;display: inline-block;transform: skewX(20deg);">${e.name}(${e.value[2]})</span>
              </div>
              `:e.data.typeDataVlaue=="2"&&(a+=`
              <div style="text-align: center;width: 132px;height: 26px;border: 2px solid #feff00;transform: skewX(-20deg);background: linear-gradient(-90deg, #ffd200 0%, #fff600 100%);opacity: 0.8;border-radius: 2px;">
              <span style="font-size: 15px;font-family: Microsoft YaHei;font-weight: bold;color: #6C530B; line-height: 4px;display: inline-block;transform: skewX(20deg);">${e.name}(${e.value[2]})</span>
              </div>
              `),a}},geo:{show:!0,map:"nanjing",geoIndex:-1,zoom:1.25,selectedMode:!0,aspectScale:.9,hoverAnimation:!0,label:{normal:{show:!1},emphasis:{show:!1}},roam:!1,itemStyle:{normal:{label:{show:!1}},emphasis:{label:{show:!1}}}},series:[{type:"effectScatter",coordinateSystem:"geo",data:i(l),hoverAnimation:!1,aspectScale:.9,symbolSize:[20,20],label:{normal:{formatter(e){if(e.data.typeDataVlaue=="1")return"{a|"+e.data.name[0]+"}";if(e.data.typeDataVlaue=="2")return"{b|"+e.data.name[0]+"}"},show:!0,rich:{a:{color:"#053319",fontFamily:"Microsoft YaHei",fontWeight:"bold",fontSize:15},b:{color:"#6C530B",fontFamily:"Microsoft YaHei",fontWeight:"bold",fontSize:15}}}},itemStyle:{normal:{color:e=>{if(console.log(e),e.data.typeDataVlaue=="1")return"rgba(26, 244, 8, 1)";if(e.data.typeDataVlaue=="2")return"rgba(255, 246, 0, 1)"}}}},{type:"map",mapType:"nanjing",animation:!1,hoverAnimation:!0,zoom:1.25,aspectScale:.9,selectedMode:!1,itemStyle:{normal:{label:{show:!1},borderWidth:2,borderColor:"#01D6F8",areaColor:"rgba(1, 199, 243, .3)"},emphasis:{label:{show:!1,color:"#fff",fontSize:"18px"},borderWidth:2,borderColor:"#01D6F8",areaColor:"rgba(1, 199, 243, .3)"}}}]},myChart.setOption(option)});
