var uploadedDataURL="/asset/get/s/data-1605510661041-oDutJVlSC.json",nameMap="山东省";window.dataList=[{name:"济南市",value:396},{name:"青岛市",value:66},{name:"烟台市",value:222},{name:"潍坊市",value:688},{name:"菏泽市",value:75},{name:"日照市",value:121},{name:"威海市",value:91},{name:"枣庄市",value:479},{name:"临沂市",value:34},{name:"滨州市",value:631},{name:"东营市",value:1203},{name:"淄博市",value:988},{name:"泰安市",value:693},{name:"聊城市",value:934},{name:"济宁市",value:748},{name:"德州市",value:1267}];var geoCoordMap={},convertData=function(a){console.log("data",a);for(var r=[],t=0;t<a.length;t++){var e=geoCoordMap[a[t].name];e&&r.push({name:a[t].name,value:e.concat(a[t].value)})}return console.log("res",r),r};let textStyle={};textStyle.textBorderColor="red",textStyle.textBorderType="solid",textStyle.textBorderWidth=5,textStyle.fontSize=16,textStyle.fontWeight="bolder",textStyle.color="#ddd",$.get(uploadedDataURL,function(a){debugger;echarts.registerMap(nameMap,a),myChart.showLoading();var r=echarts.getMap(nameMap).geoJson.features;myChart.hideLoading(),r.forEach(function(e){var o=e.properties.name;geoCoordMap[o]=e.properties.center}),console.log(geoCoordMap);var t={title:{text:"地图",top:"2%",textStyle:{color:"#000",fontSize:16}},visualMap:[{min:0,max:1e3,show:!1,realtime:!1,calculable:!1,seriesIndex:[0],inRange:{color:["rgb(202,249,130)","rgb(129,211,248)","rgb(255,255,128)","rgb(128,255,255)","rgb(0,255,255)","rgb(128,128,255)","rgb(236,128,141)","rgb(194,128,255)","rgb(245,154,35)","rgb(112,182,3)","rgb(0,182,128)","rgb(99,0,191)"]}},{min:0,max:1e3,seriesIndex:1,show:!0,splitNumber:4,right:"2%",inRange:{color:["#FF6464","#FFA85A","#FFEC6F","#8BBCFE"].reverse()},formatter:function(e){return""}}],geo:{map:nameMap,show:!1,roam:!0,label:{normal:{color:"#ddd",show:!0},emphasis:{show:!1}}},series:[{type:"map",map:nameMap,itemStyle:{show:!0,color:"#ddd"},label:{normal:{show:!0,formatter:"{b}",position:"right",textStyle}},data:window.dataList},{type:"effectScatter",coordinateSystem:"geo",symbol:"circle",symbolSize:10,label:{emphasis:{show:!0},normal:{show:!0,position:"right",textStyle,formatter(e){return e.data.value[2]}}},rippleEffect:{period:4,brushStyle:"stroke",scale:4},itemStyle:{normal:{show:!0,color:"#ddd"}},zlevel:2,data:convertData(window.dataList)}]};myChart.setOption(t,!0)});
