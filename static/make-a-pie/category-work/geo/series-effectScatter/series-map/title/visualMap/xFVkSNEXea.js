var hzmap="https://geo.datav.aliyun.com/areas_v2/bound/510100_full.json",yhmap="https://geo.datav.aliyun.com/areas_v2/bound/510181.json",xsmap="https://geo.datav.aliyun.com/areas_v2/bound/510182.json",xhmap="https://geo.datav.aliyun.com/areas_v2/bound/510184.json",xcmap="https://geo.datav.aliyun.com/areas_v2/bound/510115.json",tlmap="https://geo.datav.aliyun.com/areas_v2/bound/510117.json",scmap="https://geo.datav.aliyun.com/areas_v2/bound/510114.json",lamap="https://geo.datav.aliyun.com/areas_v2/bound/510113.json",jgmap="https://geo.datav.aliyun.com/areas_v2/bound/510121.json",jdmap="https://geo.datav.aliyun.com/areas_v2/bound/510112.json",gsmap="https://geo.datav.aliyun.com/areas_v2/bound/510108.json",fymap="https://geo.datav.aliyun.com/areas_v2/bound/510106.json",camap="https://geo.datav.aliyun.com/areas_v2/bound/510105.json",bjmap="https://geo.datav.aliyun.com/areas_v2/bound/510104.json",whmap="https://geo.datav.aliyun.com/areas_v2/bound/510107.json",slmap="https://geo.datav.aliyun.com/areas_v2/bound/510116.json",dyxmap="https://geo.datav.aliyun.com/areas_v2/bound/510129.json",qxsmap="https://geo.datav.aliyun.com/areas_v2/bound/510183.json",pjxmap="httpshttps://geo.datav.aliyun.com/areas_v2/bound/510131.json",xjqmap="httpshttps://geo.datav.aliyun.com/areas_v2/bound/510118.json",jysmap="https://geo.datav.aliyun.com/areas_v2/bound/510185.json",mapname=hzmap,mapJson=[{name:"简阳市",json:jysmap},{name:"新津区",json:xjqmap},{name:"蒲江县",json:pjxmap},{name:"邛崃市",json:qxsmap},{name:"大邑县",json:dyxmap},{name:"双流区",json:slmap},{name:"武侯区",json:whmap},{name:"锦江区",json:bjmap},{name:"青羊区",json:camap},{name:"金牛区",json:fymap},{name:"成华区",json:gsmap},{name:"龙泉驿区",json:jdmap},{name:"金堂县",json:jgmap},{name:"青白江区",json:lamap},{name:"新都区",json:scmap},{name:"郫都区",json:tlmap},{name:"温江区",json:xcmap},{name:"崇州市",json:xhmap},{name:"彭州市",json:xsmap},{name:"都江堰市",json:yhmap}],mapDate=[{name:"江干区",value:[120.185,30.274,29999]},{name:"拱墅区",value:[120.182,30.351,29999]},{name:"西湖区",value:[120.091,30.27,29999]},{name:"滨江区",value:[120.21,30.209,29999]},{name:"萧山区",value:[120.254,30.159,29999]},{name:"余杭区",value:[120.295,30.427,29999]},{name:"富阳区",value:[119.956,30.05,29999]},{name:"桐庐县",value:[119.675,29.784,29999]},{name:"淳安县",value:[119.058,29.613,29999]},{name:"建德市",value:[119.28,29.464,29999]},{name:"临安区",value:[119.712,30.227,29999]},{name:"钱塘新区",value:[120.485,30.284,29999]}];myChart.showLoading();let index=-1;var timer=setInterval(function(){myChart.dispatchAction({type:"hideTip",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:index+1}),myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:index+1}),index++,index>13&&(index=-1)},2e3);myChart.on("mousemove",function(a){clearInterval(timer),myChart.dispatchAction({type:"downplay",seriesIndex:0}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:a.dataIndex}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:a.dataIndex})}),myChart.on("mouseout",function(a){clearInterval(timer),myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:a.dataIndex}),timer=setInterval(function(){myChart.dispatchAction({type:"hideTip",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:index+1}),myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:index}),myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:index+1}),index++,index>13&&(index=-1)},2e3)}),myChart.on("click",function(a){console.log(a);var e=mapJson.filter(o=>o.name==a.name);console.log(e),mapname=e[0].json,console.log(mapname,"选择地图"),mapDate=[],$('<div class="back">返回成都市</div>').appendTo($("#chart-panel")),$(".back").css({position:"absolute",left:"17px",top:"25px",color:"rgb(222,222,222)","font-size":"15px",cursor:"pointer","z-index":"100"}),$(".back").click(function(){mapname=hzmap,mapDate=[{name:"江干区",value:[120.185,30.274,29999]},{name:"拱墅区",value:[120.182,30.351,29999]},{name:"西湖区",value:[120.091,30.27,29999]},{name:"滨江区",value:[120.21,30.209,29999]},{name:"萧山区",value:[120.254,30.159,29999]},{name:"余杭区",value:[120.295,30.427,29999]},{name:"富阳区",value:[119.956,30.05,29999]},{name:"桐庐县",value:[119.675,29.784,29999]},{name:"淳安县",value:[119.058,29.613,29999]},{name:"建德市",value:[119.28,29.464,29999]},{name:"临安区",value:[119.712,30.227,29999]},{name:"钱塘新区",value:[120.485,30.284,29999]}],$(".back").css({position:"absolute",left:"17px",top:"-25px",color:"rgb(222,222,222)","font-size":"15px",cursor:"pointer","z-index":"100"}),mapInit()}),mapInit()}),setTimeout(function(){mapInit()},1e3);var mapInit=()=>{console.log("我来了",mapname),$.getJSON(mapname,function(a){echarts.registerMap("hanzhou",a),myChart.hideLoading(),option={backgroundColor:"#020933",title:{top:20,text:"成都市房价分布图",subtext:"",x:"center",textStyle:{color:"#ccc"}},visualMap:{min:0,max:1e6,right:100,seriesIndex:1,type:"piecewise",bottom:100,textStyle:{color:"#FFFF"},splitList:[]},geo:{map:"hanzhou",aspectScale:.75,zoom:1.1,roam:!1,itemStyle:{normal:{areaColor:"#013C62",shadowColor:"#182f68",shadowOffsetX:0,shadowOffsetY:25},emphasis:{areaColor:"#2AB8FF",borderWidth:0,color:"green",label:{show:!1}}}},series:[{type:"map",roam:!0,label:{normal:{show:!0,textStyle:{color:"#fff"}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"#2ab8ff",borderWidth:1.5,areaColor:"#12235c"},emphasis:{areaColor:"#2AB8FF",borderWidth:0,color:"green"}},zoom:1.1,roam:!1,map:"hanzhou"},{type:"effectScatter",coordinateSystem:"geo",showEffectOn:"render",rippleEffect:{period:15,scale:4,brushType:"fill"},hoverAnimation:!0,itemStyle:{normal:{color:"#ffff",shadowBlur:10,shadowColor:"#333"}},data:mapDate}]},myChart.setOption(option)})};
