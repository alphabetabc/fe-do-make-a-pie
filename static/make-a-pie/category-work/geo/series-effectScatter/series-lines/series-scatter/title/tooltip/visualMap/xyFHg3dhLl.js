var chinaGeoCoordMap={"成都42%":[104.075045,30.663774],绵阳市:[104.689584,31.476866],"重庆25%":[106.55408,29.578697],"西安7%":[108.94113,34.352069],"北京6%":[116.382836,39.926047],"兰州6%":[103.799085,36.114321],"武汉4%":[114.285544,30.65433],"贵阳3%":[106.669064,26.696559],"广州2%":[113.218501,23.2084522],"南京2%":[118.802027,32.095359],"上海1%":[121.423696,31.320051]},chinaDatas=[[{name:"成都42%",value:.42}],[{name:"重庆25%",value:.25}],[{name:"西安7%",value:.07}],[{name:"北京6%",value:.06}],[{name:"兰州6%",value:.06}],[{name:"武汉4%",value:.04}],[{name:"贵阳3%",value:.03}],[{name:"广州2%",value:.02}],[{name:"南京2%",value:.002}],[{name:"上海1%",value:.001}]],convertData=function(e){for(var r=[],a=0;a<e.length;a++){var o=e[a],l=chinaGeoCoordMap[o[0].name],t=[104.689584,31.476866];l&&t&&r.push([{coord:l,value:o[0].value},{coord:t}])}return r},series=[];[["绵阳市",chinaDatas]].forEach(function(e,r){console.log(e),series.push({type:"lines",zlevel:1,effect:{show:!0,period:3,trailLength:.02,symbol:"arrow",symbolSize:5},lineStyle:{normal:{width:2,opacity:1,curveness:.1}},data:convertData(e[1])},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:2,brushType:"stroke",scale:2},label:{normal:{show:!0,position:"right",offset:[70,0],formatter:function(a){return a.data.name},fontSize:20,zlevel:1,padding:[0,0,-100,-155]},emphasis:{show:!0}},symbol:"circle",symbolSize:function(a){return 20+a[2]*50},itemStyle:{normal:{show:!1,color:"#f00"}},data:e[1].map(function(a){return{name:a[0].name,value:chinaGeoCoordMap[a[0].name].concat([a[0].value])}})},{type:"scatter",coordinateSystem:"geo",zlevel:1,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",color:"#0f0",formatter:"{b}",textStyle:{color:"#f0",fontSize:20}},emphasis:{show:!0,color:"#f60"}},symbol:"pin",symbolSize:50,data:[{name:e[0],value:chinaGeoCoordMap[e[0]].concat([10])}]})}),option={tooltip:{trigger:"item",backgroundColor:"rgba(166, 200, 76, 0.82)",borderColor:"#FFFFCC",showDelay:0,hideDelay:0,enterable:!0,transitionDuration:0,extraCssText:"z-index:100",formatter:function(e,r,a){var o="",l=e.name,t=e.value[e.seriesIndex+1];return o="<span style='color:#fff;'>"+l+"</span><br/>数据："+t,o}},backgroundColor:"#013954",title:{text:`绵阳市
对主要城市的交通吸引`,left:"center",textStyle:{color:"#fff",fontSize:30}},visualMap:{min:0,max:1,calculable:!0,show:!0,color:["#f44336","#fc9700","#ffde00","#ffde00","#00eaff"],textStyle:{color:"#fff"}},geo:{map:"china",zoom:1.2,label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{color:"rgba(51, 69, 89, .5)",borderColor:"#516a89",borderWidth:2},emphasis:{color:"rgba(37, 43, 61, .5)"}}},series};
