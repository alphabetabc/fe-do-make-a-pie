var uploadedDataURL="/asset/get/s/data-1565258572056-CxztNlcgK.json",chinaGeoCoordMap={黑龙江:[127.9688,45.368],加拿大:[-106.346771,56.130366],内蒙古:[110.3467,41.4899],吉林:[125.8154,44.2584],北京市:[116.4551,40.2539],辽宁:[123.1238,42.1216],河北:[114.4995,38.1006],天津:[117.4219,39.4189],山西:[112.3352,37.9413],陕西:[109.1162,34.2004],甘肃:[103.5901,36.3043],宁夏:[106.3586,38.1775],青海:[101.4038,36.8207],新疆:[87.9236,43.5883],西藏:[91.11,29.97],四川:[103.9526,30.7617],重庆:[108.384366,30.439702],山东:[117.1582,36.8701],河南:[113.4668,34.6234],江苏:[118.8062,31.9208],安徽:[117.29,32.0581],湖北:[114.3896,30.6628],浙江:[119.5313,29.8773],福建:[119.4543,25.9222],江西:[116.0046,28.6633],湖南:[113.0823,28.2568],贵州:[106.6992,26.7682],云南:[102.9199,25.4663],广东:[113.12244,23.009505],广西:[108.479,23.1152],海南:[110.3893,19.8516],上海:[121.4648,31.2891]},chinaDatas=[[{name:"黑龙江",value:10},{name:"天津"}],[{name:"天津",value:20},{name:"黑龙江"}],[{name:"吉林",value:30},{name:"加拿大"}],[{name:"辽宁",value:40},{name:"上海"}],[{name:"河北",value:50},{name:"上海"}],[{name:"天津",value:60},{name:"上海"}],[{name:"山西",value:70},{name:"上海"}],[{name:"陕西",value:80},{name:"上海"}],[{name:"甘肃",value:90},{name:"上海"}],[{name:"宁夏",value:100},{name:"上海"}],[{name:"青海",value:110},{name:"上海"}],[{name:"新疆",value:120},{name:"青海"}]],convertData=function(a){for(var o=[],e=0;e<a.length;e++){var l=a[e],r=chinaGeoCoordMap[l[0].name],t=chinaGeoCoordMap[l[1].name];r&&t&&o.push([{coord:r,value:l[0].value},{coord:t}])}return o},series=[];[["北京市",chinaDatas]].forEach(function(a,o){series.push({type:"lines",zlevel:2,effect:{show:!0,period:0,trailLength:.02,symbol:"arrow",symbolSize:5},lineStyle:{normal:{width:1,opacity:1,curveness:.3}},data:convertData(a[1])},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",offset:[2,0],formatter:function(e){return e.data.name},fontSize:10},emphasis:{show:!0}},symbol:"circle",symbolSize:function(e){return 1+e[2]/6e3},itemStyle:{normal:{show:!1,color:"#f00"}},data:a[1].map(function(e){return{name:e[0].name,value:chinaGeoCoordMap[e[0].name].concat([e[0].value])}})},{type:"scatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"left",color:"#0f0",formatter:"{b}",textStyle:{color:"#0f0"}},emphasis:{show:!0,color:"#f60"}},symbol:"pin",symbolSize:50,data:[{name:a[0],value:chinaGeoCoordMap[a[0]].concat([a[0].value])}]})}),$.get(uploadedDataURL,function(a){echarts.registerMap("world",a),console.log(a),option={tooltip:{trigger:"item",backgroundColor:"rgba(166, 200, 76, 0.82)",borderColor:"#FFFFCC",showDelay:0,hideDelay:0,enterable:!0,transitionDuration:0,extraCssText:"z-index:100",formatter:function(o,e,l){var r="",t=o.name,n=o.value[o.seriesIndex+1];return r="<span style='color:#fff;'>"+t+"</span><br/>数据："+90,r}},backgroundColor:"#013954",visualMap:{min:0,max:1e4,calculable:!0,show:!0,color:["#f44336","#fc9700","#ffde00","#ffde00","#00eaff"],textStyle:{color:"#fff"}},geo:{map:"world",zoom:5,center:[104.2978515625,35.8544921875],label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{color:"rgba(51, 69, 89, .5)",borderColor:"#516a89",borderWidth:1},emphasis:{color:"rgba(37, 43, 61, .5)"}},regions:[{name:"China",itemStyle:{normal:{borderColor:"#0066ff",borderWidth:1,areaColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#ff6600"},{offset:1,color:"#0066ff"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}}}]},series},myChart.setOption(option)});
