var worldGeoCoordMap={美国蒙特里:[-121.874729,36.541478],荷兰奥特芬:[5.057415,52.735095],中国上海:[121.4648,31.2891]},worldDatas=[[{name:"美国蒙特里",value:0}],[{name:"荷兰奥特芬",value:0}],[{name:"中国上海",value:0}]],convertData=function(e){for(var a=[],r=0;r<e.length;r++){var o=e[r],l=worldGeoCoordMap[o[0].name],t=[121.4648,31.2891];l&&t&&a.push([{coord:l,value:o[0].value},{coord:t}])}return a},series=[];[["中国上海",worldDatas]].forEach(function(e,a){console.log(e),series.push({type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:5},lineStyle:{normal:{width:1,opacity:1,curveness:.3}},data:convertData(e[1])},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",offset:[5,0],formatter:function(r){return r.data.name},fontSize:13},emphasis:{show:!0}},symbol:"circle",symbolSize:function(r){return 5+r[2]*5},itemStyle:{normal:{show:!1,color:"#f00"}},data:e[1].map(function(r){return{name:r[0].name,value:worldGeoCoordMap[r[0].name].concat([r[0].value])}})},{type:"scatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",color:"#0f0",formatter:"{b}",textStyle:{color:"#0f0"}},emphasis:{show:!0,color:"#f60"}},symbol:"pin",symbolSize:50,data:[{name:e[0],value:worldGeoCoordMap[e[0]].concat([10])}]})}),option={tooltip:{trigger:"item",backgroundColor:"rgba(166, 200, 76, 0.82)",borderColor:"#FFFFCC",showDelay:0,hideDelay:0,enterable:!0,transitionDuration:0,extraCssText:"z-index:100",formatter:function(e,a,r){var o="",l=e.name,t=e.value[e.seriesIndex+1];return o="<span style='color:#fff;'>"+l+"</span><br/>数据："+t,o}},backgroundColor:"#013954",visualMap:{min:0,max:1,calculable:!0,show:!0,color:["#f44336","#fc9700","#ffde00","#ffde00","#00eaff"],textStyle:{color:"#fff"}},geo:{map:"world",zoom:1.2,label:{emphasis:{show:!1}},roam:!0,itemStyle:{normal:{color:"rgba(51, 69, 89, .5)",borderColor:"#516a89",borderWidth:1},emphasis:{color:"rgba(37, 43, 61, .5)"}}},series};
