var flyLineColor="yellow",lineColor="rgba(31,20,252,1)",lightColor="red",ScatterColor="yellow",mapAreaColor="#06265c",textColor="#fff",geoCoordMap={上海:[121.4648,31.2891],尼日利亚:[-4.388361,11.186148],美国洛杉矶:[-118.24311,34.052713],香港邦泰:[114.195466,22.282751],美国芝加哥:[-87.801833,41.870975],加纳库马西:[-4.62829,7.72415],英国曼彻斯特:[-1.657222,51.886863],德国汉堡:[10.01959,54.38474],哈萨克斯坦阿拉木图:[45.326912,41.101891],俄罗斯伊尔库茨克:[89.116876,67.757906],巴西:[-48.678945,-10.493623],埃及达米埃塔:[31.815593,31.418032],西班牙巴塞罗纳:[2.175129,41.385064],柬埔寨金边:[104.88659,11.545469],意大利米兰:[9.189948,45.46623],乌拉圭蒙得维的亚:[-56.162231,-34.901113],莫桑比克马普托:[32.608571,-25.893473],阿尔及利亚阿尔及尔:[3.054275,36.753027],阿联酋迪拜:[55.269441,25.204514],匈牙利布达佩斯:[17.108519,48.179162],澳大利亚悉尼:[150.993137,-33.675509],美国加州:[-121.910642,41.38028],澳大利亚墨尔本:[144.999416,-37.781726],墨西哥:[-99.094092,19.365711],加拿大温哥华:[-123.023921,49.311753]},BJData=[[{name:"尼日利亚",value:9100},{name:"香港邦泰"}],[{name:"美国洛杉矶",value:2370},{name:"香港邦泰"}],[{name:"香港邦泰",value:3130},{name:"香港邦泰"}],[{name:"美国芝加哥",value:2350},{name:"香港邦泰"}],[{name:"加纳库马西",value:5120},{name:"香港邦泰"}],[{name:"英国曼彻斯特",value:3110},{name:"香港邦泰"}],[{name:"德国汉堡",value:6280},{name:"上海"}],[{name:"哈萨克斯坦阿拉木图",value:7255},{name:"上海"}],[{name:"俄罗斯伊尔库茨克",value:8125},{name:"上海"}],[{name:"巴西",value:3590},{name:"上海"}],[{name:"埃及达米埃塔",value:3590},{name:"上海"}],[{name:"西班牙巴塞罗纳",value:3590},{name:"上海"}],[{name:"柬埔寨金边",value:3590},{name:"上海"}],[{name:"意大利米兰",value:3590},{name:"上海"}],[{name:"乌拉圭蒙得维的亚",value:3590},{name:"上海"}],[{name:"莫桑比克马普托",value:3590},{name:"上海"}],[{name:"阿尔及利亚阿尔及尔",value:3590},{name:"上海"}],[{name:"阿联酋迪拜",value:3590},{name:"上海"}],[{name:"匈牙利布达佩斯",value:3590},{name:"上海"}],[{name:"澳大利亚悉尼",value:3590},{name:"上海"}],[{name:"美国加州",value:3590},{name:"上海"}],[{name:"澳大利亚墨尔本",value:3590},{name:"上海"}],[{name:"墨西哥",value:3590},{name:"上海"}],[{name:"加拿大温哥华",value:3590},{name:"上海"}]],convertData=function(e){for(var r=[],a=0;a<e.length;a++){var o=e[a],l=geoCoordMap[o[0].name],n=geoCoordMap[o[1].name];l&&n&&r.push([{coord:l,value:o[0].value},{coord:n}])}return r},series=[];[["上海",BJData]].forEach(function(e,r){series.push({type:"lines",zlevel:3,effect:{show:!0,period:4,trailLength:.7,symbol:"arrow",symbolSize:3,color:flyLineColor},lineStyle:{normal:{width:0,curveness:.2}},data:convertData(e[1])},{type:"lines",zlevel:2,symbolSize:10,effect:{show:!1,period:6,trailLength:0},lineStyle:{color:lineColor,width:1,opacity:.8,curveness:.2},data:convertData(e[1])},{type:"effectScatter",coordinateSystem:"geo",zlevel:1,rippleEffect:{period:6,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",offset:[8,0],formatter:"{b}",color:textColor,fontSize:10,lineHeight:14,borderWidth:1,backgroundColor:"#061a4c",borderColor:"#97b5f0",padding:3},emphasis:{show:!0}},symbol:"circle",symbolSize:12,itemStyle:{normal:{show:!0,color:ScatterColor,shadowBlur:10,shadowColor:ScatterColor}},data:e[1].map(function(a){return{name:a[0].name,value:geoCoordMap[a[0].name].concat([a[0].value])}})},{type:"scatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:4},label:{normal:{show:!0,position:"right",formatter:"{b}",color:textColor,fontSize:10,lineHeight:14,borderWidth:1,backgroundColor:"#061a4c",borderColor:"#97b5f0",padding:3},emphasis:{show:!0}},symbol:"pin",symbolSize:30,itemStyle:{normal:{show:!0,color:ScatterColor}},data:[{name:e[0],value:geoCoordMap[e[0]].concat([100])}]},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,symbol:"circle",symbolSize:12,rippleEffect:{period:4,brushType:"fill",scale:12},itemStyle:{normal:{show:!0,shadowBlur:12,shadowColor:"red",color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"red"},{offset:.8,color:"transparent"},{offset:1,color:"red"}],global:!1}}},label:{normal:{show:!1}},data:[{name:e[0],value:geoCoordMap[e[0]].concat([100])}]},{type:"map",roam:!0,layoutCenter:["50%","50%"],layoutSize:"180%",label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{areaColor:mapAreaColor,borderColor:"#8F98A6"},emphasis:{areaColor:lightColor}},map:"world",data:[{selected:!0,name:"China"}]})}),option={backgroundColor:"#000",title:{text:"",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item",backgroundColor:"#1540a1",borderColor:"#FFFFCC",showDelay:0,hideDelay:0,enterable:!0,transitionDuration:0,extraCssText:"z-index:100",formatter:function(e,r,a){var o="",l=e.name,n=e.value[e.seriesIndex+1];return o="<span style='color:#fff;'>"+l+"</span><br/>数据："+n,o}},geo:{show:!1,map:"world",label:{emphasis:{show:!1}},roam:!0,layoutCenter:["50%","50%"],layoutSize:"180%",itemStyle:{normal:{areaColor:mapAreaColor,borderColor:"#8F98A6"},emphasis:{areaColor:"#2a333d"}}},series};
