var mapData={num:[10,15],mapColor:"#5c9ac1",borderColor:"#5278a7",shadowColor:"#5174a4",shadowBlur:2,setIntervalTime:2e3},data=[{name:"库尔勒",value:86},{name:"拉萨",value:120},{name:"西宁",value:86},{name:"成都",value:120},{name:"银川",value:70},{name:"呼和浩特",value:86},{name:"呼和浩特右",value:86},{name:"哈尔滨",value:86},{name:"天津",value:40},{name:"南宁",value:120},{name:"太原",value:40},{name:"澳门",value:100},{name:"石家庄",value:86},{name:"济南",value:70},{name:"武汉",value:86},{name:"长沙",value:86},{name:"南昌",value:60},{name:"南京",value:70},{name:"上海",value:140},{name:"福州",value:86},{name:"香港",value:140},{name:"广州",value:50},{name:"北京",value:120}],geoCoordMap={库尔勒:[86.06,41.68],拉萨:[87.852814,32.027792],西宁:[95.800446,36.426903],成都:[102.71783,31.587876],银川:[105.955754,37.3138],呼和浩特:[111.916478,40.756366],呼和浩特右:[118.024381,42.740123],哈尔滨:[127.002262,46.623208],北京:[116.479008,40.137923],天津:[117.288489,39.228155],太原:[112.358013,37.665644],石家庄:[115.522348,35.889795],济南:[118.833862,36.605113],武汉:[111.401354,30.8288413],长沙:[112.358013,27.535879],南昌:[115.301581,27.601462],南京:[119.643343,31.902318],上海:[121.556662,31.145853],福州:[119.128219,26.811868],南宁:[108.384197,23.191126],香港:[115.301581,23.937347],广州:[111.254175,23.734258],澳门:[110.591873,21.617284]},convertData=function(e){for(var r=[],a=0;a<e.length;a++){var o=geoCoordMap[e[a].name];o&&r.push({name:e[a].name,value:o.concat(e[a].value)})}return r};function randNum2(e,r,a){if(a>r-e)return console.error("范围太小"),!1;var o=r-e,l=e+1,t=[],m="";function u(n){for(n;n<a;n++){var s=Math.random();if(m=Math.floor(s*o+l),t.indexOf(m)==-1)t.push(m);else{u(n);break}}}return u(0),t}function getSeries(e){if(!e){var r=randNum2(mapData.num[0],mapData.num[1],1)[0],a=data.length-1;e=randNum2(0,a,r)}var o=[];return e.forEach(l=>{o.push(data[l])}),convertData(o)}option={background:"transparent",tooltip:{},geo:{map:"china",label:{emphasis:{show:!1}},regions:[{name:"南海诸岛",value:0,itemStyle:{normal:{opacity:0,label:{show:!1}}}}],roam:!0,itemStyle:{normal:{areaColor:mapData.mapColor,borderColor:mapData.borderColor,shadowColor:mapData.shadowColor,shadowBlur:mapData.shadowBlur},emphasis:{areaColor:mapData.mapColor}}},series:[{name:"正常频率较慢",type:"effectScatter",coordinateSystem:"geo",data:getSeries([0,1,2,3,4,5,6,7]),symbolSize:function(e){return e[2]/8},showEffectOn:"render",rippleEffect:{brushType:"stroke",scale:2,period:5},hoverAnimation:!0,itemStyle:{normal:{color:"rgba(255, 255, 255, .6)",shadowBlur:10,shadowColor:"rgba(255, 255, 255, .6)"}},zlevel:1},{name:"高亮频率较快",type:"effectScatter",coordinateSystem:"geo",data:getSeries([15,14,13,12,11,10,9,8]),symbolSize:function(e){return e[2]/8},showEffectOn:"render",rippleEffect:{brushType:"stroke",scale:3,period:3},hoverAnimation:!0,itemStyle:{normal:{color:"rgba(255, 255, 255, .8)",shadowBlur:10,shadowColor:"rgba(255, 255, 255, .8)"}},zlevel:2},{name:"高亮频率特快",type:"effectScatter",coordinateSystem:"geo",data:getSeries([22,21,20,19,18,17,16]),symbolSize:function(e){return e[2]/8},showEffectOn:"render",rippleEffect:{brushType:"stroke",scale:3,period:2},hoverAnimation:!0,itemStyle:{normal:{color:"rgba(255, 255, 255, 1)",shadowBlur:10,shadowColor:"#fff"}},zlevel:2}],animationDelayUpdate:function(e){return e*30}};
