data=[{name:"省内",value:2287285},{name:"省外",value:255746},{name:"境外",value:233}];let color=["#00C7FF","#3068FF","#1D38C9"],seriesObj=[],invisibleStyle={normal:{label:{show:!1},labelLine:{show:!1},color:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0}},showStyle={normal:{label:{show:!1},labelLine:{show:!1},color:"rgba(0,99,187,0.3)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0}},styleDatas=[];data.forEach(e=>{styleDatas.push({value:e.value,dataObj:e,itemStyle:invisibleStyle})}),data&&data.forEach((e,a)=>{let t=a%3,l=58-a*4,s=JSON.parse(JSON.stringify(styleDatas));s[a].itemStyle={normal:{color:color[t]}},seriesObj.push({name:"",type:"pie",radius:["35%",l+"%"],hoverAnimation:!1,z:0,zlevel:0,startAngle:90,minAngle:10,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},data:s})});let pieData1=[{value:41,show:!0},{value:39,show:!1},{value:41,show:!0},{value:39,show:!1}],pieData2=[{value:2,show:!0},{value:60,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:60,show:!1},{value:2,show:!0},{value:60,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:12,show:!1},{value:2,show:!0},{value:60,show:!1}],pieData3=[{value:2,show:!0},{value:88,show:!1},{value:2,show:!0},{value:88,show:!1},{value:2,show:!0},{value:88,show:!1},{value:2,show:!0},{value:88,show:!1}],pieData4=[{value:1,show:!0}],pieData5=[{value:10,show:!0},{value:10,show:!1},{value:45,show:!0},{value:15,show:!1},{value:50,show:!0},{value:50,show:!1},{value:135,show:!0},{value:45,show:!1}],bgPieStyle=function(e,a,t){let l=e;l.forEach(s=>{s.show?s.itemStyle=showStyle:s.itemStyle=invisibleStyle}),seriesObj.push({type:"pie",radius:a,silent:!0,startAngle:t,hoverAnimation:!1,labelLine:{normal:{show:!1},emphasis:{show:!1}},data:l})};bgPieStyle(pieData4,["25%","28%"],90),bgPieStyle(pieData1,["64%","66%"],-45),bgPieStyle(pieData2,["64%","70%"],90),bgPieStyle(pieData3,["66%","96%"],135),bgPieStyle(pieData4,["80%","82%"],90),bgPieStyle(pieData5,["75%","87%"],60),bgPieStyle(pieData1,["96%","98%"],45);let maxData=function(){let e=0,a=0,t=!1;return data.forEach(l=>{e+=l.value,a=a>l.value?a:l.value}),data.forEach(l=>{l.value/e<.01&&(t=!0)}),{max:a,flag:t}},percentData=maxData();option={backgroundColor:"#09384E",tooltip:{trigger:"item",formatter:function(e){if(e.data.dataObj){let a=e.data.dataObj;return percentData.flag===!0&&a.value===percentData.max?(e.percent-=.01,`${a.name} : ${e.percent.toFixed(2)}%`):e.percent<=.01?`${a.name} : ≤0.01%`:`${a.name} : ${e.percent.toFixed(2)}%`}}},series:seriesObj};
