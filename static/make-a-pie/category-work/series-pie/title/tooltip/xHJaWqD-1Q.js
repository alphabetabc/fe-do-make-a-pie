var data=[{RoadSection:"管1",FaultName:"问题1"},{RoadSection:"管1",FaultName:"问题2"},{RoadSection:"管1",FaultName:"问题3"},{RoadSection:"管1",FaultName:"问题2"},{RoadSection:"管1",FaultName:"问题3"},{RoadSection:"管1",FaultName:"问题4"},{RoadSection:"管1",FaultName:"问题5"},{RoadSection:"管1",FaultName:"问题5"},{RoadSection:"管2",FaultName:"问题6"},{RoadSection:"管2",FaultName:"问题6"},{RoadSection:"管2",FaultName:"问题6"},{RoadSection:"管3",FaultName:"问题7"},{RoadSection:"管3",FaultName:"问题5"},{RoadSection:"管3",FaultName:"问题7"},{RoadSection:"管3",FaultName:"问题5"},{RoadSection:"管3",FaultName:"问题5"},{RoadSection:"管3",FaultName:"问题5"},{RoadSection:"管3",FaultName:"问题5"},{RoadSection:"管3",FaultName:"问题5"},{RoadSection:"管3",FaultName:"问题5"},{RoadSection:"管4",FaultName:"问题2"},{RoadSection:"管4",FaultName:"问题7"},{RoadSection:"管4",FaultName:"问题5"},{RoadSection:"管4",FaultName:"问题6"},{RoadSection:"管4",FaultName:"问题5"},{RoadSection:"管4",FaultName:"问题5"},{RoadSection:"管4",FaultName:"问题5"},{RoadSection:"管4",FaultName:"问题5"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管5",FaultName:"问题6"},{RoadSection:"管6",FaultName:"问题8"},{RoadSection:"管6",FaultName:"问题8"},{RoadSection:"管7",FaultName:"问题5"},{RoadSection:"管7",FaultName:"问题5"},{RoadSection:"管7",FaultName:"问题6"},{RoadSection:"管7",FaultName:"问题5"},{RoadSection:"管7",FaultName:"问题6"},{RoadSection:"管7",FaultName:"问题5"},{RoadSection:"管8",FaultName:"问题5"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题1"},{RoadSection:"管8",FaultName:"问题5"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题5"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题4"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题4"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题7"},{RoadSection:"管8",FaultName:"问题5"},{RoadSection:"管8",FaultName:"问题4"},{RoadSection:"管9",FaultName:"问题2"},{RoadSection:"管9",FaultName:"问题9"},{RoadSection:"管9",FaultName:"问题7"},{RoadSection:"管9",FaultName:"问题2"},{RoadSection:"管9",FaultName:"问题2"},{RoadSection:"管9",FaultName:"问题10"},{RoadSection:"管10",FaultName:"问题6"},{RoadSection:"管10",FaultName:"问题6"},{RoadSection:"管10",FaultName:"问题5"},{RoadSection:"管10",FaultName:"问题5"},{RoadSection:"管11",FaultName:"问题7"},{RoadSection:"管11",FaultName:"问题10"},{RoadSection:"管11",FaultName:"问题7"},{RoadSection:"管11",FaultName:"问题10"},{RoadSection:"管11",FaultName:"问题5"},{RoadSection:"管11",FaultName:"问题5"},{RoadSection:"管12",FaultName:"问题1"},{RoadSection:"管12",FaultName:"问题6"},{RoadSection:"管12",FaultName:"问题6"},{RoadSection:"管12",FaultName:"问题6"}];function getSectionData(o){for(var a={items:[],others:[]},t=0,l=0,e=0;e<o.length;e++)e<o.length-4?(a.others.push(o[e]),t+=o[e].value):a.items.push(o[e]),l+=o[e].value;return a.items.push({value:t,name:"其他"}),a.others.push({value:l-t,name:"placeholder",itemStyle:{normal:{label:{show:!1},labelLine:{show:!1},color:"transparent",borderColor:"transparent",borderWidth:0},emphasis:{color:"transparent",borderColor:"transparent",borderWidth:0,label:{show:!1}}},tooltip:{formatter:function(){return""},backgroundColor:"transparent",borderColor:"transparent",height:0,width:0}}),a}function getTypeDataForChart(o){var a=[];return o.forEach(function(t){if(a.length===0)a.push({value:1,name:t.FaultName});else{var l=a.some(function(e){return t.FaultName==e.name});l?a.forEach(function(e){e.name==t.FaultName&&e.value++}):a.push({value:1,name:t.FaultName})}}),a.sort(function(t,l){return t.value-l.value})}var newData=getSectionData(getTypeDataForChart(data)),option={title:[{text:"各问题类型占比",textStyle:{color:"#333",fontSize:"14"}}],tooltip:{formatter:"{b} ({c} 处)"},series:[{name:"各缺陷类型占比",type:"pie",radius:"60%",center:["60%","60%"],hoverAnimation:!1,data:newData.items,labelLine:{normal:{show:!0,length:5,length2:5}},itemStyle:{normal:{label:{show:!0,position:"inside",formatter:`{b} 
 ({d}%)`}}}},{name:"其他",type:"pie",clockWise:!1,radius:["70%","80%"],center:["60%","60%"],data:newData.others,labelLine:{normal:{show:!0,length:10,length2:10}},itemStyle:{normal:{label:{show:!0,formatter:"{b}({d}%)"}}}}]};
