var color=["#0CD2E6","#3751E6","#FFC722","#886EFF","#008DEC","#114C90","#00BFA5"],title="自动切换轮播",seriesData=[{name:"A需求类型",value:30},{name:"B需求类型",value:10},{name:"C需求类型",value:15},{name:"D需求类型",value:23},{name:"E需求类型",value:10},{name:"其他",value:12}],option={backgroundColor:"#050e31",color,title:{top:20,text:title,textStyle:{fontSize:20,color:"#DDEEFF"}},grid:{top:"15%",left:0,right:"1%",bottom:5,containLabel:!0},series:[{name:"需求类型占比",type:"pie",center:["50%","50%"],radius:["45%","65%"],label:{normal:{show:!1,position:"center",formatter:`{value|{c}}
{label|{b}}`,rich:{value:{padding:5,align:"center",verticalAlign:"middle",fontSize:32},label:{align:"center",verticalAlign:"middle",fontSize:16}}},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{show:!1,length:0,length2:0},data:seriesData}]};myChart.setOption(option);var currentIndex=-1;console.log(option);var dataLen=option.series[0].data.length,timer=0;setInterval(()=>{if(console.log(123),timer++,timer==5){for(let e in arr)arr[e].value=(Math.random()*50+100).toFixed(0);myChart.setOption({series:[{data:arr}]}),timer=1}myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:currentIndex}),currentIndex=(currentIndex+1)%dataLen,myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:currentIndex}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:currentIndex})},3e3);
