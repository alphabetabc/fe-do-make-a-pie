var radius=[[100,114],[128,142]],maxValue=100,colorReMain="#E8E8E8",datalist=[{name:"经理分配",value:40,color:"#409EFF"},{name:"关联需求",value:0,color:"#e6a23c"}];function getOption(o){for(var r=[],a=0;a<o.length;a++){var e=o[a],l=e.value*100/maxValue;r.push({type:"pie",radius:radius[a],center:["50%","50%"],hoverAnimation:!1,clockwise:!1,label:{show:!1},labelLine:{show:!1},data:[{name:"remainCircle",value:0,itemStyle:{color:e.color},label:{show:!0,position:"inside",padding:[6,0,0,0],borderRadius:30,rich:{name:{width:14,height:14,borderRadius:10,backgroundColor:e.color}},formatter(){return"{name|}"}}},{name:"remain",value:maxValue-e.value,itemStyle:{borderColor:colorReMain,borderWidth:0,color:colorReMain},label:{show:!1},emphasis:{itemStyle:{borderColor:colorReMain,borderWidth:0,color:colorReMain}}},{name:"remainCircle",value:0,curVal:e.value,label:{show:!0,rotate:!0,position:"inside",borderRadius:30,rich:{margin:{width:6},name:{width:14,height:14,borderRadius:10,backgroundColor:e.color}},formatter:l?l<50?"{name|}{margin|}":"{margin|}{name|}":""}},{name:e.name,value:e.value,itemStyle:{color:e.color},label:datalist.length<2?{show:!0,position:"center",rich:{num:{fontSize:42,color:"#000",padding:[5,0,0,0]},name:{fontSize:12,color:"#000"}},formatter(n){return`{num|${n.value}}
{name|${n.name}}`}}:{show:!1}}]})}return r.push({type:"pie",radius:[0,radius[0][0]],center:["50%","50%"],hoverAnimation:!1,clockwise:!1,labelLine:{show:!1},data:[{name:"remain",value:1,itemStyle:{color:"transparent"}}],label:{show:!0,position:"center",rich:{num:{fontSize:42,color:"#000",padding:[5,0,0,0]},name:{fontSize:12,color:"#000"}},formatter(){return`{num|${maxValue}}
{name|中间统计}`}},animation:!1}),{title:{text:"radius pie"},series:r}}var indexvalue=0,speed=1;myChart.setOption(getOption(datalist)),window.setInterval(function(){datalist[1].value=indexvalue+=speed,(indexvalue>100||indexvalue<0)&&(speed=-speed),myChart.setOption(getOption(datalist),!0)},100);
