let sum=100,width=200;var data=[{value:70,name:"70%",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}},{value:30,name:"30%",label:{color:"#fff"},itemStyle:{},emphasis:{itemStyle:{}}}];let preAngle=0,everyAngle=360/sum;function angleText(l,a){var e=preAngle+everyAngle*a/2;if(preAngle+=everyAngle*a,e<=90)return-e;if(e<=180&&e>90)return 180-e;if(e<270&&e>180)return 180-e;if(e<360&&e>=270)return 360-e}data1=JSON.parse(JSON.stringify(data));for(var data2=[],color=["#00ffff","#00cfff","#006ced","#ffe000","#ffa800","#ff5b00","#ff3000"],i=0;i<data1.length;i++)data1[i].name=(100*(data1[i].value/sum)).toFixed(0)+"%",data1[i].label.rotate=angleText(i,data1[i].value),data2.push({value:data[i].value,name:data[i].name,itemStyle:{normal:{borderWidth:width*.04,shadowBlur:4,borderColor:color[i],shadowColor:color[i]}}},{value:2,name:"",itemStyle:{normal:{label:{show:!1},labelLine:{show:!1},color:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0}}});option={title:{text:"Awesome Chart"},series:[{type:"pie",radius:[width*.36,width*.46],hoverAnimation:!1,label:{normal:{position:"inside",fontWeight:"bold",textStyle:{color:"#fff",fontSize:width*.06}}},name:"",data:data1},{name:"",type:"pie",clockWise:!0,radius:[width*.5,width*.54],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},data:data2}]};
