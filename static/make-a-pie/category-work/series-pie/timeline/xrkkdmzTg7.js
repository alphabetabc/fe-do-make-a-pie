var chartData={timelineData:["1月","2月","3月"],optionsData:{"1月":[{fault:1,target:5},{fault:2,target:6},{fault:3,target:7},{fault:8,target:5}],"2月":[{fault:2,target:5},{fault:3,target:6},{fault:1,target:7},{fault:2,target:5}],"3月":[{fault:4,target:5},{fault:9,target:6},{fault:5,target:7},{fault:5,target:5}]},xData:["系统1","系统2","系统3","系统4"]},dataMap={};function getColor(e){return e.fault>e.target?["#EA1644","rgba(212,212,212,0.3)"]:["#27EBBD","rgba(212,212,212,0.3)"]}function dataFormatter(e){var t,o={};for(var r of Object.keys(e)){t=e[r],o[r]=[];for(var a=0,l=t.length;a<l;a++)o[r][a*2]={data:[{value:t[a].target,name:"",itemStyle:{opacity:0},label:{show:!1}},{value:t[a].fault,name:`故障
${t[a].fault}`,itemStyle:{color:getColor(t[a])[0]}}]},o[r][a*2+1]={data:[{value:t[a].fault,name:"",itemStyle:{opacity:0},label:{show:!1}},{value:t[a].target,name:`目标
${t[a].target}`,itemStyle:{color:getColor(t[a])[1]}}]}}return o}function optionsFormatter(){var e=[];for(var t of chartData.timelineData)e.push({series:dataMap.dataGDP[t]});return e}function seriesFormatter(){var e=[];const t={type:"pie",selectedMode:"single",label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}}};for(var o=["12%","37%","62%","87%"],r=0;r<chartData.xData.length;r++)e.push({type:"pie",selectedMode:"single",radius:["15%","18%"],center:[`${o[r]}`,"47%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}}}),e.push({type:"pie",selectedMode:"single",radius:["12%","15%"],center:[`${o[r]}`,"47%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}}});return e}dataMap.dataGDP=dataFormatter(chartData.optionsData),option={baseOption:{backgroundColor:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"#0f2c70"},{offset:1,color:"#091732"}],globalCoord:!1},timeline:{show:!0,bottom:150,axisType:"category",autoPlay:!0,currentIndex:0,playInterval:3e3,data:chartData.timelineData,itemStyle:{color:"#27C4F8"},label:{textStyle:{color:"#d0d0d0"}},lineStyle:{color:"#57657c"},checkpointStyle:{color:"#27C4F8",borderColor:"rgba(39,196,248,0.5)"},controlStyle:{color:"#57657c",borderColor:"#57657c"},emphasis:{controlStyle:{color:"#27C4F8",borderColor:"#27C4F8"},itemStyle:{color:"#27C4F8"}}},series:seriesFormatter()},options:optionsFormatter()};
