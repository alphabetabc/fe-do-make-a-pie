var testData=[{name:"书房",value:40},{name:"客厅",value:20},{name:"厨房",value:10},{name:"卫生间",value:10},{name:"房间",value:45,children:[{name:"主卧",value:25},{name:"次卧",value:20}]}];function colorMappingChange(e){var t=getLevelOption(e);chart.setOption({series:[{levels:t}]})}var formatUtil=echarts.format;function getLevelOption(){return[{itemStyle:{normal:{borderWidth:0,gapWidth:5}}},{itemStyle:{normal:{gapWidth:1}}},{colorSaturation:[.35,.5],itemStyle:{normal:{gapWidth:1,borderColorSaturation:.6}}}]}myChart.setOption(option={title:{text:"房间平面图"},tooltip:{formatter:function(e){for(var t=e.value,r=e.treePathInfo,o=[],a=1;a<r.length;a++)o.push(r[a].name);return['<div class="tooltip-title">'+formatUtil.encodeHTML(o.join("/"))+"</div>","面积: "+formatUtil.addCommas(t)+" m²"].join("")}},series:[{name:"平面图",type:"treemap",visibleMin:300,label:{show:!0,formatter:"{b}"},itemStyle:{normal:{borderColor:"#fff"}},levels:getLevelOption(),data:testData}]});
