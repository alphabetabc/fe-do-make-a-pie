let time="2021-11",maxArr=[],month=new Date(time).getMonth()+1;for(var year=new Date(time).getFullYear(),datas=[],dataLength=new Date(year,month).toJSON().substring(0,10).split("-")[2],i=0;i<Number(dataLength);i++){let t=month>=10?month:"0"+month,e=i+1>=10?i+1:"0"+(i+1);datas.push({date:year+"-"+t+"-"+e,total:Math.floor(Math.random()*100)})}let chartData=[];datas.forEach(t=>{maxArr.push(t.total),chartData.push({value:[t.date,t.total]})});let thisMonth=time;option={tooltip:{backgroundColor:"#3A5B90",textStyle:{color:"#A7E4FD",fontSize:18},formatter:function(t){return"入场车辆数: "+t.value[1]}},visualMap:{min:0,max:300,inRange:{color:["#1EBED4","#1CE4FF","#1780AC"]},show:!1},calendar:{cellSize:["auto",52],left:"10%",right:"10%",top:"10%",orient:"vertical",range:[thisMonth],itemStyle:{borderColor:"#060F2C",borderWidth:1},splitLine:{show:!1},yearLabel:{show:!1},monthLabel:{show:!1},dayLabel:{firstDay:1,margin:10,nameMap:"cn",textStyle:{color:"#579AF9",fontSize:16}}},series:[{type:"scatter",coordinateSystem:"calendar",symbolSize:1,label:{normal:{show:!0,formatter:function(t){var e=echarts.number.parseDate(t.value[0]);return e.getDate()},textStyle:{color:"#fff",fontSize:20,textShadowColor:"#0B1131",textShadowBlur:0,textShadowOffsetX:1,textShadowOffsetY:1}}},data:chartData},{type:"heatmap",coordinateSystem:"calendar",data:chartData}]};
