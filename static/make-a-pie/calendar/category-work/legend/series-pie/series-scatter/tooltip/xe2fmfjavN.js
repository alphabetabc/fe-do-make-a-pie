var cellSize=[70,40],pieRadius=15;function getVirtulData(){for(var e=+echarts.number.parseDate("2017-02-01"),l=+echarts.number.parseDate("2017-03-01"),i=3600*24*1e3,n=[],a=e;a<l;a+=i)n.push([echarts.format.formatTime("yyyy-MM-dd",a),Math.floor(Math.random()*1e4)]);return n}function getPieSeries(e,l){return echarts.util.map(e,function(i,n){var a=l.convertToPixel("calendar",i),c=echarts.format.formatTime("d",i[0]),s=[0,0,1,2,3,4,5,5,4,3,2,1,0,0,0,1,2,3,4,5,5,4,3,4,5,5,4,3],o=[100,100,101,102,103,104,5,5,4,3,2,1,0,0,0,1,2,3,4,5,5,4,3,4,5,5,4,3],t=[{name:"优",value:100}],r=c-1;switch(console.log(),s[r]){case 0:t=[{name:"优",value:o[r]}];break;case 1:t=[{name:"良",value:o[r]}];break;case 2:t=[{name:"轻度",value:o[r]}];break;case 3:t=[{name:"中度",value:o[r]}];break;case 4:t=[{name:"重度",value:o[r]}];break;case 5:t=[{name:" 严重",value:o[r]}];break;default:break}return{id:n+"pie",type:"pie",center:a,label:{normal:{formatter:"",position:"inside"}},radius:pieRadius,data:t}})}function getPieSeriesUpdate(e,l){return echarts.util.map(e,function(i,n){var a=l.convertToPixel("calendar",i);return{id:n+"pie",center:a}})}var scatterData=getVirtulData();option={tooltip:{},legend:{data:[{name:"优",icon:"circle",textStyle:{color:"white"}},{name:"良",icon:"circle",textStyle:{color:"white"}},{name:"轻度",icon:"circle",textStyle:{color:"white"}},{name:"中度",icon:"circle",textStyle:{color:"white"}},{name:"重度",icon:"circle",textStyle:{color:"white"}},{name:"严重",icon:"circle",textStyle:{color:"white"}}],bottom:20},calendar:{top:"middle",left:"center",orient:"vertical",cellSize,yearLabel:{show:!1,textStyle:{fontSize:30}},dayLabel:{margin:20,firstDay:1,nameMap:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},monthLabel:{show:!1},range:["2017-02"]},series:[{id:"label",type:"scatter",coordinateSystem:"calendar",symbolSize:1,label:{normal:{show:!0,formatter:function(e){return echarts.format.formatTime("dd",e.value[0])},textStyle:{color:"#000",fontSize:14}}},data:scatterData}]};var pieInitialized;setTimeout(function(){pieInitialized=!0,myChart.setOption({series:getPieSeries(scatterData,myChart)})},10),app.onresize=function(){pieInitialized&&myChart.setOption({series:getPieSeriesUpdate(scatterData,myChart)})};
