for(var uploadedDataURL="/asset/get/s/data-1490602888744-Bkb5iBU3g.png",hdfs_stack_bar_data={namelist:["3G4G固网日志","上网轨迹","数据源","标签","大数据实验室","BML","storm","NOC智能网管","无线CDR话单","其他 "],dataArr_bar:{"3G4G固网日志":[883.97,896.18,906.39,922.2,929.44,941.16,951.9],上网轨迹:[53.54,53.65,53.7,53.77,53.84,53.9,53.97],数据源:[698.59,696.31,696.4,696.58,699.57,702.37,701.41],标签:[535.76,536.07,536.96,538.39,539.12,539.96,539.17],大数据实验室:[10.46,10.46,10.46,10.46,10.46,10.46,10.46],BML:[204.81,204.41,204.46,204.87,204.68,204.77,203.29],storm:[.04,.04,.04,.04,.04,.04,.04],NOC智能网管:[95.09,96.51,97.62,99.46,101.27,102.01,102.58],无线CDR话单:[4.04,4.04,4.04,4.04,4.04,4.04,4.06],其他:[301.53,307.28,308.99,311.6,316.25,317.57,319.98]},dataArr_line:{"3G4G固网日志":[1.15,1.38,1.13,1.74,.78,1.26,1.14],上网轨迹:[.1,.2,.1,.12,.12,.12,.12],数据源:[.01,-.32,.01,.02,.42,.4,-.13],标签:[.05,.05,.16,.26,.13,.15,-.14],大数据实验室:[0,0,0,0,0,0,0],BML:[.06,-.19,.02,.19,-.09,.04,-.72],storm:[0,0,0,0,0,0,0],NOC智能网管:[.62,1.49,1.14,1.88,1.81,.72,.55],无线CDR话单:[0,0,0,0,0,0,0],其他:[0,.64,.85,.78,1.93,.72,1.19]}},x_line=["2017-03-10","2017-03-11","2017-03-12","2017-03-13","2017-03-14","2017-03-15","2017-03-16"],colorConsArr_hdfs=["#ffca67","#ff60a2","#bf64ff","#6c65fb","#93dffc","#fb915f","#4fc277","#3e94fe","#ff9cc5","#c46100","#9de369"],option={animation:!1,backgroundColor:"rgba(7,14,28,1)",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(7,14,28,0.9)",formatter:function(e,l){for(var s="",n="",p=0,r=0,a=0;a<e.length;a++)if(a%2===0){var t,o;e[a].hasOwnProperty("value")?t=e[a].value:t="暂无数据",e[a+1].hasOwnProperty("value")?o=e[a+1].value:o="暂无数据",t.toString().indexOf("暂无数据")<0?p+=~~t:p+=0,o.toString().indexOf("暂无数据")<0?r+=~~o:r+=0,n+="<div style='width:270px;height:13px;padding:5px 10px 6px 10px;font-size:14px;color:"+e[a].color+"'><span style='display:inline-block;margin-bottom:5px;width:12px;height:12px;border-radius:6px;background:"+e[a].color+"'></span><span style='display:inline-block;padding:0 5px 0 5px;width:95px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;'>"+e[a].seriesName+"</span><span style='display:inline-block;padding:0 5px 0 5px;width:45px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;'>"+t+"</span><span style='display:inline-block;padding:0 5px 0 5px;width:85px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;'>增长率"+o+"</span></div>"}return n+="<div style='width:270px;height:13px;padding:5px 10px 6px 10px;font-size:14px;color:#6c65fb'><span style='display:inline-block;margin-bottom:5px;width:12px;height:12px;border-radius:6px;background:url(/asset/get/s/data-1490602888744-Bkb5iBU3g.png) no-repeat center center'></span><span style='display:inline-block;padding:0 5px 0 5px;width:95px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;'>增长率</span><span style='display:inline-block;padding:0 5px 0 5px;width:45px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;'>"+p+"</span><span style='display:inline-block;padding:0 5px 0 5px;width:85px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;'>增长率"+r+"</span></div>",s="<div style='width:290px;height:100%;border-radius:8px;padding 10px 5px 10px 5px;margin-bottom:15px;'><span style='display:block;padding:16px 10px 0 10px;font-size:14px;font-weight:700;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;'>"+e[0].axisValue+"资源使用情况</span>"+n+"<span style='display:block'></div>",s}},grid:{left:"3%",right:"1%",bottom:"3%",top:"17%",containLabel:!0,borderColor:"#1d203b"},legend:{itemGap:14,right:"16%",top:"2%",data:[]},xAxis:[{type:"category",boundaryGap:!0,data:x_line,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#454e72"},formatter:function(e,l){var s=e.substring(e.indexOf("-")+1);return s.replace(/-/g,".")},margin:20},splitLine:{lineStyle:{color:"#1d203b"}}}],yAxis:[{name:"单位（T）",nameGap:20,nameTextStyle:{color:"#454e72",fontSize:12},type:"value",nameGap:15,axisLine:{show:!1},axisTick:{show:!1},scale:!0,axisLabel:{textStyle:{color:"#454e72"},margin:20},boundaryGap:[.2,.2],splitLine:{lineStyle:{color:["#1d203b"]}}},{name:"单位（%）",nameGap:20,nameTextStyle:{color:"#454e72",fontSize:12},type:"value",nameGap:15,axisLine:{show:!1},axisTick:{show:!1},scale:!0,axisLabel:{textStyle:{color:"#454e72"},margin:20},splitLine:{show:!1,lineStyle:{color:["#1d203b"]}},boundaryGap:[.2,.2]}],series:[]},i=0;i<hdfs_stack_bar_data.namelist.length+1;i++){var namelist=hdfs_stack_bar_data.namelist,series=[];i<hdfs_stack_bar_data.namelist.length?(option.series.push({name:namelist[i],type:"bar",stack:"广告",barWidth:"50%",data:hdfs_stack_bar_data.dataArr_bar[namelist[i]],itemStyle:{normal:{color:colorConsArr_hdfs[i]}}}),option.series.push({name:namelist[i],type:"line",yAxisIndex:1,data:hdfs_stack_bar_data.dataArr_line[namelist[i]],symbol:"none",smooth:!0,lineStyle:{normal:{barBorderRadius:0,width:2.5,color:colorConsArr_hdfs[i]}}}),option.legend.data.push({name:namelist[i],icon:"circle",textStyle:{color:[]}})):(option.series.push({name:"增长率",type:"bar",stack:"广告",barWidth:"52%",data:[]}),option.series.push({name:"增长率",type:"line",yAxisIndex:1,data:[],symbol:"none"}),option.legend.data.push({name:"增长率",icon:"image:///asset/get/s/data-1490602888744-Bkb5iBU3g.png",selectedMode:!1,textStyle:{color:"#6c65fb",fontSize:14}}))}myChart.setOption(option);
