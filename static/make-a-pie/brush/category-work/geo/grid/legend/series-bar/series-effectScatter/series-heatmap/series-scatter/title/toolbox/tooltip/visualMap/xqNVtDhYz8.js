var geoCoordMap={郑州市:[113.665412,34.757975],开封市:[114.341447,34.797049],洛阳市:[112.434468,34.663041],平顶山市:[113.300848978,33.7453014565],安阳市:[114.351806508,36.1102667222],鹤壁市:[114.297769838,35.7554258742],新乡市:[113.912690161,35.3072575577],焦作市:[113.211835885,35.234607555],濮阳市:[115.026627441,35.7532978882],漯河市:[114.0460614,33.5762786885],三门峡市:[111.181262093,34.7833199411],南阳市:[112.542841901,33.0114195691],商丘市:[115.641885688,34.4385886402],信阳市:[114.085490993,32.1285823075],周口市:[114.654101942,33.6237408181],许昌市:[113.83531246,34.0267395887],驻马店市:[114.049153547,32.9831581541]},data=[{name:"郑州市",value:39e3},{name:"开封市",value:73},{name:"洛阳市",value:990},{name:"平顶山市",value:3010}],convertData=function(a){for(var o=[],e=0;e<a.length;e++){var t=geoCoordMap[a[e].name];t&&o.push({name:a[e].name,value:t.concat(a[e].value)})}return o},convertedData=[convertData(data),convertData(data.sort(function(a,o){return o.value-a.value}).slice(0,6))];myChart.showLoading({animation:"QuarticIn",text:"Loading"});var option={baseOption:{backgroundColor:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"#0f378f"},{offset:1,color:"#00091a"}],globalCoord:!1},animationDurationUpdate:1e3,title:{padding:20,text:"虚构疫情状况",subtext:"国家卫健委测",sublink:"http://www.nhc.gov.cn",x:"left",textStyle:{color:"#fff"},subtextStyle:{fontStyle:"italic"}},legend:{icon:"circle",orient:"vertical",top:"7%",left:"right",data:[{name:"Top5"},{name:"散点"},{name:"热图"}],textStyle:{color:"#fff"}},tooltip:{trigger:"item"},grid:{right:"2%",top:"20%",bottom:"15%",width:"15%"},xAxis:{type:"value",scale:!0,position:"top",boundaryGap:!1,splitNumber:4,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#aaa"}}},yAxis:{type:"category",nameGap:95,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0,textStyle:{color:"#fff"}},data:[]},visualMap:{show:!1,min:0,max:4e4,pieces:[{min:2e3},{min:1500,max:2e3},{min:1e3,max:1500},{min:500,max:1e3},{min:300,max:500},{min:200,max:300},{min:5,max:200},{max:5}],inRange:{color:["#50a3ba","#eac736","#d94e5d"]},textStyle:{color:"#fff"}},geo:{roam:!0,scaleLimit:{min:.5,max:10},map:"henan",label:{normal:{show:!0,color:"#00ffff",fontSize:14},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{areaColor:"#3a7fd5",borderColor:"#0a53e9",shadowColor:"#092f8f",shadowBlur:20},emphasis:{areaColor:"#0a2dae"}},emphasis:{itemStyle:{areaColor:"#123555",shadowColor:"#000",shadowBlur:10},label:{show:!1}}},series:[{name:"热图",type:"heatmap",coordinateSystem:"geo",data:convertedData[0]},{name:"散点",type:"scatter",coordinateSystem:"geo",data:convertedData[0],symbolSize:function(a){return 5+Math.log2(a[2])},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#ddb926"}},tooltip:{trigger:"item",formatter:function(a){return a.name+" : "+a.value[2]}}},{id:"bar",zlevel:2,type:"bar",symbol:"none",itemStyle:{color:"#ddd"},emphasis:{color:"#fff",shadowColor:"rgba(255, 0, 0, 0.5)",shadowBlur:10},data:[]}]},options:[]};myChart.hideLoading(),myChart.setOption(option);
